{"version":3,"file":"js/cookiesPreference.bolt.js?v=f9857d3ad0571ca0fbb7","mappings":"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","sources":["webpack://thundr/./static/src/components/bolt/cookiesPreference/cookiesPreference.js","webpack://thundr/./static/src/components/bolt/toggle/toggle.js","webpack://thundr/./static/src/components/bolt/cookiesPreference/cookiesPreference.sss?2df2","webpack://thundr/./static/src/components/bolt/toggle/toggle.sss?7e7c"],"sourcesContent":["import { h, Component } from 'preact';\nimport 'store/bolt/cookies';\nimport { accessNested, joinClasses } from 'utils/utils';\nimport Store from 'store/store';\nimport Toggle from 'components/bolt/toggle/toggle';\nimport HTML from 'components/core/html/html';\nimport s from 'components/bolt/cookiesPreference/cookiesPreference.sss';\nimport Cookies from 'js-cookie';\nimport * as categories from 'utils/gdpr/categories';\nconst POWSTER_COOKIE = 'pow-cookie-cats-';\n\nconst copyAlt = {\n\tSTRICTLY_NECESSARY: 'NECESSARY'\n};\n\nexport default class CookiesPreference extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tallowAll: false,\n\t\t\tSTRICTLY_NECESSARY: true,\n\t\t\tPERFORMANCE: false,\n\t\t\tFUNCTIONAL: false,\n\t\t\tTARGETING: false,\n\t\t\tSOCIAL: false,\n\t\t};\n\t\tthis.toggleAllowAll = this.toggleAllowAll.bind(this);\n\t\tthis.saveSettings = this.saveSettings.bind(this);\n\t\tthis.setCategories = this.setCategories.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setCategories();\n\n\t\tStore.on('SET_COOKIES', this.setCategories);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tStore.off('SET_COOKIES', this.setCategories);\n\t}\n\n\tsetCategories(allowedCats) {\n\t\tif (!allowedCats) {\n\t\t\tconst appId = accessNested(Store.get(), 'appData.meta.id', '');\n\t\t\tlet cookieCategories;\n\t\t\ttry {\n\t\t\t\tcookieCategories = JSON.parse(Cookies.get(POWSTER_COOKIE + appId));\n\t\t\t} catch (err) {}\n\t\t\tthis.allowedCategories = cookieCategories || categories.get() || [];\n\t\t} else {\n\t\t\tthis.allowedCategories = allowedCats;\n\t\t}\n\n\t\tthis.allowedCategories.forEach(cat => {\n\t\t\tlet newState = {};\n\t\t\tnewState[cat] = true;\n\t\t\tthis.setState(newState);\n\t\t});\n\n\t\tif (!this.props.categories.some(cat => !this.state[cat])) {\n\t\t\tthis.setState({ allowAll: true });\n\t\t}\n\t}\n\n\ttoggleAllowAll() {\n\t\tlet newState = !this.state.allowAll;\n\t\tthis.setState({\n\t\t\tallowAll: newState,\n\t\t\tPERFORMANCE: newState,\n\t\t\tFUNCTIONAL: newState,\n\t\t\tTARGETING: newState,\n\t\t\tSOCIAL: newState,\n\t\t});\n\t}\n\ttoggle(prop) {\n\t\tlet newState = !this.state[prop];\n\t\tlet allowAll = newState && this.props.categories.every(cat => cat === prop || this.state[cat]);\n\t\tthis.setState({ allowAll, [prop]: newState });\n\t}\n\n\tsaveSettings() {\n\t\tStore.emit('COOKIE_PREFERENCES_CLOSE');\n\t\tStore.emit('COOKIE_BANNER_CLOSE');\n\n\t\tconst getCategories = Object.keys(this.state).filter(k => k != 'allowAll');\n\t\tconst allowedCategories = getCategories.filter(c => {\n\t\t\treturn this.state[c] && this.props.categories.indexOf(c) > -1;\n\t\t});\n\n\t\t// If some categories get disabled, it means some third-party pixels might need to be unloaded\n\t\t// We don't really have a way to do that, so we refresh the page\n\t\t// Not great UX, but it's the best we can do\n\t\tconst needsReload = this.allowedCategories.some(oldCat => !this.state[oldCat]);\n\n\t\tStore.emit('ACCEPT_COOKIES', this.state.allowAll ? this.props.categories : allowedCategories);\n\n\t\tif (needsReload) {\n\t\t\t// Do NOT delete pow-cookie-cats\n\t\t\t// It should be considered a NECESSARY-level cookie, so not be removed\n\t\t\t//  (otherwise we'll reset to the default cookie categories, which might not be what the user wants)\n\t\t\t// Store.emit('DELETE_ALL_COOKIES', { reload: true });\n\t\t\tlocation.reload();\n\t\t}\n\t}\n\n\trenderGroup(type, required) {\n\t\tif (!required && !this.props.categories.includes(type)) {\n\t\t\treturn;\n\t\t}\n\t\tconst fontStyles = this.props.appData?.styling?.fontVariables || {};\n\n\t\tconst copy = this.props.copy || {};\n\t\tlet alt = copyAlt[type] || type;\n\t\tlet title = copy['$' + type] || copy['$' + alt] || type;\n\t\tlet description = copy['$' + type + '_DESCRIPTION'] || copy['$' + alt + '_DESCRIPTION'] || '';\n\n\t\tlet content;\n\t\tif (required) {\n\t\t\tcontent = <HTML class={joinClasses(s.cookieAction, s.required, fontStyles.prefCentreCatRequired)} content={copy.$COOKIES_REQUIRED} markdown key=\"required\" />;\n\t\t} else {\n\t\t\tcontent = <div class={s.cookieAction}><Toggle active={this.state[type]} onClick={() => this.toggle(type)} key=\"toggle\" ariaLabel={title} /></div>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={s.preference} key={type}>\n\t\t\t\t<HTML class={joinClasses(s.cookieType, fontStyles.prefCentreCatTitle)} content={title} markdown key=\"title\" />\n\t\t\t\t<HTML class={joinClasses(s.cookieDescription, fontStyles.prefCentreCatDescription)} content={description} markdown key=\"description\" />\n\t\t\t\t{content}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\t$COOKIES_TITLE,\n\t\t\t$COOKIES_DESCRIPTION,\n\t\t\t$COOKIES_ALLOW_ALL = 'Allow all',\n\t\t\t$SAVE_SETTINGS\n\t\t} = this.props.copy || {};\n\n\t\tconst fontStyles = this.props?.appData?.styling?.fontVariables || {};\n\n\t\tconst { categories, cookiePrefsOpen } = this.props;\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.screenCover, cookiePrefsOpen && s.open)}>\n\t\t\t\t<div class={s.container}>\n\t\t\t\t\t<div class={s.top}>\n\t\t\t\t\t\t<HTML class={joinClasses(s.title, fontStyles.prefCentreTitle)} content={$COOKIES_TITLE} markdown />\n\t\t\t\t\t\t<HTML class={joinClasses(s.description, fontStyles.prefCentreDescription)} content={$COOKIES_DESCRIPTION} markdown />\n\t\t\t\t\t\t{categories.length > 1 && (\n\t\t\t\t\t\t\t<div class={s.preference}>\n\t\t\t\t\t\t\t\t<div class={joinClasses(s.disable, fontStyles.prefCentreDisableAll)}>\n\t\t\t\t\t\t\t\t\t{$COOKIES_ALLOW_ALL}\n\t\t\t\t\t\t\t\t\t<Toggle active={this.state.allowAll} onClick={this.toggleAllowAll} ariaLabel={$COOKIES_TITLE} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class={s.middle}>\n\t\t\t\t\t\t{this.renderGroup('STRICTLY_NECESSARY', true)}\n\t\t\t\t\t\t{this.renderGroup('PERFORMANCE')}\n\t\t\t\t\t\t{this.renderGroup('FUNCTIONAL')}\n\t\t\t\t\t\t{this.renderGroup('TARGETING')}\n\t\t\t\t\t\t{this.renderGroup('SOCIAL')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class={s.bottom}>\n\t\t\t\t\t\t<button class={joinClasses(s.save, fontStyles.prefCentreSaveBtn)} onClick={this.saveSettings}>\n\t\t\t\t\t\t\t{$SAVE_SETTINGS}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport { joinClasses } from 'utils/utils';\nimport s from 'components/bolt/toggle/toggle.sss';\n\nexport default class Toggle extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tonClick() {\n\t\tif (this.props.onClick) {\n\t\t\tthis.props.onClick();\n\t\t}\n\t}\n\n\trender(props) {\n\t\treturn (\n\t\t\t<button class={joinClasses(s.switch, props.active && s.on, props.class)} onClick={this.onClick} ariaLabel={props?.ariaLabel}>\n\t\t\t\t<div class={joinClasses(s.toggle)} />\n\t\t\t</button>\n\t\t);\n\t}\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"screenCover\":\"cookiesPreference__screenCover__GhIJq\",\"open\":\"cookiesPreference__open__zpNiv\",\"container\":\"cookiesPreference__container__Mes3Y\",\"top\":\"cookiesPreference__top__V00Zo\",\"title\":\"cookiesPreference__title__OJ302\",\"description\":\"cookiesPreference__description__MUu3n\",\"disable\":\"cookiesPreference__disable__aezpe\",\"middle\":\"cookiesPreference__middle__VfSSC\",\"preference\":\"cookiesPreference__preference__LSTLd\",\"cookieType\":\"cookiesPreference__cookieType__YpF6S\",\"cookieDescription\":\"cookiesPreference__cookieDescription__KuTp9\",\"cookieAction\":\"cookiesPreference__cookieAction__GaRst\",\"bottom\":\"cookiesPreference__bottom__tHNHy\",\"save\":\"cookiesPreference__save__gSDJh\"};","// extracted by mini-css-extract-plugin\nexport default {\"switch\":\"toggle__switch__tLzku\",\"on\":\"toggle__on___Qxg1\",\"toggle\":\"toggle__toggle__dn0v9\"};"],"names":["h","Component","accessNested","joinClasses","Store","Toggle","HTML","s","Cookies","categories","POWSTER_COOKIE","copyAlt","STRICTLY_NECESSARY","CookiesPreference","constructor","props","state","allowAll","PERFORMANCE","FUNCTIONAL","TARGETING","SOCIAL","toggleAllowAll","bind","saveSettings","setCategories","componentDidMount","on","componentWillUnmount","off","allowedCats","appId","get","cookieCategories","JSON","parse","err","allowedCategories","forEach","cat","newState","setState","some","toggle","prop","every","emit","getCategories","Object","keys","filter","k","c","indexOf","needsReload","oldCat","location","reload","renderGroup","type","required","includes","fontStyles","appData","styling","fontVariables","copy","alt","title","description","content","class","cookieAction","prefCentreCatRequired","$COOKIES_REQUIRED","markdown","key","active","onClick","ariaLabel","preference","cookieType","prefCentreCatTitle","cookieDescription","prefCentreCatDescription","render","$COOKIES_TITLE","$COOKIES_DESCRIPTION","$COOKIES_ALLOW_ALL","$SAVE_SETTINGS","cookiePrefsOpen","screenCover","open","container","top","prefCentreTitle","prefCentreDescription","length","disable","prefCentreDisableAll","middle","bottom","save","prefCentreSaveBtn","switch"],"sourceRoot":""}