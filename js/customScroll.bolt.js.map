{"version":3,"file":"js/customScroll.bolt.js?v=f5620ac6dab89c7541c0","mappings":"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","sources":["webpack://thundr/./static/src/components/bolt/customScroll/customScroll.js","webpack://thundr/./static/src/components/bolt/sectionLoader/sectionLoader.js","webpack://thundr/./static/src/components/bolt/sectionLoader/spinner.js","webpack://thundr/./static/src/components/bolt/sectionLoader/sectionLoader.sss?3190","webpack://thundr/./static/src/components/bolt/sectionLoader/spinner.sss?d0e0","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/customScroll/customScroll.sss?8d87"],"sourcesContent":["import { h, Component } from 'preact';\nimport SectionLoader from 'components/bolt/sectionLoader/sectionLoader';\nimport { joinClasses, accessNested } from 'utils/utils';\nimport { sectionsWithParent } from 'pages/bolt_pages';\nimport Store from 'store/store';\nimport { smoothScrollTo } from 'utils/smoothScroll';\nimport { getHeaderHeight } from 'utils/bolt';\nimport s from 'components/bolt/customScroll/customScroll.sss';\n\nexport default class CustomScroll extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.autoUpdateUrl = accessNested(props.store, `appData.pages.${props.id}.data.autoUpdateUrl`, null);\n\t\tthis.preloadAllSections = accessNested(props.store, `appData.pages.${props.id}.data.preloadAllSections`, false);\n\t\tthis.onResize = this.onResize.bind(this);\n\t\tthis.onScroll = this.onScroll.bind(this);\n\t\tthis.goToHash = this.goToHash.bind(this);\n\t\tthis.checkHash = this.checkHash.bind(this);\n\t\tthis.recalculateElementsPositions = this.recalculateElementsPositions.bind(this);\n\t\tthis.isScrolling = 0;\n\t}\n\n\tasync componentDidMount() {\n\t\tStore.emit('UPDATE_HUB_ACTIVE_PERCENTAGE');\n\t\twindow.addEventListener('hashchange', this.checkHash);\n\n\t\tconst scrollContainer = document.getElementById('mainScroll');\n\t\tif (this.autoUpdateUrl) {\n\t\t\twindow.addEventListener('resize', this.onResize);\n\t\t\tscrollContainer?.addEventListener('scroll', this.onScroll);\n\t\t\tthis.recalculateElementsPositions();\n\t\t}\n\n\t\tawait this.dataLoadingPromise;\n\t\tthis.dataLoadingPromise = null;\n\n\t\tthis.checkHash();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('resize', this.onResize);\n\t\tconst scrollContainer = document.getElementById('mainScroll');\n\t\tscrollContainer?.removeEventListener('scroll', this.onScroll);\n\n\t\twindow.removeEventListener('hashchange', this.checkHash);\n\t}\n\n\tcheckHash() {\n\t\tthis.goToHash(location.hash.slice(1));\n\t}\n\n\tscrollToTheElem(scrollToElem) {\n\t\tlet headerHeight = accessNested(this.props, 'store.client.headerHeight', getHeaderHeight());\n\n\t\tlet scrollContainer = document.getElementById('mainScroll');\n\t\tthis.isScrolling++;\n\t\tsmoothScrollTo(scrollContainer, scrollToElem, 600, {\n\t\t\tcallback: () => this.isScrolling--,\n\t\t\toffset: headerHeight\n\t\t});\n\t}\n\n\tgoToHash(hash) {\n\t\tif (!hash) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollContainer = document.getElementById('mainScroll');\n\t\tlet scrollToElem = document.querySelector(`[data-hash-wrapper=\"${hash}\"]`) || document.getElementById(hash);\n\n\t\tif (scrollToElem !== null) {\n\t\t\tthis.setState({ hash: hash });\n\t\t\tthis.scrollToTheElem(scrollToElem, scrollContainer);\n\t\t}\n\t}\n\n\tonResize() {\n\t\tif (this.dataLoadingPromise) {\n\t\t\treturn;\n\t\t}\n\t\tthis.recalculateElementsPositions();\n\t\tthis.checkActiveElement();\n\t}\n\n\tonScroll() {\n\t\tif (this.dataLoadingPromise || this.isScrolling > 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis.checkActiveElement();\n\t}\n\n\trecalculateElementsPositions() {\n\t\tif (!this.base || !this.autoUpdateUrl) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.parentTop = this.base.offsetTop;\n\t\t// let children = this.$customScroll?.children || [];\n\t\tlet children = this.$customScroll?.querySelectorAll('[data-hash-wrapper]') || [];\n\t\tthis.elements = [...children].map(e => {\n\t\t\tconst hash = e.getAttribute('data-hash-wrapper');\n\t\t\treturn {\n\t\t\t\turl: ['bottom', 'top', 'hero'].some(attr => hash?.toLowerCase()?.includes(attr)) ? '.' + location.search : (location.search + '#' + hash),\n\t\t\t\tposition: e.offsetTop + e.offsetHeight * .3 + this.parentTop\n\t\t\t};\n\t\t});\n\t}\n\n\tcheckActiveElement() {\n\t\tif (!this.elements || !this.autoUpdateUrl) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.recalculateElementsPositions();\n\n\t\tconst scrollContainer = document.getElementById('mainScroll');\n\t\tlet currentPosition = this.parentTop + scrollContainer.scrollTop + (window.innerHeight - this.parentTop) * .2;\n\n\t\tlet withDistance = this.elements.map(e => ({ ...e, dist: Math.abs(e.position - currentPosition) }));\n\t\tlet closest = withDistance.sort((a, b) => a.dist - b.dist)[0];\n\t\tlet url = closest?.url;\n\t\tif (!url || (this.currentPath && this.currentPath === url)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.currentPath = url;\n\t\tlet fullURL = new URL(url, location.href);\n\t\tconst activePage = Store.get().activePage;\n\t\tif (location.href !== fullURL && this.props.id === activePage) {\n\t\t\thistory.replaceState(null, '', url);\n\t\t}\n\t}\n\n\trender(props) {\n\t\tconst { store } = props;\n\t\tconst activePageSections = sectionsWithParent.filter(page => page.parent === store.activePage);\n\t\tconst sectionFullPage = activePageSections.length === 1;\n\t\tlet headerHeight = accessNested(store, 'client.headerHeight', 64);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{ paddingTop: headerHeight }}\n\t\t\t\tdata-section={props.id}\n\t\t\t\tclass={joinClasses(sectionFullPage && s.fullPage, s.innerContainer)}\n\t\t\t\tref={e => this.$customScroll = e}\n\t\t\t\tkey=\"sections\"\n\t\t\t>\n\t\t\t\t{activePageSections.map((section) => {\n\t\t\t\t\tconst sectionData = accessNested(this.props, `store.appData.pages.${section.id}`, {});\n\t\t\t\t\tconst hash = sectionData?.data?.disableMainHash ? null : sectionData?.data?.hash || sectionData?.id;\n\n\t\t\t\t\tconst sectionProps = {\n\t\t\t\t\t\tstore,\n\t\t\t\t\t\tappData: store.appData,\n\t\t\t\t\t\tclient: store.client,\n\t\t\t\t\t\tid: section.id,\n\t\t\t\t\t\tgetter: section.getter,\n\t\t\t\t\t\t[section.id]: store[section.id],\n\t\t\t\t\t\tisSection: true,\n\t\t\t\t\t\tisLoneSection: activePageSections.length === 1,\n\t\t\t\t\t\tsectionFullPage,\n\t\t\t\t\t\tisPreloaded: this.preloadAllSections || section.isPreloaded,\n\t\t\t\t\t\tparentIsScrolling: this.isScrolling,\n\t\t\t\t\t\tcheckHash: this.checkHash\n\t\t\t\t\t};\n\n\t\t\t\t\treturn \t(\n\t\t\t\t\t\t<div data-hash-wrapper={hash} key={section.id}>\n\t\t\t\t\t\t\t{!section.isPreloaded\n\t\t\t\t\t\t\t\t? <SectionLoader {...sectionProps} key={section.id} />\n\t\t\t\t\t\t\t\t: <section.component {...sectionProps} key={section.id} />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<div data-hash-wrapper=\"bottom\" key=\"bottom\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport Store from 'store/store';\nimport { joinClasses } from 'utils/utils';\nimport Spinner from 'components/bolt/sectionLoader/spinner';\nimport s from 'components/bolt/sectionLoader/sectionLoader.sss';\n\n// const isServer = typeof window === 'undefined';\n\nexport default class SectionLoader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.load = this.load.bind(this);\n\t\tthis.determineLoad = this.determineLoad.bind(this);\n\t\tthis.loadSectionEvent = this.loadSectionEvent.bind(this);\n\n\t\t// if (!isServer && window.location.hash) {\n\t\t// \tconst landingId = window.location.hash.replace('#', '');\n\t\t// \tconst noSlug = accessNested(Store.get(), `appData.pages.${landingId}`, false);\n\t\t// \tif (!noSlug) {\n\t\t// \t\tconst pages = accessNested(props, 'appData.pages', null);\n\t\t// \t\tconst parentSection = pages && Object.keys(pages).filter(page => pages[page].slug === landingId)[0];\n\t\t// \t\tif (props.id === parentSection) {\n\t\t// \t\t\tthis.load();\n\t\t// \t\t}\n\t\t// \t}\n\t\t// \tif (props.id === landingId) {\n\t\t// \t\tthis.load();\n\t\t// \t}\n\t\t// }\n\t}\n\n\tcomponentDidMount() {\n\t\tlet requested = Store.emit('GET_REQUESTED_SECTIONS') || [];\n\t\tif (requested.includes(this.props.id)) {\n\t\t\treturn this.load();\n\t\t}\n\t\tStore.on('LOAD_SECTION', this.loadSectionEvent);\n\t\twindow.addEventListener('scroll', this.determineLoad, true);\n\t\tthis.determineLoad();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tStore.off('LOAD_SECTION', this.loadSectionEvent);\n\t\twindow.removeEventListener('scroll', this.determineLoad, true);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (!this.emitted && this.$component) {\n\t\t\tthis.emitted = true;\n\t\t\tStore.emit('SECTION_LOADED', this.props.id, this.$component.base || this.$component);\n\t\t}\n\t}\n\n\tloadSectionEvent(id) {\n\t\tif (id !== this.props.id) {\n\t\t\treturn;\n\t\t}\n\t\tthis.load();\n\t\tStore.off('LOAD_SECTION', this.loadSectionEvent);\n\t}\n\n\tdetermineLoad() {\n\t\tconst rect = this.base.getBoundingClientRect();\n\t\tif (rect.top <= window.innerHeight + 100) {\n\t\t\twindow.removeEventListener('scroll', this.determineLoad, true);\n\t\t\tthis.load();\n\t\t}\n\t}\n\n\tasync load() {\n\t\tif (this.loadStarted) {\n\t\t\treturn;\n\t\t}\n\t\tthis.loadStarted = true;\n\n\t\tconst { getter } = this.props;\n\t\tthis.component = await (typeof getter === 'function' ? getter() : getter);\n\t\tthis.setState({ showComponent: true });\n\t}\n\n\trender(props) {\n\t\tif (!this.state.showComponent) {\n\t\t\treturn (\n\t\t\t\t<div class={s.loading}>\n\t\t\t\t\t<Spinner appData={props.appData} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst Comp = this.component.default;\n\t\tconst { getter, singlePage, ...compProps } = props;\n\n\t\treturn <Comp {...compProps} class={joinClasses({ fullPage: singlePage })} ref={e => this.$component = e} />;\n\t}\n}\n","import { h, Component } from 'preact';\nimport { accessNested, joinClasses } from 'utils/utils';\nimport { getValueForClientSize } from 'utils/bolt';\nimport { useDynamicAssetFolder } from 'utils/assets';\nimport * as webp from 'utils/bolt/webp';\nimport s from 'components/bolt/sectionLoader/spinner.sss';\n\nexport default class Spinner extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender(props, { ttLoaded }) {\n\t\tconst { appData, onlySpinner, class: extraClass } = props;\n\t\tconst copy = appData ? appData.copy : {};\n\t\tconst accessibilityCopy = copy.accessibilityCopy || {};\n\t\tconst tt = accessNested(this.props, 'appData.header.powsterHeader.tt', null);\n\t\tconst fallbackFormat = accessNested(this.props, appData.header.alternativeImageFormat || 'png');\n\n\t\treturn (\n\t\t\t<div class={joinClasses(extraClass, s.container, onlySpinner && s.centered)}>\n\t\t\t\t{\n\t\t\t\t\t!onlySpinner && (\n\t\t\t\t\t\t<webp.Picture\n\t\t\t\t\t\t\tstyle={{ display: ttLoaded ? 'block' : 'none' }}\n\t\t\t\t\t\t\tclass={s.tt}\n\t\t\t\t\t\t\tkey=\"tt\"\n\t\t\t\t\t\t\talt={accessibilityCopy}\n\t\t\t\t\t\t\tsrc={tt && useDynamicAssetFolder(getValueForClientSize(tt))}\n\t\t\t\t\t\t\tfallbackFormat={fallbackFormat}\n\t\t\t\t\t\t\tonLoad={() => this.setState({ ttLoaded: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t<div class={s.ring} key=\"spinner\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loading\":\"sectionLoader__loading__qojkE\"};","// extracted by mini-css-extract-plugin\nexport default {\"ring\":\"spinner__ring__uDHs4\",\"spin\":\"spinner__spin__vCJfU\",\"tt\":\"spinner__tt__eXsWy\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"customScroll__wrapper__cepgU\",\"innerContainer\":\"customScroll__innerContainer__dEYh0\",\"fullPage\":\"customScroll__fullPage__MGpjK\"};"],"names":["h","Component","SectionLoader","joinClasses","accessNested","sectionsWithParent","Store","smoothScrollTo","getHeaderHeight","s","CustomScroll","constructor","props","autoUpdateUrl","store","id","preloadAllSections","onResize","bind","onScroll","goToHash","checkHash","recalculateElementsPositions","isScrolling","componentDidMount","emit","window","addEventListener","scrollContainer","document","getElementById","dataLoadingPromise","componentWillUnmount","removeEventListener","location","hash","slice","scrollToTheElem","scrollToElem","headerHeight","callback","offset","querySelector","setState","checkActiveElement","base","parentTop","offsetTop","children","$customScroll","querySelectorAll","elements","map","e","getAttribute","url","some","attr","toLowerCase","includes","search","position","offsetHeight","currentPosition","scrollTop","innerHeight","withDistance","dist","Math","abs","closest","sort","a","b","currentPath","fullURL","URL","href","activePage","get","history","replaceState","render","activePageSections","filter","page","parent","sectionFullPage","length","style","paddingTop","class","fullPage","innerContainer","ref","key","section","sectionData","data","disableMainHash","sectionProps","appData","client","getter","isSection","isLoneSection","isPreloaded","parentIsScrolling","_extends","component","Spinner","load","determineLoad","loadSectionEvent","requested","on","off","componentDidUpdate","emitted","$component","rect","getBoundingClientRect","top","loadStarted","showComponent","state","loading","Comp","default","singlePage","compProps","getValueForClientSize","useDynamicAssetFolder","webp","_ref","ttLoaded","onlySpinner","extraClass","copy","accessibilityCopy","tt","fallbackFormat","header","alternativeImageFormat","container","centered","Picture","display","alt","src","onLoad","ring"],"sourceRoot":""}