{"version":3,"file":"js/debugInfo.bolt.js?v=36740e71b2ec9e2a03d3","mappings":"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","sources":["webpack://thundr/./static/src/components/bolt/debugInfo/debugInfo.js","webpack://thundr/./static/src/components/bolt/debugInfo/debugInfo.sss?a98b"],"sourcesContent":["import { h, Component } from 'preact';\nimport s from 'components/bolt/debugInfo/debugInfo.sss';\n// import { accessNested } from 'utils/utils';\nimport formatDateTime from 'utils/formatDateTime';\n// import DeviceDetector from 'device-detector-js';\n\nconst importers = [\n\t'flicks',\n\t'cinepolis',\n\t'cinemex',\n\t'ingresso',\n\t'velox',\n\t'yandex',\n\t'kinohod',\n\t'rambler',\n\t'cinergy',\n\t'outnow',\n\t'ntlive',\n\t'byexp',\n\t'pathe',\n\t'faf',\n\t'vue',\n\t'webedia',\n\t'cpass',\n\t'mx',\n\t'pow',\n\t'amc',\n\t'atom'\n];\n\nexport default class DebugInfo extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.updateInfo = this.updateInfo.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\t// this.deviceDetector = new DeviceDetector();\n\t\tthis.updateInfo();\n\n\t\twindow.addEventListener('resize', this.updateInfo);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('resize', this.updateInfo);\n\t}\n\n\tupdateInfo() {\n\t\tconst userAgent = window.navigator.userAgent;\n\t\t// const device = this.deviceDetector.parse(userAgent);\n\n\t\tconst cleanBrowserName = { Edg: 'Edge', OPR: 'Opera' };\n\t\tlet uaIndicators = [...userAgent.matchAll(/([^ ]+)\\/([\\d.]+)/g)].map(([, name, version]) => ({\n\t\t\tname: cleanBrowserName[name] || name,\n\t\t\tversion\n\t\t}));\n\t\tconst uaSubsets = {\n\t\t\tSafari: ['Chrome'],\n\t\t\tChrome: ['SamsungBrowser']\n\t\t};\n\t\tlet browser = uaIndicators.pop();\n\t\twhile (browser?.name in uaSubsets) {\n\t\t\tlet next = uaIndicators.pop();\n\t\t\tif (!uaSubsets[browser.name].includes(next.name)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbrowser = next;\n\t\t}\n\t\tconst osMatch = userAgent.match(/\\([^;]*;\\s*([^;)]+)\\s*(?:;[^)]*)?\\)/);\n\t\tconst os = osMatch?.[1] || 'unknown OS';\n\n\t\t// const deviceModel = device.device.brand + ' ' + device.device.model;\n\t\t// const os = device.os.name + ' ' + device.os.version;\n\t\t// const browser = device.client.name + ' ' + device.client.version;\n\n\t\tlet zoom = window.visualViewport?.scale;\n\t\tif (zoom === 1) {\n\t\t\t// Can be wrong on some high-density pixel screens but whatev\n\t\t\t// Can also use window.outerWidth / window.innerWidth in some cases but not universal either\n\t\t\t// test page (tap text to refresh): https://cdpn.io/pen/debug/MWVmMpj/e46de905095437e04945ad64a7530aa5\n\t\t\tzoom = window.devicePixelRatio;\n\t\t}\n\n\t\tthis.setState({\n\t\t\t// userAgentInfo: deviceModel + ' - ' + os + ' - ' + browser,\n\t\t\tuserAgentInfo: `${browser.name} ${browser.version} (${os})`,\n\t\t\tuserAgentSource: userAgent,\n\t\t\tbrowserWindowSize: window.innerWidth + 'x' + window.innerHeight,\n\t\t\tscreenResolution: window.screen.width + 'x' + window.screen.height,\n\t\t\tavailScreenSpace: window.screen.availWidth + 'x' + window.screen.availHeight,\n\t\t\tbrowserZoomPercentage: (zoom * 100).toFixed(2) + '%',\n\t\t\tbrowserLanguage: navigator.language\n\t\t});\n\t}\n\n\trender({ appData, appState }, state) {\n\t\tconst {\n\t\t\tuserAgentInfo,\n\t\t\tuserAgentSource,\n\t\t\tbrowserWindowSize,\n\t\t\tscreenResolution,\n\t\t\tavailScreenSpace,\n\t\t\tbrowserZoomPercentage,\n\t\t\tbrowserLanguage\n\t\t} = state;\n\n\t\tlet activePage = appState.activePage;\n\t\tlet showtimesPage = 'boltShowtimes';\n\t\tif (appData?.pages?.[activePage]?.type === 'showtimes') {\n\t\t\tshowtimesPage = activePage;\n\t\t}\n\t\tlet showtimesData = appData?.pages?.[showtimesPage]?.data;\n\n\t\tconst appId = appData?.meta?.id;\n\t\tconst movieId = showtimesData?.movieId || '-';\n\t\tconst city = appState?.client?.geo?.city;\n\t\tconst country = appState?.client?.geo?.countryName;\n\n\t\tlet buildDate = 'unknown';\n\t\tif (typeof window !== 'undefined') {\n\t\t\tbuildDate = formatDateTime(window.__BUILD_DATE__, 'yyyy-MM-dd hh:mm');\n\t\t}\n\n\t\tconst deeplinkProviders = showtimesData?.providers?.deeplink?.split(',')?.map(provider => {\n\t\t\tlet index = importers.indexOf(provider.trim()) + 1;\n\t\t\treturn index || 'unknown';\n\t\t}) || ['-'];\n\n\t\tconst showtimesProviders = showtimesData?.providers?.showtimes?.split(',')?.map(provider => {\n\t\t\tlet index = importers.indexOf(provider.trim()) + 1;\n\t\t\treturn index || 'unknown';\n\t\t}) || ['-'];\n\n\t\treturn (\n\t\t\t<div class={s.wrapper}>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tApp ID: <span>{appId}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tRegion: <span>{__REGION__.toUpperCase()}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tLast Published: <span>{buildDate}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tMovie ID: <span>{movieId}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tScreenings Providers: <span>{showtimesProviders.join(', ')}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tDeeplink Providers: <span>{deeplinkProviders.join(', ')}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tBrowser Language: <span>{browserLanguage}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tApprox Location: <span>{city + ', ' + country}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tUser-Agent: <span title={userAgentSource}>{userAgentInfo}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tBrowser Window Size: <span>{browserWindowSize}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tScreen Res: <span>{screenResolution}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tAvail Screen Space: <span>{availScreenSpace}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.line}>\n\t\t\t\t\tBrowser Zoom Level: <span>{browserZoomPercentage}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"debugInfo__wrapper__R9SgL\"};"],"names":["h","Component","s","formatDateTime","importers","DebugInfo","constructor","props","updateInfo","bind","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","userAgent","navigator","cleanBrowserName","Edg","OPR","uaIndicators","matchAll","map","_ref","name","version","uaSubsets","Safari","Chrome","browser","pop","next","includes","osMatch","match","os","zoom","visualViewport","scale","devicePixelRatio","setState","userAgentInfo","userAgentSource","browserWindowSize","innerWidth","innerHeight","screenResolution","screen","width","height","availScreenSpace","availWidth","availHeight","browserZoomPercentage","toFixed","browserLanguage","language","render","_ref2","state","appData","appState","activePage","showtimesPage","pages","type","showtimesData","data","appId","meta","id","movieId","city","client","geo","country","countryName","buildDate","__BUILD_DATE__","deeplinkProviders","providers","deeplink","split","provider","index","indexOf","trim","showtimesProviders","showtimes","class","wrapper","line","__REGION__","toUpperCase","join","title"],"sourceRoot":""}