{"version":3,"file":"js/cookies.bolt.js?v=17a82e1aa2b5b25ba9ce","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAsC;AACR;AACE;AACJ;AACwB;AAC2B;AAC/B;AAAA,IAErBU,OAAO,GAAAC,SAAA,EAAlBT,kDAAI,aAAAU,WAAA,EAAAC,UAAA;EAAL,MAAYH,OAAO,SAAAG,UAAA,CAAmB;IACpDC,WAAWA,CAACC,KAAK,EAAW;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAANC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAJF,IAAI,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;MAAA;MACzB,KAAK,CAACN,KAAK,EAAE,GAAGI,IAAI,CAAC;MAACP,WAAA;MAEtB,IAAI,CAACU,KAAK,GAAG;QACZC,MAAM,EAAEhB,yDAAY,CAACQ,KAAK,EAAE,sCAAsC,EAAE,KAAK;QACzE;MACD,CAAC;MAED,IAAI,CAACS,SAAS,GAAG,IAAI,CAACA,SAAS,CAACC,IAAI,CAAC,IAAI,CAAC;MAC1C,IAAI,CAACC,eAAe,GAAG,IAAI,CAACA,eAAe,CAACD,IAAI,CAAC,IAAI,CAAC;MACtD,IAAI,CAACE,YAAY,GAAG,IAAI,CAACA,YAAY,CAACF,IAAI,CAAC,IAAI,CAAC;IACjD;;IAEA;;IA0CA;EA4GD;EAAC;IAAAG,CAAA,EApK0BlB,OAAO;IAAAmB,CAAA;MAAAC,IAAA;MAAAC,GAAA;MAAAC,KAAA,EAejC,SAAAC,kBAAA,EAAoB;QACnB,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;UACpC;QACD;QAEA,IAAI,IAAI,CAACZ,KAAK,CAACC,MAAM,EAAE;UACtBlB,qDAAQ,CAAC6B,QAAQ,CAACC,IAAI,EAAE,kBAAkB,CAAC;QAC5C;QAEA,IAAIC,MAAM,CAACC,OAAO,IAAI,mBAAmB,IAAIA,OAAO,EAAE;UACrDA,OAAO,CAACC,iBAAiB,GAAG,QAAQ;QACrC;QACA;QACA;;QAEA,MAAMC,QAAQ,GAAGhC,yDAAY,CAAC,IAAI,CAACQ,KAAK,EAAE,uCAAuC,EAAE,EAAE,CAAC,KAAK,UAAU;QACrG,IAAIwB,QAAQ,EAAE;UACb,IAAI,CAACC,MAAM,GAAGN,QAAQ,CAACO,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;UACrD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACF,MAAM,CAACG,SAAS;UACzCP,MAAM,CAACQ,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACjB,YAAY,CAAC;QACrD;QAEA,IAAIS,MAAM,CAACS,cAAc,EAAE;UAC1B,IAAIC,YAAY;UAChB,IAAI,CAACC,cAAc,GAAG,IAAIF,cAAc,CAACG,OAAO,IAAI;YACnDF,YAAY,GAAGE,OAAO,CAAC,CAAC,CAAC,CAACC,WAAW,CAACC,MAAM;YAC5C/C,mDAAK,CAACgD,IAAI,CAAC,uBAAuB,EAAEL,YAAY,CAAC;UAClD,CAAC,CAAC;UACF,IAAI,CAACC,cAAc,CAACK,OAAO,CAAC,IAAI,CAACC,OAAO,CAAC;QAC1C,CAAC,MAAM;UACNlD,mDAAK,CAACgD,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAACE,OAAO,CAACC,YAAY,CAAC;QAC/D;MACD;IAAC;MAAAxB,IAAA;MAAAC,GAAA;MAAAC,KAAA,EAED,SAAAuB,qBAAA,EAAuB;QACtBnB,MAAM,CAACoB,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC7B,YAAY,CAAC;QACvD,IAAI,IAAI,CAACoB,cAAc,EAAE;UACxB,IAAI,CAACA,cAAc,CAACU,UAAU,CAAC,CAAC;QACjC;MACD;IAAC;MAAA3B,IAAA;MAAAC,GAAA;MAAAC,KAAA,EAGD,SAAAL,aAAA,EAAe;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAAA;IACA;MAAAG,IAAA;MAAAC,GAAA;MAAAC,KAAA,EAED,SAAAR,UAAA,EAAY;QACX,IAAI,IAAI,CAACT,KAAK,CAAC2C,QAAQ,EAAE;UACxB,IAAI,CAAC3C,KAAK,CAAC2C,QAAQ,CAAC,CAAC;QACtB;QAEA,IAAI,OAAOxB,QAAQ,KAAK,WAAW,EAAE;UACpC5B,wDAAW,CAAC4B,QAAQ,CAACC,IAAI,EAAE,kBAAkB,CAAC;QAC/C;QACA;;QAEAhC,mDAAK,CAACgD,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAACpC,KAAK,CAAC4C,UAAU,CAAC;MACpD;IAAC;MAAA7B,IAAA;MAAAC,GAAA;MAAAC,KAAA,EAED,SAAAN,gBAAA,EAAkB;QACjBvB,mDAAK,CAACgD,IAAI,CAAC,yBAAyB,CAAC;MACtC;IAAC;MAAArB,IAAA;MAAAC,GAAA;MAAAC,KAAA,EAED,SAAA4B,OAAO7C,KAAK,EAAE;QACb,MAAM;UAAEQ;QAAO,CAAC,GAAG,IAAI,CAACD,KAAK;QAC7B,MAAM;UAAEuC,OAAO,GAAG,CAAC,CAAC;UAAEC,IAAI,GAAG,CAAC;QAAE,CAAC,GAAG/C,KAAK,CAACgD,OAAO,IAAI,CAAC,CAAC;QACvD,MAAM;UAAEC,YAAY,GAAG,CAAC;QAAE,CAAC,GAAGH,OAAO;QACrC,MAAM;UAAEI,SAAS;UAAEC;QAAS,CAAC,GAAGF,YAAY;QAC5C,MAAMG,SAAS,GAAGD,QAAQ,KAAK,WAAW;QAC1C,MAAME,YAAY,GAAGF,QAAQ,KAAK,cAAc;QAChD,MAAM3B,QAAQ,GAAG2B,QAAQ,KAAK,UAAU;QACxC,MAAMG,KAAK,GAAGH,QAAQ,KAAK,OAAO;QAClC,MAAMI,IAAI,GAAGN,YAAY,CAACO,IAAI,IAAIhE,yDAAY,CAACQ,KAAK,EAAE,6BAA6B,CAAC;QACpF,MAAMyD,UAAU,GAAGjE,yDAAY,CAACQ,KAAK,EAAE,+BAA+B,CAAC;QAEvE,OACCf,yCAAA;UAAKyE,KAAK,EAAEjE,wDAAW,CAACJ,2EAAC,CAACsE,gBAAgB,EAAE3D,KAAK,CAAC4D,MAAM,IAAIvE,2EAAC,CAACuE,MAAM,CAAE;UAACC,GAAG,EAAEA,GAAG,IAAI,IAAI,CAACvB,OAAO,GAAGuB;QAAI,GACpGrD,MAAM,IAAIvB,yCAAA;UAAKyE,KAAK,EAAErE,2EAAC,CAACyE;QAAQ,CAAE,CAAC,EACpC7E,yCAAA;UACCyE,KAAK,EAAEjE,wDAAW,CAAC;YAClBJ,CAAC;YAAE0E,SAAS,EAAE,IAAI;YAClBC,GAAG,EAAEZ,SAAS;YACdE,KAAK;YACL9B,QAAQ;YACRyC,MAAM,EAAEZ,YAAY;YACpBa,OAAO,EAAE,IAAI,CAAC3D,KAAK,CAAC2D;UACrB,CAAC,CAAE;UACHlD,GAAG,EAAC,QAAQ;UACZ,gBAAa;QAAS,GAEtB/B,yCAAA;UAAKyE,KAAK,EAAErE,2EAAC,CAAC8E;QAAO,GACpBlF,yCAAA;UAAKyE,KAAK,EAAEjE,wDAAW,CAACJ,2EAAC,CAAC+E,IAAI,EAAEX,UAAU,CAACY,gBAAgB;QAAE,GAC3DnB,SAAS,GACTjE,yCAAA,CAACS,oEAAI;UAAC4E,GAAG,EAAC,GAAG;UAACZ,KAAK,EAAErE,2EAAC,CAACkF,YAAa;UAACC,OAAO,EAAEtB,SAAU;UAACuB,QAAQ;QAAA,CAAE,CAAC,GAGnExF,yCAAA,YACCA,yCAAA,CAACS,oEAAI;UAAC4E,GAAG,EAAC,MAAM;UAACG,QAAQ;QAAA,GAAE1B,IAAI,CAAC2B,QAAQ,CAACC,kBAAyB,CAAC,EACnE1F,yCAAA,eAAM,GAAO,CAAC,EACdA,yCAAA;UACCsE,IAAI,EAAEA,IAAK;UAACqB,MAAM,EAAC,QAAQ;UAAClB,KAAK,EAAED,UAAU,CAACoB,gBAAiB;UAC/DC,OAAO,EAAEC,CAAC,IAAI;YACb,MAAMC,MAAM,GAAGxF,yDAAY,CAACQ,KAAK,EAAG,iBAAgBuD,IAAK,EAAC,EAAE,IAAI,CAAC;YACjE,IAAIyB,MAAM,EAAE;cACX;cACA;cACA5F,mDAAK,CAACgD,IAAI,CAAC,oBAAoB,EAAEmB,IAAI,EAAEwB,CAAC,CAAC;YAC1C;UACD;QAAE,GAEDhC,IAAI,CAAC2B,QAAQ,CAACO,iBACb,CAAC,EACHlC,IAAI,CAAC2B,QAAQ,CAACQ,gBACb,CAGD,CAAC,EACNjG,yCAAA;UAAKyE,KAAK,EAAErE,2EAAC,CAAC8F;QAAc,GAC3BlG,yCAAA;UACCyE,KAAK,EAAEjE,wDAAW,CAACJ,2EAAC,CAAC+F,MAAM,EAAE/F,2EAAC,CAACgG,MAAM,EAAE5B,UAAU,CAAC6B,eAAe,CAAE;UACnER,OAAO,EAAE,IAAI,CAACrE;QAAU,GAEvBsC,IAAI,CAAC2B,QAAQ,CAACa,eACR,CAAC,EACTtG,yCAAA;UACCyE,KAAK,EAAEjE,wDAAW,CAACJ,2EAAC,CAACmG,QAAQ,EAAEnG,2EAAC,CAACgG,MAAM,EAAE5B,UAAU,CAACgC,eAAe,CAAE;UACrEX,OAAO,EAAE,IAAI,CAACnE;QAAgB,GAE7BoC,IAAI,CAAC2B,QAAQ,CAACgB,gBACR,CACJ,CACD,CACD,CACD,CAAC;MAER;IAAC;EAAA;AAAA,GAnKyCxG,6CAAS;;;;;;;;;;;;;;;ACRpD;AACA,iEAAe,CAAC,kgBAAkgB","sources":["webpack://thundr/./static/src/components/bolt/cookies/cookies.js","webpack://thundr/./static/src/components/bolt/cookies/cookies.sss?b0dd"],"sourcesContent":["import { h, Component } from 'preact';\nimport pure from 'utils/pure';\nimport Store from 'store/store';\nimport 'store/bolt/cookies';\nimport s from 'components/bolt/cookies/cookies.sss';\nimport { addClass, removeClass, accessNested, joinClasses } from 'utils/utils';\nimport HTML from 'components/core/html/html.js';\n\nexport default @pure class Cookies extends Component {\n\tconstructor(props, ...args) {\n\t\tsuper(props, ...args);\n\n\t\tthis.state = {\n\t\t\tlocked: accessNested(props, 'appData.options.cookiesModal.lockout', false),\n\t\t\t// display: true\n\t\t};\n\n\t\tthis.acceptAll = this.acceptAll.bind(this);\n\t\tthis.displaySettings = this.displaySettings.bind(this);\n\t\tthis.stickyHeader = this.stickyHeader.bind(this);\n\t}\n\n\t// LIFECYCLE METHODS\n\tcomponentDidMount() {\n\t\tif (typeof document === 'undefined') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state.locked) {\n\t\t\taddClass(document.body, 'cookieScrollLock');\n\t\t}\n\n\t\tif (window.history && 'scrollRestoration' in history) {\n\t\t\thistory.scrollRestoration = 'manual';\n\t\t}\n\t\t// The cookie component should not be in charge of that on mount - otherwise will lead to inconsistencies if/when it is not present\n\t\t// window.scroll(0, 0);\n\n\t\tconst fixedTop = accessNested(this.props, 'appData.options.cookiesModal.position', '') === 'fixedTop';\n\t\tif (fixedTop) {\n\t\t\tthis.header = document.getElementById('header') || {};\n\t\t\tthis.headerOffset = this.header.offsetTop;\n\t\t\twindow.addEventListener('scroll', this.stickyHeader);\n\t\t}\n\n\t\tif (window.ResizeObserver) {\n\t\t\tlet cookieHeight;\n\t\t\tthis.resizeObserver = new ResizeObserver(entries => {\n\t\t\t\tcookieHeight = entries[0].contentRect.height;\n\t\t\t\tStore.emit('SET_COOKIE_BAR_HEIGHT', cookieHeight);\n\t\t\t});\n\t\t\tthis.resizeObserver.observe(this.$cookie);\n\t\t} else {\n\t\t\tStore.emit('SET_COOKIE_BAR_HEIGHT', this.$cookie.offsetHeight);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.stickyHeader);\n\t\tif (this.resizeObserver) {\n\t\t\tthis.resizeObserver.disconnect();\n\t\t}\n\t}\n\n\t// EVENT HANDLING\n\tstickyHeader() {\n\t\t// const isDisplaying =  accessNested(this.state, 'display', true);\n\t\t// if (isDisplaying) {\n\t\t// \tif (window.pageYOffset >= this.headerOffset) {\n\t\t// \t\tthis.header.style.position = 'fixed';\n\t\t// \t\tthis.header.style.top = '0px';\n\t\t// \t} else {\n\t\t// \t\tthis.header.style.position = 'fixed';\n\t\t// \t\tthis.header.style.top = `${this.$cookie.offsetHeight - window.pageYOffset}px`;\n\t\t// \t}\n\t\t// } else {\n\t\t// \tthis.header.style.position = 'fixed';\n\t\t// \tthis.header.style.top = '0px';\n\t\t// \twindow.removeEventListener('scroll', this.stickyHeader);\n\t\t// }\n\t}\n\n\tacceptAll() {\n\t\tif (this.props.onAccept) {\n\t\t\tthis.props.onAccept();\n\t\t}\n\n\t\tif (typeof document !== 'undefined') {\n\t\t\tremoveClass(document.body, 'cookieScrollLock');\n\t\t}\n\t\t// this.setState({ display: !this.state.display });\n\n\t\tStore.emit('ACCEPT_COOKIES', this.props.categories);\n\t}\n\n\tdisplaySettings() {\n\t\tStore.emit('COOKIE_PREFERENCES_OPEN');\n\t}\n\n\trender(props) {\n\t\tconst { locked } = this.state;\n\t\tconst { options = {}, copy = {} } = props.appData || {};\n\t\tconst { cookiesModal = {} } = options;\n\t\tconst { legalCopy, position } = cookiesModal;\n\t\tconst stickyTop = position === 'stickyTop';\n\t\tconst stickyBottom = position === 'stickyBottom';\n\t\tconst fixedTop = position === 'fixedTop';\n\t\tconst float = position === 'float';\n\t\tconst href = cookiesModal.link || accessNested(props, 'appData.urls.cookieTextLink');\n\t\tconst fontStyles = accessNested(props, 'appData.styling.fontVariables');\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.cookiesContainer, props.hidden && s.hidden)} ref={ref => this.$cookie = ref}>\n\t\t\t\t{locked && <div class={s.lockout} />}\n\t\t\t\t<div\n\t\t\t\t\tclass={joinClasses({\n\t\t\t\t\t\ts, container: true,\n\t\t\t\t\t\ttop: stickyTop,\n\t\t\t\t\t\tfloat,\n\t\t\t\t\t\tfixedTop,\n\t\t\t\t\t\tbottom: stickyBottom,\n\t\t\t\t\t\tdisplay: this.state.display\n\t\t\t\t\t})}\n\t\t\t\t\tkey=\"cookie\"\n\t\t\t\t\tdata-section=\"cookies\"\n\t\t\t\t>\n\t\t\t\t\t<div class={s.spacer}>\n\t\t\t\t\t\t<div class={joinClasses(s.text, fontStyles.cookieBannerCopy)}>\n\t\t\t\t\t\t\t{legalCopy ?\n\t\t\t\t\t\t\t\t<HTML tag=\"p\" class={s.questionText} content={legalCopy} markdown />\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t<HTML tag=\"span\" markdown>{copy.baseCopy.$COOKIE_TEXT_START}</HTML>\n\t\t\t\t\t\t\t\t\t\t<span> </span>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={href} target=\"_blank\" class={fontStyles.cookiePolicyLink}\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst pageId = accessNested(props, `appData.pages.${href}`, null);\n\t\t\t\t\t\t\t\t\t\t\t\tif (pageId) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Store.emit('COOKIE_PREFERENCES_CLOSE');\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Store.emit('COOKIE_BANNER_CLOSE');\n\t\t\t\t\t\t\t\t\t\t\t\t\tStore.emit('CLOSE_AND_NAVIGATE', href, e);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{copy.baseCopy.$COOKIE_LINK_COPY}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t{copy.baseCopy.$COOKIE_TEXT_END}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class={s.buttonWrapper}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass={joinClasses(s.accept, s.button, fontStyles.cookieAcceptBtn)}\n\t\t\t\t\t\t\t\tonClick={this.acceptAll}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{copy.baseCopy.$ACCEPT_COOKIES}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass={joinClasses(s.settings, s.button, fontStyles.cookieManageBtn)}\n\t\t\t\t\t\t\t\tonClick={this.displaySettings}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{copy.baseCopy.$COOKIE_SETTINGS}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"cookies__container__tjb6A\",\"top\":\"cookies__top__rrVG1\",\"bottom\":\"cookies__bottom__IgtCK\",\"fixedTop\":\"cookies__fixedTop__jvtEH\",\"float\":\"cookies__float__iUfKj\",\"text\":\"cookies__text__Pso0z\",\"hidden\":\"cookies__hidden__dYEIU\",\"cookiesContainer\":\"cookies__cookiesContainer__aSBt5\",\"buttonWrapper\":\"cookies__buttonWrapper__nzpTu\",\"lockout\":\"cookies__lockout__euX1X\",\"spacer\":\"cookies__spacer__JjdIz\",\"button\":\"cookies__button__xcRy6\",\"accept\":\"cookies__accept__k17f1\",\"settings\":\"cookies__settings__IKCdL\"};"],"names":["h","Component","pure","Store","s","addClass","removeClass","accessNested","joinClasses","HTML","Cookies","_decorate","_initialize","_Component","constructor","props","_len","arguments","length","args","Array","_key","state","locked","acceptAll","bind","displaySettings","stickyHeader","F","d","kind","key","value","componentDidMount","document","body","window","history","scrollRestoration","fixedTop","header","getElementById","headerOffset","offsetTop","addEventListener","ResizeObserver","cookieHeight","resizeObserver","entries","contentRect","height","emit","observe","$cookie","offsetHeight","componentWillUnmount","removeEventListener","disconnect","onAccept","categories","render","options","copy","appData","cookiesModal","legalCopy","position","stickyTop","stickyBottom","float","href","link","fontStyles","class","cookiesContainer","hidden","ref","lockout","container","top","bottom","display","spacer","text","cookieBannerCopy","tag","questionText","content","markdown","baseCopy","$COOKIE_TEXT_START","target","cookiePolicyLink","onClick","e","pageId","$COOKIE_LINK_COPY","$COOKIE_TEXT_END","buttonWrapper","accept","button","cookieAcceptBtn","$ACCEPT_COOKIES","settings","cookieManageBtn","$COOKIE_SETTINGS","default"],"sourceRoot":""}