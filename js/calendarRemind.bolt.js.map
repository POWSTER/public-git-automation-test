{"version":3,"file":"js/calendarRemind.bolt.js?v=91631128fe33582853b5","mappings":"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","sources":["webpack://thundr/./static/src/components/bolt/calendarRemind/calendarRemind.js","webpack://thundr/./static/src/components/bolt/calendarRemind/calendarRemindButtons.js","webpack://thundr/./static/src/components/bolt/calendarRemind/calendarRemind.sss?d432","webpack://thundr/./static/src/components/bolt/calendarRemind/calendarRemindButtons.sss?d826"],"sourcesContent":["import { h, Component } from 'preact';\nimport { accessNested, joinClasses } from 'utils/utils';\nimport formatDateTime from 'utils/formatDateTime';\nimport Store from 'store/store';\nimport BurgerMenu from 'components/bolt/burgerMenu/burgerMenu';\nimport CalendarRemindButtons from 'components/bolt/calendarRemind/calendarRemindButtons';\nimport HTML from 'components/core/html/html';\n\nimport s from 'components/bolt/calendarRemind/calendarRemind.sss';\n\nexport default class CalendarRemind extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.closeOverlay = this.closeOverlay.bind(this);\n\t}\n\n\n\tcloseOverlay({ target }) {\n\t\tif (target === this.container) {\n\t\t\tStore.emit('CLOSE_CAL_REMIND');\n\t\t}\n\t}\n\n\n\trender({ appData, open, offsetTop }) {\n\t\tif (!open) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { copy } = appData;\n\t\tconst store = Store.get();\n\n\t\tlet siteUrl = accessNested(appData, 'meta.url', '');\n\t\tsiteUrl = siteUrl.replace(/https:\\/\\//, '');\n\t\tconst liveDate = accessNested(this.props, 'appData.meta.dates.live') || accessNested(this.props, 'appData.meta.dates.boxOffice') || accessNested(this.props, 'appData.meta.dates.release');\n\t\tconst remindMeDateWithOffset = new Date(liveDate);\n\t\tconst remindMeDate = new Date( remindMeDateWithOffset.getTime() - remindMeDateWithOffset.getTimezoneOffset() * -60000 );\n\t\tconst dateTimeCopy = accessNested(copy, 'baseCopy.$DATETIME_LOCALE', {});\n\t\tconst dateTimeFormat = dateTimeCopy.calendarReminderFormat || 'dddd, dd MMM yyyy';\n\t\tconst formattedDate = formatDateTime(new Date(remindMeDate), dateTimeFormat, dateTimeCopy);\n\t\tconst calObj = accessNested(appData, 'header.powsterHeader.calendars', {});\n\n\t\tconst summary = copy.baseCopy[calObj.calEventTitle] || calObj.calEventTitle || '';\n\t\tconst description = copy.baseCopy[calObj.calEventBody] || calObj.calEventBody;\n\t\tconst location = copy.baseCopy[calObj.calEventLocation] || calObj.calEventLocation || '';\n\t\tconst chooseCalCopy = copy.baseCopy[calObj.chooseCalCopy] || calObj.chooseCalCopy || 'Choose a calendar';\n\n\t\tconst fontStyles = accessNested(appData, 'styling.fontVariables');\n\n\t\tlet style = {};\n\t\tconst externalCookieBanner = accessNested(store, 'externalCookieBanner', false);\n\t\tconst isMobile = !accessNested(store, 'client.isDesktopSize', false);\n\t\tconst externalBannerOpenMobile = externalCookieBanner.bannerOpen && isMobile;\n\n\t\tif (offsetTop && typeof window !== 'undefined') {\n\t\t\t// make the overlay scrollable if the evidon banner is open\n\t\t\tstyle = {\n\t\t\t\theight: (window.innerHeight - offsetTop) + 'px',\n\t\t\t\ttop: offsetTop + 'px',\n\t\t\t};\n\t\t}\n\n\t\tif (externalBannerOpenMobile) {\n\t\t\tstyle.overflowY = 'scroll';\n\t\t\tstyle.display = 'block';\n\t\t}\n\n\t\treturn (\n\t\t\t<div style={style} class={s.container} onClick={this.closeOverlay} ref={ref => this.container = ref}>\n\t\t\t\t<BurgerMenu\n\t\t\t\t\ttype='close'\n\t\t\t\t\tcalendarRemind\n\t\t\t\t\textraClass={s.calendarRemindCloseButton}\n\t\t\t\t/>\n\t\t\t\t<div class={s.notepad} role='dialog' style={externalBannerOpenMobile && { margin: '100px auto' }}>\n\t\t\t\t\t<div class={s.header}>\n\t\t\t\t\t\t<div class={s.hole}/>\n\t\t\t\t\t\t<div class={s.hole}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class={s.content}>\n\t\t\t\t\t\t<div class={s.releaseDetails}>\n\t\t\t\t\t\t\t<HTML tag=\"span\" class={joinClasses(s.title, fontStyles.headerCalendarReminderTitle)} markdown content={summary} />\n\t\t\t\t\t\t\t<span class={joinClasses(s.date, fontStyles.headerCalendarReminderBody)}>{formattedDate}</span>\n\t\t\t\t\t\t\t<span class={s.vanity}>{siteUrl}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CalendarRemindButtons \n\t\t\t\t\t\t\tremindMeDate={remindMeDate}\n\t\t\t\t\t\t\tsummary={summary}\n\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\tlocation={location}\n\t\t\t\t\t\t\tcalObj={calObj}\n\t\t\t\t\t\t\tisShowtimes\n\t\t\t\t\t\t\tchooseCalCopy={chooseCalCopy}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport { accessNested, sortObjectByOrder, joinClasses } from 'utils/utils';\nimport formatDateTime from 'utils/formatDateTime';\nimport Store from 'store/store';\nimport Link from 'components/bolt/link/link';\n\nimport s from 'components/bolt/calendarRemind/calendarRemindButtons.sss';\n\n\nexport default class CalendarRemindButtons extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setCalData(props);\n\t}\n\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps !== this.props) {\n\t\t\tthis.setCalData(this.props);\n\t\t}\n\t}\n\n\tsetCalData(props) {\n\t\tconst { remindMeDate, summary, description, location } = props;\n\t\tconst startTime = formatDateTime(remindMeDate, 'yyyyMMdd');\n\t\tlet endTime = remindMeDate.setDate(remindMeDate.getDate() + 1);\n\t\tendTime = formatDateTime(endTime, 'yyyyMMdd');\n\t\tconst icsDescription = (description || '').split('\\n').filter(a => a).join('\\\\n\\\\n');\n\n\t\tconst icsCalendarContent = [\n\t\t\t'BEGIN:VCALENDAR',\n\t\t\t'VERSION:2.0',\n\t\t\t'PRODID:-//powster//NONSGML v1.0//EN',\n\t\t\t'BEGIN:VEVENT',\n\t\t\t// 'URL;VALUE=URI:' + siteUrl,\n\t\t\t'DTSTART;VALUE=DATE:' + (startTime || ''),\n\t\t\t'DTEND:' + (endTime || ''),\n\t\t\t'SUMMARY:' + summary,\n\t\t\t'DESCRIPTION:' + icsDescription,\n\t\t\t'LOCATION:' + location,\n\t\t\t'END:VEVENT',\n\t\t\t'END:VCALENDAR',\n\t\t\t''\n\t\t].join(typeof navigator !== 'undefined' && navigator.appVersion.indexOf('Win') !== -1 ? '\\r\\n' : '\\n');\n\n\t\tconst icsHref = 'data:text/calendar;charset=utf8,' + encodeURIComponent(icsCalendarContent);\n\n\t\tthis.calDetails = {\n\t\t\tgoogleCal: {\n\t\t\t\tname: 'Google Calendar',\n\t\t\t\ticon: 'googlecal.png',\n\t\t\t\thref: (\n\t\t\t\t\t[\n\t\t\t\t\t\t'https://www.google.com/calendar/render',\n\t\t\t\t\t\t'?action=TEMPLATE',\n\t\t\t\t\t\t'&text=' + encodeURIComponent(summary),\n\t\t\t\t\t\t'&location=' + encodeURIComponent(location),\n\t\t\t\t\t\t'&dates=' + (startTime || ''),\n\t\t\t\t\t\t'/' + (endTime || ''),\n\t\t\t\t\t\t'&details=' + encodeURIComponent([description].filter(e => e).join(' ')),\n\t\t\t\t\t\t'&sprop=&sprop=name:'\n\t\t\t\t\t].join('')),\n\t\t\t\ttarget: '_blank',\n\t\t\t\torder: 1\n\t\t\t},\n\t\t\tiCal: {\n\t\t\t\tname: 'Apple iCal',\n\t\t\t\ticon: 'ical.png',\n\t\t\t\tdownload: 'calendar.ics',\n\t\t\t\thref: icsHref,\n\t\t\t\torder: 2\n\t\t\t},\n\t\t\toutlook: {\n\t\t\t\tname: 'Microsoft Outlook',\n\t\t\t\ticon: 'outlook.png',\n\t\t\t\tdownload: 'calendar.ics',\n\t\t\t\thref: icsHref,\n\t\t\t\torder: 3\n\t\t\t},\n\t\t\tyahoo: {\n\t\t\t\tname: 'Yahoo',\n\t\t\t\ticon: 'yahoo.png',\n\t\t\t\tdownload: 'calendar.ics',\n\t\t\t\thref: icsHref,\n\t\t\t\torder: 4\n\t\t\t}\n\t\t};\n\t}\n\n\tgetEnabledCals(calObj) {\n\t\tconst calPriority = sortObjectByOrder(this.calDetails, (obj, cal) => cal).reverse();\n\t\treturn Object.keys(calObj).filter(cal => calObj[cal] && calPriority.includes(cal)).sort((a, b) => calPriority.indexOf(b) - calPriority.indexOf(a));\n\t}\n\n\trenderCal(cal, i) {\n\t\tconst sharedImageRoot = accessNested(Store.get(), 'appData.urls.roots.sharedImages');\n\t\tconst { iconShade } = this.props;\n\t\tlet calAriaLabel = accessNested(Store.get(), 'appData.copy.accessibilityCopy.$CALENDAR_NAME_ARIA');\n\t\tif (calAriaLabel) {\n\t\t\tcalAriaLabel = calAriaLabel.replace('<calendar>', this.calDetails[cal].name);\n\t\t}\n\t\tconst iconFolder = iconShade ? `cal-icons-${iconShade}` : `cal-icons-light`;\n\t\tlet calColor;\n\t\tif (iconShade && iconShade === 'dark') {\n\t\t\tcalColor = accessNested(Store.get(), 'appData.styling.variables.white', '#FFF');\n\t\t} else if (iconShade && iconShade === 'light') {\n\t\t\tcalColor = accessNested(Store.get(), 'appData.styling.variables.black', '#000');\n\t\t}\n\t\tconst homeEntCalNameOverride = accessNested(Store.get(), 'appData.styling.variables.homeEntCalNameColor');\n\t\tif (this.props.isHomeEnt && homeEntCalNameOverride) {\n\t\t\tcalColor = homeEntCalNameOverride;\n\t\t}\n\t\tlet calNameStyle = {\n\t\t\tcolor: calColor\n\t\t};\n\n\t\treturn (\n\t\t\t<Link\n\t\t\t\thref={this.calDetails[cal].href}\n\t\t\t\ttarget={this.calDetails[cal].target}\n\t\t\t\tdownload={this.calDetails[cal].download}\n\t\t\t\taria-label={calAriaLabel}\n\t\t\t\ttitle={this.calDetails[cal].name}\n\t\t\t\tkey={cal}\n\t\t\t\tonClick={()=> {Store.emit('CALENDAR_CLICKED', {label: cal});}}\n\t\t\t>\n\t\t\t\t<div class={joinClasses(s.cal, i === 0 && s.firstCal)}>\n\t\t\t\t\t<div class={s.icon}>\n\t\t\t\t\t\t<img src={`${sharedImageRoot}/${iconFolder}/${this.calDetails[cal].icon}`}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class={s.calName} style={calNameStyle}>{this.calDetails[cal].name}</span>\n\t\t\t\t</div>\n\t\t\t</Link>\n\t\t);\n\t}\n\n\n\trender({ calObj, isShowtimes, isHomeEnt, chooseCalCopy }) {\n\t\tconst enabledCalendars = this.getEnabledCals(calObj);\n\t\tconst fontStyles = accessNested(Store.get(), 'appData.styling.fontVariables', {});\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.calendarOptions, isHomeEnt && s.homeEntCalOptions)}>\n\t\t\t\t<span class={joinClasses(s.chooseCal, isShowtimes && fontStyles.headerChooseCalendar, isHomeEnt && fontStyles.homeEntCalRemindChooseCalCopy)}>{chooseCalCopy}</span>\n\t\t\t\t{enabledCalendars.map((cal, i) => this.renderCal(cal, i))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"calendarRemind__container__fDBFu\",\"notepad\":\"calendarRemind__notepad__FG4yr\",\"header\":\"calendarRemind__header__G5cWc\",\"hole\":\"calendarRemind__hole__y5ACY\",\"content\":\"calendarRemind__content__yhiZJ\",\"releaseDetails\":\"calendarRemind__releaseDetails__RaitU\",\"title\":\"calendarRemind__title__QJ9a2\",\"date\":\"calendarRemind__date__NyjjD\",\"vanity\":\"calendarRemind__vanity__jD12A\",\"calendarRemindCloseButton\":\"calendarRemind__calendarRemindCloseButton__eooAb\"};","// extracted by mini-css-extract-plugin\nexport default {\"calendarOptions\":\"calendarRemindButtons__calendarOptions__S1xOp\",\"chooseCal\":\"calendarRemindButtons__chooseCal__q_RWn\",\"cal\":\"calendarRemindButtons__cal__yhK8L\",\"icon\":\"calendarRemindButtons__icon__lnItL\",\"calName\":\"calendarRemindButtons__calName__UOZvc medium\",\"homeEntCalOptions\":\"calendarRemindButtons__homeEntCalOptions__Mg7LQ\",\"firstCal\":\"calendarRemindButtons__firstCal__f5LQ4\"};"],"names":["h","Component","accessNested","joinClasses","formatDateTime","Store","BurgerMenu","CalendarRemindButtons","HTML","s","CalendarRemind","constructor","props","closeOverlay","bind","_ref","target","container","emit","render","_ref2","appData","open","offsetTop","copy","store","get","siteUrl","replace","liveDate","remindMeDateWithOffset","Date","remindMeDate","getTime","getTimezoneOffset","dateTimeCopy","dateTimeFormat","calendarReminderFormat","formattedDate","calObj","summary","baseCopy","calEventTitle","description","calEventBody","location","calEventLocation","chooseCalCopy","fontStyles","style","externalCookieBanner","isMobile","externalBannerOpenMobile","bannerOpen","window","height","innerHeight","top","overflowY","display","class","onClick","ref","type","calendarRemind","extraClass","calendarRemindCloseButton","notepad","role","margin","header","hole","content","releaseDetails","tag","title","headerCalendarReminderTitle","markdown","date","headerCalendarReminderBody","vanity","isShowtimes","sortObjectByOrder","Link","setCalData","componentDidUpdate","prevProps","startTime","endTime","setDate","getDate","icsDescription","split","filter","a","join","icsCalendarContent","navigator","appVersion","indexOf","icsHref","encodeURIComponent","calDetails","googleCal","name","icon","href","e","order","iCal","download","outlook","yahoo","getEnabledCals","calPriority","obj","cal","reverse","Object","keys","includes","sort","b","renderCal","i","sharedImageRoot","iconShade","calAriaLabel","iconFolder","calColor","homeEntCalNameOverride","isHomeEnt","calNameStyle","color","key","label","firstCal","src","calName","enabledCalendars","calendarOptions","homeEntCalOptions","chooseCal","headerChooseCalendar","homeEntCalRemindChooseCalCopy","map"],"sourceRoot":""}