{"version":3,"file":"js/bolt.js","mappings":"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AkE,WAAW,eAAe,4BAA4B,2BAA2B,gBAAgB;;;;;;;;;;;;ACA30F;;AAEb,sBAAsB,mBAAO,CAAC,kEAAkB;;AAEhD;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,IAAI;;AAE/C;AACA;AACA,4BAA4B,UAAU;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;AClHA,cAAc,mBAAO,CAAC,+DAAe;AACrC;;;;;;;;;;;ACDa;;AAEb,YAAY,mBAAO,EAAE,uDAAS;;;;AAI9B;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,+BAA+B;AAClD;;AAEA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,cAAc,sBAAsB;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,QAAQ;AAC7C;AACA;;AAEA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtGa;AACb;AACA,YAAY,mBAAO,EAAE,0DAAY;AACjC,WAAW,mBAAO,EAAE,2DAAW;AAC/B,UAAU,mBAAO,EAAE,yDAAU;AAC7B;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,sBAAsB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,sBAAsB,uCAAuC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5Ia;AACb;AACA,YAAY,mBAAO,EAAE,uDAAS;AAC9B,eAAe,mBAAO,EAAE,mEAAe;AACvC,WAAW,mBAAO,CAAC,2DAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrda;;AAEb,YAAY,mBAAO,EAAE,0DAAY;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kCAAkC,KAAK;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvMa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,cAAc;AACd,mCAAmC;AACnC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,6BAA6B,OAAO;AACpC;AACA;AACA;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;;AAEF;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,cAAc;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,wCAAwC,YAAoB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;;;;;;;;AC3LA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB,OAAO;AAC3B;AACA,IAAI;AACJ,oBAAoB,OAAO;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;;AAEA,0CAA0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CA;WACA;WACA;WACA;WACA;WACA,IAAI;WACJ;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;WAGA;WACA;WACA,GAAG;WACH;WACA;WACA;WACA;WACA;WACA;WACA,gBAAgB,6BAA6B;WAC7C;WACA;WACA;WACA;WACA;WACA,gBAAgB,8BAA8B;WAC9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;WACA;WACA;WACA;;WAEA;WACA,kBAAkB;WAClB;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,GAAG;WACH;WACA;;WAEA;;;;;WC1EA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;;;;;;;;;;;;;;;;;;;;;ACvFmC;AACJ;AACK;AAED;AACe;AACV;AACR;AAEhC,IAAI9nG,YAAY,GAAG4zE,gEAAoB,CAACz2E,MAAM,CAACmmE,iBAAiB,CAAC;AAEjE,IAAIx/C,IAAI,GAAG5f,QAAQ,CAACwlB,cAAc,CAAC,KAAK,CAAC,IAAIxlB,QAAQ,CAACC,IAAI;AAC1D0Q,8CAAM,CAAC7Z,yCAAA,CAACwE,yDAAO;EAACQ,YAAY,EAAEA;AAAa,CAAE,CAAC,EAAE8jB,IAAI,EAAEA,IAAI,CAACm/B,UAAU,CAAC,C","sources":["webpack://thundr/webpack/universalModuleDefinition","webpack://thundr/./static/src/base/bolt/boltApp.js","webpack://thundr/./static/src/base/bolt/setRelativeRoot.js","webpack://thundr/./static/src/components/bolt/ageGate/ageGate.js","webpack://thundr/./static/src/components/bolt/burgerMenu/burgerMenu.js","webpack://thundr/./static/src/components/bolt/button/button.js","webpack://thundr/./static/src/components/bolt/countdown/countdown.js","webpack://thundr/./static/src/components/bolt/footer/footer.js","webpack://thundr/./static/src/components/bolt/gallery/gallery.js","webpack://thundr/./static/src/components/bolt/header/header.js","webpack://thundr/./static/src/components/bolt/header/headerExpanded.js","webpack://thundr/./static/src/components/bolt/header/sharePopout.js","webpack://thundr/./static/src/components/bolt/icons/arrowDown.js","webpack://thundr/./static/src/components/bolt/icons/check.js","webpack://thundr/./static/src/components/bolt/icons/chevron.js","webpack://thundr/./static/src/components/bolt/icons/close.js","webpack://thundr/./static/src/components/bolt/icons/copy.js","webpack://thundr/./static/src/components/bolt/icons/download.js","webpack://thundr/./static/src/components/bolt/icons/facebook.js","webpack://thundr/./static/src/components/bolt/icons/giphy.js","webpack://thundr/./static/src/components/bolt/icons/instagram.js","webpack://thundr/./static/src/components/bolt/icons/mail.js","webpack://thundr/./static/src/components/bolt/icons/phone.js","webpack://thundr/./static/src/components/bolt/icons/pinterest.js","webpack://thundr/./static/src/components/bolt/icons/share.js","webpack://thundr/./static/src/components/bolt/icons/snapchat.js","webpack://thundr/./static/src/components/bolt/icons/spotify.js","webpack://thundr/./static/src/components/bolt/icons/telegram.js","webpack://thundr/./static/src/components/bolt/icons/threads.js","webpack://thundr/./static/src/components/bolt/icons/tiktok.js","webpack://thundr/./static/src/components/bolt/icons/tumblr.js","webpack://thundr/./static/src/components/bolt/icons/twitch.js","webpack://thundr/./static/src/components/bolt/icons/twitter.js","webpack://thundr/./static/src/components/bolt/icons/viber.js","webpack://thundr/./static/src/components/bolt/icons/vimeo.js","webpack://thundr/./static/src/components/bolt/icons/whatsapp.js","webpack://thundr/./static/src/components/bolt/icons/youtube.js","webpack://thundr/./static/src/components/bolt/landscapeOverlay/landscapeOverlay.js","webpack://thundr/./static/src/components/bolt/link/link.js","webpack://thundr/./static/src/components/bolt/matterhorn/matterhorn.js","webpack://thundr/./static/src/components/bolt/nativeVideo/nativeVideo.js","webpack://thundr/./static/src/components/bolt/section/section.js","webpack://thundr/./static/src/components/bolt/sectionBackground/sectionBackground.js","webpack://thundr/./static/src/components/bolt/socials/socials.js","webpack://thundr/./static/src/components/bolt/text/text.js","webpack://thundr/./static/src/components/bolt/toutHorizontal/toutHorizontal.js","webpack://thundr/./static/src/components/bolt/videos/player.js","webpack://thundr/./static/src/components/bolt/vimeo/vimeo.js","webpack://thundr/./static/src/components/bolt/youtube/youtube.js","webpack://thundr/./static/src/components/core/html/html.js","webpack://thundr/./static/src/components/core/transition/transition.js","webpack://thundr/./static/src/components/core/transition/transitionStates.js","webpack://thundr/./static/src/components/shared/dynamicPageLoader/dynamicPageLoader.js","webpack://thundr/./static/src/components/shared/dynamicPageLoader/loader.js","webpack://thundr/./static/src/services/boltYoutube.js","webpack://thundr/./static/src/store/actions.js","webpack://thundr/./static/src/store/bolt/ageGate.js","webpack://thundr/./static/src/store/bolt/calendarRemind.js","webpack://thundr/./static/src/store/bolt/cookies.js","webpack://thundr/./static/src/store/bolt/externalCookieBanner.js","webpack://thundr/./static/src/store/bolt/footer.js","webpack://thundr/./static/src/store/bolt/gallery.js","webpack://thundr/./static/src/store/bolt/geo.js","webpack://thundr/./static/src/store/bolt/header.js","webpack://thundr/./static/src/store/bolt/index.js","webpack://thundr/./static/src/store/bolt/pixels.js","webpack://thundr/./static/src/store/bolt/subscriberPopup.js","webpack://thundr/./static/src/store/bolt/trackingV2.js","webpack://thundr/./static/src/store/bolt/trailerOverlay.js","webpack://thundr/./static/src/store/store.js","webpack://thundr/./static/src/utils/assets.js","webpack://thundr/./static/src/utils/bolt/api.js","webpack://thundr/./static/src/utils/bolt/appRegions.js","webpack://thundr/./static/src/utils/bolt/client.js","webpack://thundr/./static/src/utils/bolt/geo.js","webpack://thundr/./static/src/utils/bolt/header.js","webpack://thundr/./static/src/utils/bolt/index.js","webpack://thundr/./static/src/utils/bolt/showtimesLoader.js","webpack://thundr/./static/src/utils/bolt/webp.js","webpack://thundr/./static/src/utils/cached.js","webpack://thundr/./static/src/utils/cookies.js","webpack://thundr/./static/src/utils/copy.js","webpack://thundr/./static/src/utils/formatDateTime.js","webpack://thundr/./static/src/utils/gdpr/Pixel.js","webpack://thundr/./static/src/utils/gdpr/categories.js","webpack://thundr/./static/src/utils/gdpr/cleanCategoryName.js","webpack://thundr/./static/src/utils/gdpr/constants.js","webpack://thundr/./static/src/utils/gdpr/createPixelComponent.js","webpack://thundr/./static/src/utils/gdpr/didomi/categories.js","webpack://thundr/./static/src/utils/gdpr/didomi/index.js","webpack://thundr/./static/src/utils/gdpr/dispatchEvent.js","webpack://thundr/./static/src/utils/gdpr/evidon/categories.js","webpack://thundr/./static/src/utils/gdpr/evidon/index.js","webpack://thundr/./static/src/utils/gdpr/index.js","webpack://thundr/./static/src/utils/gdpr/maybeHandle.js","webpack://thundr/./static/src/utils/gdpr/oneTrust/categories.js","webpack://thundr/./static/src/utils/gdpr/oneTrust/connectToOneTrust.js","webpack://thundr/./static/src/utils/gdpr/oneTrust/iframe.js","webpack://thundr/./static/src/utils/gdpr/oneTrust/index.js","webpack://thundr/./static/src/utils/gdpr/queue.js","webpack://thundr/./static/src/utils/gdpr/sme/index.js","webpack://thundr/./static/src/utils/gdpr/tealium/categories.js","webpack://thundr/./static/src/utils/gdpr/tealium/index.js","webpack://thundr/./static/src/utils/geoFencing.js","webpack://thundr/./static/src/utils/getCopyWithParams.js","webpack://thundr/./static/src/utils/handleApi.js","webpack://thundr/./static/src/utils/historyPushEvent.js","webpack://thundr/./static/src/utils/hooks.js","webpack://thundr/./static/src/utils/hoverDetection.js","webpack://thundr/./static/src/utils/isWebPSupported.js","webpack://thundr/./static/src/utils/math.js","webpack://thundr/./static/src/utils/parseQueryString.js","webpack://thundr/./static/src/utils/pendingPromise.js","webpack://thundr/./static/src/utils/pure.js","webpack://thundr/./static/src/utils/runHTMLScripts.js","webpack://thundr/./static/src/utils/slugify.js","webpack://thundr/./static/src/utils/smoothScroll.js","webpack://thundr/./static/src/utils/stringWithParams.js","webpack://thundr/./static/src/utils/tabbingDetection.js","webpack://thundr/./static/src/utils/tryToPlayVideo.js","webpack://thundr/./static/src/utils/utils.js","webpack://thundr/./static/src/utils/visibilityChecks.js","webpack://thundr/./static/src_overrides/studios/netflix/store/actions.js","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/header/header.js","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/text/text.js","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/toutHorizontal/toutHorizontal.js","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/pages/bolt_features.js","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/pages/bolt_pages.js","webpack://thundr/./static/src/base-styles/boltGlobal.sss?4cf9","webpack://thundr/./static/src/base-styles/reset.sss?f0d2","webpack://thundr/./static/src/components/bolt/ageGate/ageGate.sss?9e23","webpack://thundr/./static/src/components/bolt/button/button.sss?70e4","webpack://thundr/./static/src/components/bolt/countdown/countdown.sss?5abd","webpack://thundr/./static/src/components/bolt/gallery/gallery.sss?4a2c","webpack://thundr/./static/src/components/bolt/header/sharePopout.sss?8a83","webpack://thundr/./static/src/components/bolt/landscapeOverlay/landscapeOverlay.sss?fb2a","webpack://thundr/./static/src/components/bolt/matterhorn/matterhorn.sss?1cc1","webpack://thundr/./static/src/components/bolt/nativeVideo/nativeVideo.sss?8198","webpack://thundr/./static/src/components/bolt/section/section.sss","webpack://thundr/./static/src/components/bolt/sectionBackground/sectionBackground.sss?65f0","webpack://thundr/./static/src/components/bolt/socials/socials.sss?6fdc","webpack://thundr/./static/src/components/bolt/videos/player.sss?3a0d","webpack://thundr/./static/src/components/bolt/vimeo/vimeo.sss","webpack://thundr/./static/src/components/bolt/youtube/youtube.sss?292f","webpack://thundr/./static/src/components/core/transition/transition.sss?4145","webpack://thundr/./static/src/components/shared/dynamicPageLoader/dynamicPageLoader.sss?494e","webpack://thundr/./static/src/components/shared/dynamicPageLoader/loader.sss","webpack://thundr/./static/src_overrides/studios/netflix/regions/us/base/bolt/boltApp.sss?8f50","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/burgerMenu/burgerMenu.sss?1876","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/footer/footer.sss?d25d","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/header/header.sss?6f59","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/header/headerExpanded.sss?567f","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/text/text.sss?364a","webpack://thundr/./static/src_overrides/studios/netflix/titles/the-real-squid-game/regions/us/components/bolt/toutHorizontal/toutHorizontal.sss?ca37","webpack://thundr/./node_modules/body-scroll-lock/lib/bodyScrollLock.min.js","webpack://thundr/./node_modules/copy-to-clipboard/index.js","webpack://thundr/./node_modules/freezer-js/freezer.js","webpack://thundr/./node_modules/freezer-js/src/emitter.js","webpack://thundr/./node_modules/freezer-js/src/freezer.js","webpack://thundr/./node_modules/freezer-js/src/frozen.js","webpack://thundr/./node_modules/freezer-js/src/nodeCreator.js","webpack://thundr/./node_modules/freezer-js/src/utils.js","webpack://thundr/./node_modules/shallow-equals/index.js","webpack://thundr/./node_modules/toggle-selection/index.js","webpack://thundr/./node_modules/marked/src/defaults.ts","webpack://thundr/./node_modules/marked/src/helpers.ts","webpack://thundr/./node_modules/marked/src/Tokenizer.ts","webpack://thundr/./node_modules/marked/src/rules.ts","webpack://thundr/./node_modules/marked/src/Lexer.ts","webpack://thundr/./node_modules/marked/src/Renderer.ts","webpack://thundr/./node_modules/marked/src/TextRenderer.ts","webpack://thundr/./node_modules/marked/src/Parser.ts","webpack://thundr/./node_modules/marked/src/Hooks.ts","webpack://thundr/./node_modules/marked/src/Instance.ts","webpack://thundr/./node_modules/marked/src/marked.ts","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://thundr/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://thundr/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://thundr/./node_modules/preact/src/vnode.js","webpack://thundr/./node_modules/preact/src/options.js","webpack://thundr/./node_modules/preact/src/h.js","webpack://thundr/./node_modules/preact/src/util.js","webpack://thundr/./node_modules/preact/src/clone-element.js","webpack://thundr/./node_modules/preact/src/constants.js","webpack://thundr/./node_modules/preact/src/render-queue.js","webpack://thundr/./node_modules/preact/src/vdom/index.js","webpack://thundr/./node_modules/preact/src/dom/index.js","webpack://thundr/./node_modules/preact/src/vdom/diff.js","webpack://thundr/./node_modules/preact/src/vdom/component-recycler.js","webpack://thundr/./node_modules/preact/src/vdom/component.js","webpack://thundr/./node_modules/preact/src/component.js","webpack://thundr/./node_modules/preact/src/render.js","webpack://thundr/./node_modules/preact/src/preact.js","webpack://thundr/webpack/bootstrap","webpack://thundr/webpack/runtime/compat get default export","webpack://thundr/webpack/runtime/define property getters","webpack://thundr/webpack/runtime/ensure chunk","webpack://thundr/webpack/runtime/get javascript chunk filename","webpack://thundr/webpack/runtime/get mini-css chunk filename","webpack://thundr/webpack/runtime/hasOwnProperty shorthand","webpack://thundr/webpack/runtime/load script","webpack://thundr/webpack/runtime/make namespace object","webpack://thundr/webpack/runtime/publicPath","webpack://thundr/webpack/runtime/css loading","webpack://thundr/webpack/runtime/jsonp chunk loading","webpack://thundr/./static/src/base/bolt/bolt.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})((typeof self !== 'undefined' ? self : this), () => {\nreturn ","import { h, Component } from 'preact';\nimport Store from 'store/store';\nimport * as tracking from 'store/bolt/trackingV2';\nimport 'store/bolt';\nimport 'store/bolt/calendarRemind';\nimport 'store/bolt/cookies';\nimport 'store/bolt/ageGate';\nimport 'store/bolt/pixels';\nimport 'store/bolt/externalCookieBanner';\nimport 'store/bolt/subscriberPopup';\nimport 'store/bolt/trailerOverlay';\nimport pure from 'utils/pure';\nimport { clearAllBodyScrollLocks } from 'body-scroll-lock';\nimport { accessNested, joinClasses } from 'utils/utils';\nimport tryToPlayVideo from 'utils/tryToPlayVideo';\nimport tabbingDetection from 'utils/tabbingDetection';\nimport hoverDetection from 'utils/hoverDetection';\nimport parseQueryString from 'utils/parseQueryString';\nimport { getValueForClientSize, addCSSRuleset, getPageIdFromURL, getRelativePageUrl } from 'utils/bolt';\nimport { useDynamicAssetFolder } from 'utils/assets';\nimport { getPercentageThreshold } from 'utils/visibilityChecks';\nimport { shouldShowShowtimes, navigateInternally } from 'utils/bolt';\nimport { getIsDesktopSize, getIsSinglePageIframed } from 'utils/bolt/client';\nimport { getCookie } from 'utils/cookies';\nimport { getHeaderHeight } from 'utils/bolt';\nimport { getCopy } from 'utils/copy';\nimport Header from 'components/bolt/header/header';\nimport Footer from 'components/bolt/footer/footer';\n// import SignUpForm from 'components/bolt/signUpForm/signUpForm';\nimport LandscapeOverlay from 'components/bolt/landscapeOverlay/landscapeOverlay';\n// import TrailerOverlay from 'components/bolt/trailerOverlay/trailerOverlay';\nimport DynamicPageLoader from 'components/shared/dynamicPageLoader/dynamicPageLoader';\nimport {\n\tpages,\n\tSidePanelLoader,\n\tVideoOverlayLoader\n} from 'pages/bolt_pages';\nimport { pixelsCategories } from 'pages/bolt_features';\nimport * as webp from 'utils/bolt/webp';\nimport { isWebPSupported } from 'utils/isWebPSupported';\n\nif (typeof window !== 'undefined') {\n\twindow.navigateInternally = navigateInternally;\n}\n\nimport { marked } from 'marked';\nconst markedRenderer = new marked.Renderer();\n\nconst replaceCopyVariables = (text) => {\n\treturn text.replace(/(\\\\)?(\\$[0-9A-Z_]+)/g, (match, backslash, name) => {\n\t\tif (backslash) return name;\n\t\treturn getCopy(name) || name;\n\t});\n};\n\nmarkedRenderer.html = (html) => {\n\treturn replaceCopyVariables(html);\n};\n\nmarkedRenderer.text = (text) => {\n\treturn replaceCopyVariables(text);\n};\n\nmarkedRenderer.link = (href, title, text) => {\n\tlet attributes = {};\n\tif (title) attributes.title = title;\n\tif (href && href[0] === '+') {\n\t\thref = href.slice(1);\n\t\tattributes.target = '_blank';\n\t}\n\ttry {\n\t\thref = encodeURI(href).replace(/%25/g, '%');\n\t} catch (e) {\n\t\treturn text;\n\t}\n\tif (href && !/^((https?:)|mailto|(#\\$))/.test(href)) {\n\t\tconst [, page, qs, hash] = href.match(/^(.*?)(\\?.+?)?(#.+)?$/) || [];\n\t\thref = getRelativePageUrl(page, qs, hash) || '#';\n\t\tattributes.onclick = `event.preventDefault();navigateInternally('${page}'${qs ? `,{queryString:'${qs}'}` : ''});`;\n\t\tattributes.role = 'button';\n\t}\n\tattributes.href = href;\n\tlet attrString = Object.keys(attributes).map(key => key + '=\"' + attributes[key] + '\"').join(' ');\n\treturn '<a ' + attrString + '>' + text + '</a>';\n};\nmarked.setOptions({\n\trenderer: markedRenderer,\n\t// breaks: true,\n\tsmartLists: true\n});\n\nconst videosWithError = {};\n\nimport s from 'base/bolt/boltApp.sss';\n\nconst isServer = typeof window === 'undefined';\n\nexport default @pure class BoltApp extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state.appState = props.initialStore;\n\t\tthis.state.orientation = props.initialStore?.client?.orientation || 'portrait';\n\t\tthis.state.bgImageLoaded = false;\n\t\tthis.state.backgroundStyle = {};\n\t\tthis.state.fallbackBackgroundStyle = {};\n\t\tthis.state.posterVisible = true;\n\t\tthis.state.audioMuted = true;\n\t\t// Make isComponentLoaded \"not loaded\" only if the initial page is actually a page\n\t\tthis.state.isComponentLoaded = !pages[this.state.appState.activePage];\n\t\tStore.set(props.initialStore);\n\n\t\t// Store.on('afterAll', (...data) => console.info('STORE EVENT:', ...data));\n\t\tStore.on('update', () => {\n\t\t\tconst store = Store.get();\n\t\t\tthis.setState({ appState: store });\n\t\t});\n\n\t\tif (!isServer) {\n\t\t\ttracking.init(props.initialStore.appData?.tracking);\n\t\t\tthis.handleResize();\n\t\t\t// NOTE: should we delay this until componentDidMount? or setTimeout(, 0)?\n\t\t\tStore.emit('LANDING', { page: getPageIdFromURL(props.initialStore.appData?.pages) || window.__START_PAGE_ID__ });\n\t\t}\n\n\t\tthis.scrolling = this.scrolling.bind(this);\n\t\tthis.handleResize = this.handleResize.bind(this);\n\t\tthis.handlePopState = this.handlePopState.bind(this);\n\t\tthis.handleOrientationChange = this.handleOrientationChange.bind(this);\n\t\tthis.updateVisibilityPercentages = this.updateVisibilityPercentages.bind(this);\n\t\tthis.updateBgStyle = this.updateBgStyle.bind(this);\n\t\tthis.hidePoster = this.hidePoster.bind(this);\n\t\tthis.removeBgVideo = this.removeBgVideo.bind(this);\n\t\tthis.playVideo = this.playVideo.bind(this);\n\t\tthis.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n\t\tthis.onPageContentLoad = this.onPageContentLoad.bind(this);\n\t\tthis.toggleAudio = this.toggleAudio.bind(this);\n\n\t\tlet appData = props.initialStore?.appData;\n\t\tlet features = appData?.options;\n\n\t\tthis.getBgData();\n\t\tthis.ageGateEnabled = features?.ageGate;\n\t\tthis.externalLinkModalEnabled = features?.externalLinkModal === true || features?.externalLinkModal?.enabled;\n\t\tthis.userFeedbackModalEnabled = !!features?.userFeedbackModal;\n\n\t\tthis.powsterCookiesEnabled = features?.cookiesModal?.enableModal;\n\t\tthis.tealiumCookiesEnabled = features?.enableTealiumCookieConsent;\n\t\tthis.evidonCookiesEnabled = features?.requireUserConsent;\n\t\tthis.ensightenCookiesEnabled = features?.enableEnsighten;\n\t\tthis.oneTrustCookiesEnabled = features?.oneTrustCookieConsent;\n\t\tthis.didomiCookiesEnabled = features?.didomiCookieConsent;\n\t\tthis.SMECookiesEnabled = features?.SMECookieConsent;\n\t\tthis.cookiesEnabled = this.powsterCookiesEnabled || this.tealiumCookiesEnabled || this.ensightenCookiesEnabled || this.evidonCookiesEnabled || this.oneTrustCookiesEnabled || this.didomiCookiesEnabled || this.SMECookiesEnabled;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.isCalendarRemindMode = !shouldShowShowtimes();\n\t\tconst calendarNeeded = this.calendarNeeded();\n\t\ttabbingDetection();\n\t\thoverDetection();\n\t\twindow.addEventListener('orientationchange', this.handleOrientationChange);\n\t\twindow.addEventListener('resize', this.handleResize);\n\t\twindow.addEventListener('scroll', this.scrolling, true);\n\t\twindow.addEventListener('popstate', this.handlePopState);\n\t\tdocument.addEventListener('visibilitychange', this.handleVisibilityChange);\n\n\t\tthis.handleOrientationChange();\n\n\t\tdocument.body.classList.add('js-loaded');\n\n\t\tStore.get().client.set({ headerHeight: getHeaderHeight() });\n\n\t\tlet query = parseQueryString();\n\t\tStore.emit('LANDING_QUERY', query);\n\n\t\tif (this.cookiesEnabled) {\n\t\t\tStore.emit('CHECK_COOKIES', pixelsCategories);\n\t\t\timport(/* webpackChunkName: \"cookies\" */ 'components/bolt/cookies/cookies').then(component => {\n\t\t\t\tthis.Cookies = component.default;\n\t\t\t\tthis.forceUpdate();\n\t\t\t});\n\n\t\t\timport(/* webpackChunkName: \"cookiesPreference\" */ 'components/bolt/cookiesPreference/cookiesPreference').then(component => {\n\t\t\t\tthis.CookiesPreference = component.default;\n\t\t\t});\n\t\t} else {\n\t\t\tStore.emit('ACCEPT_ALL_COOKIES', { doNotSetCookie: true });\n\t\t}\n\n\t\tif (this.ageGateEnabled) {\n\t\t\tconst cookieName = this.state.appState?.appData?.options?.ageGate?.cookieName || 'pow-agegate';\n\t\t\tconst lockOut = this.state.appState?.appData?.options?.ageGate?.lockOut;\n\t\t\tconst ofAge = query.ag === 'adult' ? true : getCookie(cookieName);\n\t\t\tif (ofAge !== null) {\n\t\t\t\tStore.emit('AGEGATE_CONSENT', +ofAge);\n\t\t\t\t// this.ageGateEnabled = false;\n\t\t\t\tif (!lockOut || ofAge > 0) {\n\t\t\t\t\tStore.emit('AGEGATE_CLOSE');\n\t\t\t\t}\n\t\t\t}\n\t\t\timport(/* webpackChunkName: \"ageGate\" */ 'components/bolt/ageGate/ageGate').then(component => {\n\t\t\t\tthis.AgeGate = component.default;\n\t\t\t\tthis.forceUpdate();\n\t\t\t});\n\t\t}\n\n\t\tif (this.externalLinkModalEnabled) {\n\t\t\timport(/* webpackChunkName: \"externalLinkModal\" */ 'components/bolt/externalLinkModal/externalLinkModal').then(component => {\n\t\t\t\tthis.ExternalLinkModal = component.default;\n\t\t\t});\n\t\t}\n\n\t\tif (this.userFeedbackModalEnabled) {\n\t\t\timport(/* webpackChunkName: \"userFeedbackModal\" */ 'components/bolt/userFeedbackModal/userFeedbackModal').then(component => {\n\t\t\t\tthis.UserFeedbackModal = component.default;\n\t\t\t});\n\t\t}\n\n\t\tif (this.state.appState?.appData?.options?.videoOverlay) {\n\t\t\timport(/* webpackChunkName: \"trailerOverlay\" */ 'components/bolt/trailerOverlay/trailerOverlay').then(component => {\n\t\t\t\tthis.TrailerOverlay = component.default;\n\t\t\t});\n\t\t}\n\n\t\tif (Object.values(this.state.appState?.appData?.pages).find(page => page.type === 'pressKit')) {\n\t\t\timport(/* webpackChunkName: \"pressKitGalleryOverlay\" */ 'components/bolt/pressKit/pressKitGalleryOverlay').then(component => {\n\t\t\t\tthis.PressKitGalleryOverlay = component.default;\n\t\t\t});\n\t\t}\n\n\t\tif (this.state.appState?.appData?.options?.landingAudio) {\n\t\t\timport(/* webpackChunkName: \"landingAudio\" */ 'components/bolt/landingAudio/landingAudio').then(component => {\n\t\t\t\tthis.LandingAudio = component.default;\n\t\t\t\tthis.forceUpdate();\n\t\t\t});\n\t\t}\n\n\t\tconst signUpBanner = this.state.appState?.appData?.options?.formEmbeds?.signUp;\n\t\tif (Object.values(signUpBanner || {}).filter(e => e).length) {\n\t\t\timport(/* webpackChunkName: \"signUpForm\" */ 'components/bolt/signUpForm/signUpForm').then(component => {\n\t\t\t\tthis.SignUpForm = component.default;\n\t\t\t});\n\t\t}\n\n\t\tif ((this.isCalendarRemindMode || calendarNeeded) && !this.state.calRemindLoaded && !this.calRemindLoadStarted) {\n\t\t\tthis.calRemindLoadStarted = true;\n\t\t\timport(/* webpackChunkName: \"calendarRemind\" */ 'components/bolt/calendarRemind/calendarRemind').then(component => {\n\t\t\t\tthis.CalRemind = component.default;\n\t\t\t});\n\t\t}\n\n\t\tthis.updateBgStyle();\n\n\t\tthis.updateVisibilityPercentages();\n\t\t// Refresh things (active section, percentages) when things are loaded\n\t\tStore.on('SECTION_LOADED', this.scrolling);\n\n\t\tconst visibleScrollbar = accessNested(this.state.appState, 'appData.options.paramountFeatures.visibleScrollbar', {});\n\t\tconst colorVariables = accessNested(this.state.appState, 'appData.styling.variables', {});\n\t\tif (visibleScrollbar?.color) {\n\t\t\tlet color = visibleScrollbar.color.replace('$', '');\n\t\t\taddCSSRuleset('#mainScroll::-webkit-scrollbar-thumb', {\n\t\t\t\tbackground: colorVariables[color] || color\n\t\t\t});\n\t\t}\n\t\tif (visibleScrollbar?.backgroundColor) {\n\t\t\tlet color = visibleScrollbar.backgroundColor.replace('$', '');\n\t\t\taddCSSRuleset('#mainScroll::-webkit-scrollbar-track', {\n\t\t\t\tbackground: colorVariables[visibleScrollbar.color] || color\n\t\t\t});\n\t\t}\n\n\t\tconst mailchimpData = accessNested(this.state.appState, 'appData.options.formEmbeds.popup', {});\n\t\tconst { id, baseUrl, uuid, lid, landingDelay } = mailchimpData;\n\t\t(!id && (baseUrl && uuid && lid && landingDelay)) && Store.emit('SUBSCRIBER_POPUP', mailchimpData, true);\n\n\t\t// Fix google translate causing node duplication\n\t\tconst ib = Element.prototype.insertBefore;\n\t\tElement.prototype.insertBefore = function(child, ref) {\n\t\t\tif (ref && ref.localName === 'font') {\n\t\t\t\tchild.innerText = ref.innerText;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn ib.apply(this, arguments);\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('orientationchange', this.handleOrientationChange);\n\t\twindow.removeEventListener('scroll', this.scrolling, true);\n\t\twindow.removeEventListener('popstate', this.handlePopState);\n\t\tdocument.removeEventListener('visibilitychange', this.handleVisibilityChange);\n\t\tStore.off('SECTION_LOADED', this.scrolling);\n\t\tclearAllBodyScrollLocks();\n\t\twindow.clearTimeout(this.videoTimeout);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst appState = this.state.appState;\n\n\t\t// This is being called constantly\n\t\t// this.handleOrientationChange();\n\t\tif (prevState.appState.activePage !== appState.activePage) {\n\t\t\tthis.updateVisibilityPercentages();\n\t\t\tthis.getBgData();\n\t\t\tthis.updateBgStyle();\n\t\t}\n\n\t\tconst showTrailerOverlay = appState.trailerOverlay?.overlayOpen && appState.trailerOverlay?.data?.video;\n\t\tif (showTrailerOverlay && !this.TrailerOverlay) {\n\t\t\timport(/* webpackChunkName: \"trailerOverlay\" */ 'components/bolt/trailerOverlay/trailerOverlay').then(component => {\n\t\t\t\tthis.TrailerOverlay = component.default;\n\t\t\t\tthis.forceUpdate();\n\t\t\t});\n\t\t}\n\n\t\tif (!this.cookieHeight && !isServer) {\n\t\t\tconst cookieContainer = document.querySelector('[data-section=cookies]');\n\t\t\tthis.cookieHeight = cookieContainer && window.getComputedStyle(cookieContainer).height;\n\t\t}\n\n\t\tconst isDesktopSize = accessNested(this.state, 'appState.client.isDesktopSize');\n\t\tconst prevIsDesktopSize = accessNested(prevState, 'appState.client.isDesktopSize');\n\t\tconst isDesktopWidth = accessNested(this.state, 'appState.client.isDesktopWidth');\n\t\tconst prevIsDesktopWidth = accessNested(prevState, 'appState.client.isDesktopWidth');\n\n\t\tif (isDesktopSize !== prevIsDesktopSize || isDesktopWidth !== prevIsDesktopWidth) {\n\t\t\tStore.get().client.set({ headerHeight: getHeaderHeight() });\n\t\t}\n\n\t\tconst { homeActivePercentage } = this.state.appState;\n\t\tconst homePercentagePausePoint = isDesktopSize ? 0.6 : 0.4;\n\n\t\tif (this.$bgVideo) {\n\t\t\tconst loopDisabled = this.getBgValue('disableLoop');\n\t\t\tconst videoEnded = this.$bgVideo.currentTime >= this.$bgVideo.duration;\n\t\t\tif (homeActivePercentage >= homePercentagePausePoint && this.$bgVideo.paused && !(loopDisabled && videoEnded)) {\n\t\t\t\tthis.$bgVideo.play();\n\t\t\t} else if (homeActivePercentage < homePercentagePausePoint) {\n\t\t\t\tthis.$bgVideo.pause();\n\t\t\t}\n\t\t}\n\n\t\tif (this.state.appState.debugMode && !this.loadingDebugInfo) {\n\t\t\tthis.loadingDebugInfo = true;\n\t\t\timport(/* webpackChunkName: \"debugInfo\" */ 'components/bolt/debugInfo/debugInfo').then(component => {\n\t\t\t\tthis.DebugInfo = component.default;\n\t\t\t\tthis.forceUpdate();\n\t\t\t});\n\t\t}\n\n\t\tlet bgSources = [...this.$bgVideo?.children || []].map(s => s.src).join(',');\n\t\tif (this.previousBgSources && bgSources !== this.previousBgSources) {\n\t\t\tthis.$bgVideo?.load();\n\t\t}\n\t\tthis.previousBgSources = bgSources;\n\t}\n\n\tgetBgData() {\n\t\tconst pagesData = this.props.initialStore?.appData?.pages || {};\n\t\tconst activePage = this.state.appState.activePage || '';\n\t\tconst activePageType = pagesData[activePage]?.type;\n\t\tconst activePageBgData = activePageType !== 'showtimes' ? pagesData[activePage]?.data?.bg : null;\n\t\tconst pageWithBgData = Object.values(pagesData).find(page => page?.type !== 'showtimes' && page?.data?.bg);\n\t\tthis.backgroundData = activePageBgData || pageWithBgData?.data?.bg;\n\t}\n\n\thandleVisibilityChange() {\n\t\tif (typeof document === 'undefined' || document.hidden || !this.$bgVideo) {\n\t\t\treturn;\n\t\t}\n\t\tlet stopped = this.$bgVideo.paused || this.$bgVideo.currentTime === 0 || this.$bgVideo.ended;\n\t\tif (stopped && this.$bgVideo.readyState >= 2) {\n\t\t\t// For some reason if you play it too soon on IOS, it freezes even though the video meets all the conditions above\n\t\t\tthis.videoTimeout = window.setTimeout(() => {\n\t\t\t\t// Make sure the video still exists after the timeout\n\t\t\t\tif (this.$bgVideo) {\n\t\t\t\t\tthis.$bgVideo.play();\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\t}\n\n\tupdateBgStyle() {\n\t\tif (this.backgroundData) {\n\t\t\tif (this.backgroundData.useSolidBgColor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tbackgroundStyle: {\n\t\t\t\t\tbackgroundImage: this.getBgImage(),\n\t\t\t\t\tbackgroundPosition: this.getBgValue('bgPosition')\n\t\t\t\t},\n\t\t\t\tfallbackBackgroundStyle: { objectPosition: this.getBgValue('bgPosition') }\n\t\t\t});\n\t\t}\n\t}\n\n\tremoveBgVideo() {\n\t\tvideosWithError[this.state.bgVideo] = true;\n\t\tthis.setState({ bgVideo: false });\n\t}\n\n\tscrolling() {\n\t\tconst headerOpen = accessNested(this.state, 'appState.header.open');\n\t\tconst ignoreScroll = accessNested(this.state, 'appState.ignoreScroll');\n\n\t\tif (headerOpen || ignoreScroll) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.updateVisibilityPercentages();\n\t}\n\n\tupdateVisibilityPercentages() {\n\t\tStore.emit('UPDATE_VISIBILITY_PERCENTAGES');\n\t}\n\n\tcalendarNeeded() {\n\t\tconst noShowtimesButtonPath = accessNested(this.props, 'initialStore.appData.pages.boltShowtimes.data.noShowtimes.buttons.extraButton.path', null);\n\t\tconst homeButton1Path = accessNested(this.props, 'initialStore.appData.pages.boltHome.data.button1.path', null);\n\t\tconst homeButton2Path = accessNested(this.props, 'initialStore.appData.pages.boltHome.data.button2.path', null);\n\t\tconst persistentPath = accessNested(this.props, 'initialStore.appData.header.powsterHeader.persistentButton.path', null);\n\t\treturn [noShowtimesButtonPath, homeButton1Path, homeButton2Path, persistentPath].includes('@calendarreminder');\n\t}\n\n\tgetBgValue(field) {\n\t\tif (!this.backgroundData || !this.backgroundData.desktop && !this.backgroundData.tablet && !this.backgroundData.mobile) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet bgValue = {};\n\n\t\tObject.entries(this.backgroundData).map(([device, data]) => {\n\t\t\tbgValue[device] = data[field];\n\t\t});\n\n\t\treturn useDynamicAssetFolder(getValueForClientSize(bgValue));\n\t}\n\n\tgetFallbackFormat() {\n\t\tconst store = Store.get();\n\n\t\t// TODO: more flexibility, why are we hardocding boltHome?\n\t\tlet page = store.activePage === 'boltSplashHub' ? 'boltSplashHub' : 'boltHome';\n\t\t// let page = store.activePage;\n\n\t\tconst defaultFormat = this.getBgValue('asset')?.split('.')?.pop() || 'jpg';\n\t\treturn accessNested(store, `appData.pages.${page}.data.bg.alternativeImageFormat`, defaultFormat);\n\t}\n\n\tgetBgImage() {\n\t\tlet asset = this.getBgValue('asset');\n\t\tconst fallbackFormat = this.getFallbackFormat();\n\t\tlet videoExtensions = ['mp4', 'webm', 'mov'];\n\n\t\t// If asset is a video, bg image will be the fallback image instead\n\t\tif (videoExtensions.includes(asset?.split?.('.').pop())) {\n\t\t\tthis.setState({ bgVideo: videosWithError[asset] ? false : asset });\n\t\t\tasset = this.getBgValue('fallbackImg');\n\t\t}\n\n\t\t// Makes sure the background image is fully loaded before showing it\n\t\tif (!this.state.bgImageLoaded) {\n\t\t\tif (asset) {\n\t\t\t\tif (!this.occluderTimeout) {\n\t\t\t\t\tconst image = new Image();\n\t\t\t\t\timage.onload = () => this.setState({ bgImageLoaded: true });\n\t\t\t\t\timage.onerror = image.onload;\n\t\t\t\t\timage.src = webp.getAssetUrl(asset, fallbackFormat);\n\t\t\t\t\t// If the image takes too long to load, better to show the content\n\t\t\t\t\tthis.occluderTimeout = setTimeout(() => {\n\t\t\t\t\t\tif (!this.state.bgImageLoaded) {\n\t\t\t\t\t\t\tthis.setState({ bgImageLoaded: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.setState({ bgImageLoaded: true });\n\t\t\t}\n\t\t}\n\n\t\treturn webp.css(asset, fallbackFormat);\n\t}\n\n\tgetH1(appData, page, activePageDetails, activePage) {\n\t\tlet fullPageName = [\n\t\t\tappData?.meta?.title?.locale,\n\t\t\tappData?.copy?.baseCopy[page?.name] || appData?.copy?.baseCopy[activePageDetails?.name] || page?.name || activePageDetails?.name || activePage?.replace(/^bolt/, '')\n\t\t].filter(e => e).join(' | ');\n\n\t\tif (activePageDetails?.h1) {\n\t\t\tfullPageName = activePageDetails.h1;\n\t\t}\n\n\t\treturn fullPageName;\n\t}\n\n\tcloseAllOverlays() {\n\t\tStore.emit('CLOSE_ALL_OVERLAYS');\n\t}\n\n\thandleOrientationChange() {\n\t\tthis.handleResize();\n\t\tlet orientation = 'portrait';\n\t\tswitch (window.orientation) {\n\t\t\tcase 0:\n\t\t\tcase 180:\n\t\t\t\t// Portrait\n\t\t\t\torientation = 'portrait';\n\t\t\t\tbreak;\n\t\t\tcase -90:\n\t\t\tcase 90:\n\t\t\t\torientation = 'landscape';\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.setState({ orientation });\n\t}\n\n\thandleResize() {\n\t\tStore.emit('UPDATE_CLIENT');\n\t\tlet vh = window.innerHeight;\n\t\tdocument.documentElement.style.setProperty('--vh', (vh * 0.01) + 'px');\n\t\tdocument.documentElement.style.setProperty('--windowHeight', vh + 'px');\n\t\tlet isDesktopSize = getIsDesktopSize();\n\t\tlet client = this.state.appState.client;\n\t\tif (client && isDesktopSize !== client.isDesktopSize) {\n\t\t\tStore.get().client.set({ isDesktopSize });\n\t\t}\n\t\tthis.updateBgStyle();\n\t}\n\n\thidePoster() {\n\t\tthis.setState({ posterVisible: false });\n\t}\n\n\thandlePopState(e) {\n\t\tlet newPage = e.state?.activePage;\n\t\t// TODO: also check if newPage is not a valid page (e.g. state stored for a previous version was a page that doesn't exist anymore)\n\t\tif (!newPage) {\n\t\t\t// Page id not in popped state, try to detect from URL\n\t\t\tnewPage = getPageIdFromURL();\n\t\t}\n\t\tStore.emit('POP_STATE', newPage || window.__START_PAGE_ID__);\n\t}\n\n\tonPageContentLoad() {\n\t\tif (this.state.isComponentLoaded !== true) {\n\t\t\tthis.setState({ isComponentLoaded: true });\n\t\t}\n\t}\n\n\tgetExtra() { }\n\n\tplayVideo(e) {\n\t\ttryToPlayVideo(e.target).then(this.hidePoster).catch(this.removeBgVideo);\n\t}\n\n\ttoggleAudio() {\n\t\tif (!this.$bgVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({ audioMuted: !this.$bgVideo.muted });\n\t\tthis.$bgVideo.muted = !this.$bgVideo.muted;\n\t}\n\n\tcheckIfLoaded() {\n\t\treturn this.state.isComponentLoaded && (this.state.bgImageLoaded || !this.backgroundData || this.backgroundData.useSolidBgColor);\n\t}\n\n\trenderLoadingOccluder() {\n\t\treturn <div class={s.loadingOccluder} key=\"occluder\" />;\n\t}\n\n\trenderBgVideo(homeActivePercentage, backgroundStyle, fallbackBackgroundStyle) {\n\t\tconst { bgVideo, appState, posterVisible } = this.state;\n\t\tconst { activePage } = appState;\n\n\t\tconst isPageDedicatedPage = activePage !== 'boltHome' && !appState.appData.pages[activePage]?.section;\n\t\tconst preLoadImg = this.getBgValue('preLoadImg');\n\t\tconst fallbackFormat = this.getFallbackFormat();\n\t\tconst showtimesShowing = accessNested(appState, 'showtimes.show', false);\n\t\tconst hideBackground = !homeActivePercentage || showtimesShowing || isPageDedicatedPage;\n\t\tconst accessibilityCopy = accessNested(appState, 'appData.copy.accessibilityCopy', {});\n\n\t\treturn (\n\t\t\t<div class={joinClasses({ s, bgVideo: true, hideBackground })} key=\"bgVideo\">\n\t\t\t\t<video\n\t\t\t\t\tstyle={backgroundStyle}\n\t\t\t\t\tmuted={this.state.audioMuted}\n\t\t\t\t\tautoPlay\n\t\t\t\t\tplaysInline\n\t\t\t\t\tloop={!this.getBgValue('disableLoop')}\n\t\t\t\t\tposter={isWebPSupported ? preLoadImg : preLoadImg.replace(/\\.[^.]*$/, fallbackFormat)}\n\t\t\t\t\tonCanPlay={this.playVideo}\n\t\t\t\t\tonError={this.removeBgVideo}\n\t\t\t\t\tref={$ref => this.$bgVideo = $ref}\n\t\t\t\t\tariaLabel={accessibilityCopy.$BACKGROUND_VIDEO_ARIA}\n\t\t\t\t>\n\t\t\t\t\t{bgVideo.endsWith('.webm') && <source src={bgVideo} type=\"video/webm\" />}\n\t\t\t\t\t<source src={bgVideo.replace(/\\.[^./]+$/, '.mp4')} type=\"video/mp4\" />\n\t\t\t\t</video>\n\t\t\t\t{posterVisible && <webp.Picture src={preLoadImg} alt=\"\" fallbackFormat={fallbackFormat} style={fallbackBackgroundStyle} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderMain(props, state) {\n\t\tconst { appState, backgroundStyle, fallbackBackgroundStyle, audioMuted, bgVideo } = state;\n\n\t\tconst {\n\t\t\tactivePage,\n\t\t\tappData,\n\t\t\tclient,\n\t\t\tvideos,\n\t\t\theader,\n\t\t\tshowtimes,\n\t\t\thomeEnt,\n\t\t\tscrollerTallerThanWindow,\n\t\t\twidgetFullyExpanded\n\t\t} = appState;\n\n\t\tlet mainPage = activePage;\n\t\tlet activePageDetails = appData?.pages?.[activePage];\n\t\tif (activePageDetails?.section) {\n\t\t\t// TODO: ability to attach sections to different pages\n\t\t\tmainPage = Object.values(pages).find(page => page.page === 'home')?.id || 'boltHome';\n\t\t}\n\t\t// For overlays (e.g. boltShowtimes), activePage changes but it is not in pages\n\t\t//   when that's the case, keep using the previous one\n\t\tlet page = pages[mainPage] || this.currentPage;\n\t\tif (activePageDetails?.customPageComponent && pages[activePageDetails.customPageComponent]) {\n\t\t\tpage = { ...pages[activePageDetails.customPageComponent], id: activePageDetails.id };\n\t\t}\n\t\tif (props.renderedPage) {\n\t\t\tpage = props.renderedPage;\n\t\t}\n\t\tthis.currentPage = page;\n\n\t\tconst orientation = state.orientation;\n\t\tconst isMobile = (client && !client.isDesktopSize);\n\t\tconst isMobileLandscape = (client?.deviceSize === 'mobile') && (orientation === 'landscape');\n\t\tconst isTabletLandscape = (client?.device !== 'desktop') && !isMobileLandscape && (orientation === 'landscape');\n\t\tconst videoOverlayOpen = videos && videos.overlayOpen;\n\t\tconst showtimesOverlayOpen = showtimes && showtimes.show;\n\t\tconst showtimesAnimation = showtimes && showtimes.animate;\n\t\tconst homeEntOverlayOpen = homeEnt && homeEnt.show;\n\t\tconst homeEntAnimation = homeEnt && homeEnt.animate;\n\t\tconst sidePanelOpen = showtimesOverlayOpen || homeEntOverlayOpen;\n\t\tconst sidePanelAnimation = showtimesAnimation || homeEntAnimation;\n\t\t// const headerOpen = accessNested(this.state, 'appState.header.open', false);\n\t\tconst homeActivePercentage = accessNested(appState, 'homeActivePercentage', 1);\n\t\tconst hubActivePercentage = accessNested(appState, 'hubActivePercentage', 1);\n\t\t// Hides the background to prevent it being visible on iOS overscroll\n\t\tconst hideBackground = !homeActivePercentage && isMobile;\n\t\tconst hasStickyFooter = accessNested(appData, 'footer.sticky', false);\n\t\tconst externalCookieBannerOpen = accessNested(this.state, 'appState.externalCookieBanner.bannerOpen', false);\n\t\tconst cookieMode = externalCookieBannerOpen || (accessNested(this.state, 'appState.cookies.pushDown', false) && accessNested(this.state, 'appState.cookies.cookieBannerOpen', false));\n\t\tconst oneContinuousScroll = (externalCookieBannerOpen && isMobile) || accessNested(appData, 'options.oneContinuousScroll'); // Makes the whole main page one big scrolling section to cater for the giant Evidon banner (or for other reasons).\n\t\tconst sonyHeaderEnabled = accessNested(appData, 'options.sonyFeatures.sonyHeader', false) && !getIsSinglePageIframed();\n\n\t\tconst sonyFooterEnabled = accessNested(appData, 'footer.sonyFooter', false);\n\t\tconst accessibilityCopy = accessNested(appData, 'copy.accessibilityCopy', {});\n\t\tconst disableMobileLandscape = accessNested(appData, 'options.disableLandscape');\n\t\tconst disableTabletLandscape = accessNested(appData, 'options.disableTabletLandscape');\n\t\tconst landingAudio = accessNested(appData, 'options.landingAudio', null);\n\t\tconst visibleScrollbar = accessNested(appData, 'options.paramountFeatures.visibleScrollbar', false);\n\t\tconst iframeLandscapeEnabled = accessNested(appData, 'pages.boltIframe.data.disableOrientationLock', false) && activePage === 'boltIframe';\n\t\tconst showLandscapeOverlay = ((isMobileLandscape && disableMobileLandscape) || (isTabletLandscape && disableTabletLandscape)) && !iframeLandscapeEnabled;\n\t\tconst hasMiniGallery = accessNested(appData, 'options.paramountFeatures.toutCarousel.contentCarousel', false);\n\t\tconst videoHasAudio = accessNested(appData, 'pages.boltHome.data.bg.videoHasAudio', false);\n\t\tconst iconPosition = accessNested(appData, 'pages.boltHome.data.bg.iconPosition', 'top-left');\n\n\t\tconst mainScrollStyle = {};\n\t\tif (visibleScrollbar) {\n\t\t\tmainScrollStyle.scrollbarColor = `${visibleScrollbar.color} ${visibleScrollbar.backgroundColor}`;\n\t\t}\n\n\t\tlet headerOffset = 0;\n\n\t\tconst bgCookieStyle = {};\n\n\t\tif (sonyHeaderEnabled) {\n\t\t\theaderOffset = 34;\n\t\t}\n\n\t\tif (cookieMode && typeof window !== 'undefined') {\n\t\t\tbgCookieStyle.position = oneContinuousScroll ? 'absolute' : 'fixed';\n\t\t\tconst cookieHeight = (externalCookieBannerOpen ? accessNested(appState, 'externalCookieBanner.height') : accessNested(appState, 'cookies.height')) || 0;\n\t\t\theaderOffset += cookieHeight;\n\t\t\tbgCookieStyle.top = `${oneContinuousScroll ? '0' : headerOffset}px`;\n\t\t\tbgCookieStyle.height = (oneContinuousScroll ? window.innerHeight : window.innerHeight - headerOffset) + 'px';\n\t\t}\n\n\t\t// TODO: detect if ANY overlay is open in a generic way\n\t\tconst headerHeight = accessNested(Store.get(), 'client.headerHeight', 0);\n\t\tconst desktopSolidHeader = accessNested(appData, 'header.powsterHeader.desktopSolidHeader', null);\n\t\tconst hub = accessNested(appData, 'pages.boltHubPage') && !accessNested(appData, 'pages.boltHome');\n\t\tconst previewPanelReplacingHomePage = appData?.pages.boltPreviewPanel && !appData?.pages.boltHome;\n\t\tconst dedicatedPage = pages[activePage] && activePage !== 'boltHome' && !activePageDetails?.section;\n\t\tconst homeInactive = (homeActivePercentage <= getPercentageThreshold(headerOffset)) || dedicatedPage;\n\t\tconst hubInactive = (hubActivePercentage <= getPercentageThreshold(headerHeight));\n\t\tconst pageInactive = hub ? hubInactive : homeInactive;\n\t\t// TODO: ability to control header background via appData\n\t\tlet headerSolidBackground = pageInactive && !sidePanelOpen && !videoOverlayOpen;\n\t\tif (previewPanelReplacingHomePage || !scrollerTallerThanWindow || widgetFullyExpanded) {\n\t\t\theaderSolidBackground = false;\n\t\t}\n\t\t// Potentially wait for other initial things to load\n\t\tconst loaded = this.checkIfLoaded();\n\n\t\tlet hasShowtimes = Object.values(appData.pages).some(p => p?.type === 'showtimes');\n\t\tlet hasHomeEnt = Object.values(appData.pages).some(p => p?.type === 'homeEnt');\n\t\tlet hasPressKit = Object.values(appData.pages).some(p => p?.type === 'pressKit');\n\n\t\tlet bgRender = this.state.bgVideo ? this.renderBgVideo(homeActivePercentage, bgCookieStyle, fallbackBackgroundStyle) : (\n\t\t\t<div\n\t\t\t\tclass={joinClasses({\n\t\t\t\t\ts, background: true,\n\t\t\t\t\tsidePanelOpen,\n\t\t\t\t\thasStickyFooter,\n\t\t\t\t\tcookieMode,\n\t\t\t\t\thideBackground,\n\t\t\t\t\tsidePanelAnimation,\n\t\t\t\t\thasMiniGallery\n\t\t\t\t})}\n\t\t\t\tstyle={{ ...backgroundStyle, ...bgCookieStyle }}\n\t\t\t\tkey=\"background\"\n\t\t\t\trole=\"img\"\n\t\t\t\tariaLabel={accessibilityCopy.$BACKGROUND_IMAGE_ARIA}\n\t\t\t/>\n\t\t);\n\n\t\tlet pageProps = {};\n\t\tif (page) {\n\t\t\tpageProps = {\n\t\t\t\tstore: appState,\n\t\t\t\tclient: appState.client,\n\t\t\t\tappData,\n\t\t\t\tid: page.id,\n\t\t\t\tdata: appData.pages[page.id]?.data,\n\t\t\t\tbgRender: oneContinuousScroll && bgRender\n\t\t\t};\n\t\t\tif (page.page) {\n\t\t\t\tpageProps[page.page] = appState[page.page];\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses(\n\t\t\t\t\ts.mainScroll,\n\t\t\t\t\tloaded && 'contentLoaded',\n\t\t\t\t\t(!visibleScrollbar || isMobile) && s.hideScrollbar,\n\t\t\t\t\tdedicatedPage && s.dedicatedPage\n\t\t\t\t)}\n\t\t\t\tid=\"mainScroll\"\n\t\t\t\tstyle={mainScrollStyle}\n\t\t\t>\n\t\t\t\t<Header\n\t\t\t\t\tcloseAllOverlays={this.closeAllOverlays}\n\t\t\t\t\tclient={client}\n\t\t\t\t\tappData={appData}\n\t\t\t\t\tactivePage={activePage}\n\t\t\t\t\tsolidBackground={headerSolidBackground}\n\t\t\t\t\theaderData={header}\n\t\t\t\t\toffsetTop={headerOffset}\n\t\t\t\t\tisCalendarRemindMode={this.isCalendarRemindMode}\n\t\t\t\t\tcalRemindOpen={appState.calRemindOpen}\n\t\t\t\t\tdesktopSolidHeader={desktopSolidHeader}\n\t\t\t\t\tfooterData={appState.footer}\n\t\t\t\t\tkey=\"header\"\n\t\t\t\t/>\n\t\t\t\t<h1 class={s.pageName}>{this.getH1(appData, page, activePageDetails, activePage)}</h1>\n\t\t\t\t{bgRender}\n\t\t\t\t{this.CalRemind && <this.CalRemind appData={appData} open={appState.calRemindOpen} offsetTop={headerOffset} key=\"calendarRemind\" />}\n\t\t\t\t<DynamicPageLoader\n\t\t\t\t\tclass={s.pageContainer}\n\t\t\t\t\tcontainerClass={joinClasses(s.pageWrapper, 'pageWrapper')}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tprops={pageProps}\n\t\t\t\t\tonLoad={this.onPageContentLoad}\n\t\t\t\t\tkey=\"dynamicPageLoader\"\n\t\t\t\t/>\n\t\t\t\t{(!sidePanelOpen || sonyFooterEnabled) && <Footer data={appData.footer} store={appState} key=\"footer\" />}\n\t\t\t\t{VideoOverlayLoader && <VideoOverlayLoader store={appState} key=\"videoLoader\" />}\n\t\t\t\t{hasShowtimes && <SidePanelLoader store={appState} key=\"showtimesLoader\" />}\n\t\t\t\t{hasHomeEnt && <SidePanelLoader store={appState} key=\"homeEntLoader\" />}\n\t\t\t\t{hasPressKit && <SidePanelLoader store={appState} key=\"pressKitLoader\" />}\n\t\t\t\t{this.TrailerOverlay && <this.TrailerOverlay store={appState} />}\n\t\t\t\t{this.PressKitGalleryOverlay && <this.PressKitGalleryOverlay store={appState} />}\n\t\t\t\t{this.LandingAudio && <this.LandingAudio data={landingAudio} offsetTop={headerOffset} store={appState} />}\n\t\t\t\t{(videoHasAudio && bgVideo) && (\n\t\t\t\t\t<div onClick={this.toggleAudio} class={joinClasses(s.sound, audioMuted && s.muted, s[iconPosition])}>\n\t\t\t\t\t\t<button class={s.icon} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{(!videoOverlayOpen && showLandscapeOverlay) && <LandscapeOverlay key=\"landscape-overlay\" />}\n\t\t\t\t{this.renderLoadingOccluder()}\n\t\t\t\t{this.getExtra()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender(props, state) {\n\t\tconst {\n\t\t\tappData,\n\t\t\tclient,\n\t\t\tcookies,\n\t\t\texternalCookieBanner,\n\t\t\tdebugMode,\n\t\t\tfooter,\n\t\t\theader\n\t\t} = state.appState;\n\n\t\tconst cookiePrefsOpen = cookies.cookiePreferencesOpen;\n\t\tconst cookieBannerOpen = cookies.cookieBannerOpen;\n\t\tlet ageGateOpen = state.appState.ageGateOpen !== false;\n\t\tconst ageGateOnlyOnPages = appData?.options?.ageGate?.onlyOnPages;\n\t\tif (ageGateOpen && ageGateOnlyOnPages) {\n\t\t\tconst activePageIsSection = appData.pages[state.appState.activePage].section;\n\t\t\tageGateOpen = ageGateOnlyOnPages.split(',').map(e => e.trim()).includes(state.appState.activePage) && !activePageIsSection;\n\t\t}\n\n\t\tconst headerType = Object.keys(appData.header).find(name => name.endsWith('Header') && name !== 'powsterHeader');\n\t\tconst footerType = ['sonyFooter'].find(e => appData.footer[e]) || 'defaultFooter';\n\t\tconst navOpen = header.open;\n\n\t\tlet DebugInfo = debugMode && this.DebugInfo;\n\t\tlet { Cookies, CookiesPreference, AgeGate, ExternalLinkModal, UserFeedbackModal, SignUpForm } = this;\n\t\tconst isRTL = appData?.styling?.fontVariables?.textDirection === 'rtl';\n\n\t\tconst style = `--footer-covered-screen-size: ${footer?.coveredScreenSize || 0}px;`;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses(\n\t\t\t\t\ts.container,\n\t\t\t\t\tclient.device,\n\t\t\t\t\tclient.orientation,\n\t\t\t\t\tclient.isIOS && 'iOS',\n\t\t\t\t\theaderType,\n\t\t\t\t\tfooterType,\n\t\t\t\t\t'page-' + state.appState.activePage,\n\t\t\t\t\tisRTL && 'isRTL'\n\n\t\t\t\t)}\n\t\t\t\tid=\"bolt\"\n\t\t\t\tstyle={style}\n\t\t\t>\n\t\t\t\t{Cookies && <Cookies appData={appData} categories={pixelsCategories} hidden={!cookieBannerOpen} key=\"cookieBanner\" />}\n\t\t\t\t{CookiesPreference && <CookiesPreference appData={appData} copy={appData.copy.baseCopy} categories={pixelsCategories} key=\"cookiesPref\" cookiePrefsOpen={cookiePrefsOpen} />}\n\t\t\t\t{AgeGate && ageGateOpen && <AgeGate appData={appData} copy={appData.copy} key=\"ageGate\" />}\n\t\t\t\t{ExternalLinkModal && <ExternalLinkModal appData={appData} externalLinkModal={state.appState.externalLinkModal} copy={appData.copy} key=\"externalLink\" />}\n\t\t\t\t{UserFeedbackModal && <UserFeedbackModal appData={appData} data={state.appState.userFeedbackModal} copy={appData.copy} key=\"userFeedback\" />}\n\t\t\t\t<div class={s.mainScrollWrapper} key=\"mainScrollWrapper\">{this.renderMain(props, state)}</div>\n\t\t\t\t{SignUpForm && <SignUpForm data={appData?.options?.formEmbeds?.signUp} activePage={state.appState.activePage} clientData={client} cookies={cookies} externalCookieBanner={externalCookieBanner} showtimesProviderInterstitialOpen={state.appState.showtimes?.providerInterstitialOpen} navOpen={navOpen} key=\"signUp\" />}\n\t\t\t\t{!!DebugInfo && <DebugInfo appData={appData} appState={state.appState} key=\"debug\" />}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","try {\n\tlet sourceWindow = location.protocol === 'about:' ? window.parent : window;\n\tlet url = sourceWindow.location.origin + sourceWindow.location.pathname.replace(/\\/[^/]*$/, '/');\n\n\t// eslint-disable-next-line no-undef\n\t__webpack_public_path__ = url + (window.__RELATIVE_ROOT__ || '');\n} catch (e) {}","import { h, Component } from 'preact';\nimport 'store/bolt/cookies';\nimport { accessNested, joinClasses } from 'utils/utils';\nimport { getValueForClientSize } from 'utils/bolt';\nimport Store from 'store/store';\nimport Button from 'components/bolt/button/button';\nimport Chevron from 'components/bolt/icons/chevron';\nimport HTML from 'components/core/html/html';\nimport s from 'components/bolt/ageGate/ageGate.sss';\nimport { useDynamicAssetFolder } from 'utils/assets';\n\nconst pad2 = n => ('0' + n).slice(-2);\n\nfunction parse(str) {\n\tif (str.length) {\n\t\treturn +str;\n\t}\n\treturn null;\n}\n\nexport default class AgeGate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t\tthis.checkAge = this.checkAge.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener('mousedown', this.handleMouseDown, false);\n\t\tif (this.props.appData?.options.ageGate?.lockOut && (Store.get().client.ofAge === false)) {\n\t\t\tthis.setState({ lockedOut: true });\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.removeEventListener('mousedown', this.handleMouseDown, false);\n\t}\n\n\thandleMouseDown(e) {\n\t\te.stopPropagation();\n\t\te.interactivity = true;\n\t}\n\n\trenderYearOptions() {\n\t\tconst currentYear = new Date().getFullYear();\n\t\treturn [...Array(120)].map((e, i) => {\n\t\t\tlet year = currentYear - i;\n\t\t\treturn <option value={year} key={year}>{year}</option>;\n\t\t});\n\t}\n\n\n\tcheckAge(event) {\n\t\tif (event && typeof event.preventDefault === 'function') {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tlet { day, month, year } = this.state;\n\n\t\tif (!day || !(month || month === 0) || !year) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst minAge = +accessNested(this.props, 'appData.options.ageGate.consentAge', 18);\n\t\tlet now = new Date();\n\t\tlet allowedFrom = new Date((+year) + minAge, (+month), (+day));\n\t\tlet permitted = now >= allowedFrom;\n\n\t\tStore.emit('AGEGATE_CONSENT', permitted);\n\t\tconst lockOut = this.props.appData?.options.ageGate.lockOut;\n\n\t\tif (!lockOut || permitted) {\n\t\t\tStore.emit('AGEGATE_CLOSE');\n\t\t} else {\n\t\t\tthis.setState({ lockedOut: true });\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { copy, isSectionAgeGate, appData } = this.props;\n\t\tconst { lockedOut } = this.state;\n\t\tconst minAge = appData.options.ageGate?.consentAge || 18;\n\n\t\tlet {\n\t\t\t$AGE_GATE_DESCRIPTION = 'To make sure we offer you best experience we must know if you are of legal age.',\n\t\t\t$AGE_GATE_INSTRUCTION = 'Please enter your birth date to continue',\n\t\t\t$AGE_GATE_CONFIRM = 'Confirm',\n\t\t\t$PRIVACY = 'Privacy Policy',\n\t\t\t$AGE_GATE_ACCESS_DENIED = 'Apologies, this content is for users over %MIN_AGE% only.'\n\t\t} = copy.baseCopy;\n\n\t\t$AGE_GATE_ACCESS_DENIED = $AGE_GATE_ACCESS_DENIED.replace('%MIN_AGE%', minAge);\n\n\t\t$AGE_GATE_DESCRIPTION = $AGE_GATE_DESCRIPTION.replace(/%PRIVACY%/g, $PRIVACY);\n\n\t\tconst fontStyles = accessNested(this.props, 'appData.styling.fontVariables');\n\n\t\tconst useShort = this.props.labels === 'short';\n\t\tlet monthLabels = accessNested(copy, '$DATETIME_LOCALE.$MONTHS_FULL');\n\t\tif (useShort || !monthLabels) {\n\t\t\tmonthLabels = [...Array(12)].map((e, i) => pad2(i + 1));\n\t\t}\n\n\t\tconst tt = accessNested(this.props, 'appData.pages.boltHome.data.tt', {});\n\t\tconst ttOverride = appData.options?.ageGate?.image;\n\n\t\tlet ttSrc = null;\n\t\tif (tt.desktop || tt.tablet || tt.mobile) {\n\t\t\tttSrc = ttOverride || getValueForClientSize(tt, null, { nullIfDisabled: true });\n\t\t}\n\n\t\tlet labelDay = accessNested(copy, 'baseCopy.$DATETIME_LOCALE.$LABEL_DAY') || 'Day';\n\t\tconst labelShortDay = accessNested(copy, 'baseCopy.$DATETIME_LOCALE.$LABEL_SHORT_DAY') || 'DD';\n\t\tlet labelMonth = accessNested(copy, 'baseCopy.$DATETIME_LOCALE.$LABEL_MONTH') || 'Month';\n\t\tconst labelShortMonth = accessNested(copy, 'baseCopy.$DATETIME_LOCALE.$LABEL_SHORT_MONTH') || 'MM';\n\t\tlet labelYear = accessNested(copy, 'baseCopy.$DATETIME_LOCALE.$LABEL_YEAR') || 'Year';\n\t\tconst labelShortYear = accessNested(copy, 'baseCopy.$DATETIME_LOCALE.$LABEL_SHORT_YEAR') || 'YYYY';\n\n\t\tlabelDay = labelDay.charAt(0).toUpperCase() + labelDay.slice(1);\n\t\tlabelMonth = labelMonth.charAt(0).toUpperCase() + labelMonth.slice(1);\n\t\tlabelYear = labelYear.charAt(0).toUpperCase() + labelYear.slice(1);\n\n\t\treturn (\n\t\t\t<div class={isSectionAgeGate && s.sectionAgeGate}>\n\t\t\t\t<div class={s.screenCover} />\n\t\t\t\t<div class={s.screenContainer}>\n\t\t\t\t\t<div class={s.container}>\n\t\t\t\t\t\t<div class={s.top}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={useDynamicAssetFolder(ttSrc)}\n\t\t\t\t\t\t\t\tclass={joinClasses(s.tt)}\n\t\t\t\t\t\t\t\talt={copy.accessibilityCopy[tt.alt] || tt.alt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{!lockedOut && (\n\t\t\t\t\t\t\t\t<HTML markdown class={joinClasses(s.description, fontStyles.prefCentreDescription)}>\n\t\t\t\t\t\t\t\t\t{$AGE_GATE_DESCRIPTION}\n\t\t\t\t\t\t\t\t</HTML>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class={joinClasses(s.middle, lockedOut && s.lockedOut)}>\n\t\t\t\t\t\t\t{!lockedOut && (\n\t\t\t\t\t\t\t\t<form class={s.wrapper} onSubmit={this.checkAge}>\n\t\t\t\t\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t\t\t\t\t<HTML markdown class={s.instruction}>\n\t\t\t\t\t\t\t\t\t\t\t{$AGE_GATE_INSTRUCTION}\n\t\t\t\t\t\t\t\t\t\t</HTML>\n\t\t\t\t\t\t\t\t\t\t<div class={s.inputs}>\n\t\t\t\t\t\t\t\t\t\t\t<div class={s.selectWrapper}>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ day: parse(e.target.value) })}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass={s.input}\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={e => this.$day = e}\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">{useShort ? labelShortDay : labelDay}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(31)].map((e, i) => <option value={i + 1} key={i + 1}>{pad2(i + 1)}</option>)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<Chevron class={s.chevron} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class={s.selectWrapper}>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ month: parse(e.target.value) })}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass={s.input}\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={e => this.$month = e}\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">{useShort ? labelShortMonth : labelMonth}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(12)].map((e, i) => <option value={i} key={i}>{monthLabels[i]}</option>)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<Chevron class={s.chevron} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class={s.selectWrapper}>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ year: parse(e.target.value) })}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass={s.input}\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={e => this.$year = e}\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">{useShort ? labelShortYear : labelYear}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.renderYearOptions(useShort)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<Chevron class={s.chevron} />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{lockedOut && (\n\t\t\t\t\t\t\t\t<div class={s.error}>\n\t\t\t\t\t\t\t\t\t{$AGE_GATE_ACCESS_DENIED}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!lockedOut && (\n\t\t\t\t\t\t\t<div class={s.bottom}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={!(this.state.day && (this.state.month || this.state.month === 0) && this.state.year)}\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\tclass={joinClasses(s.save, fontStyles.prefCentreSaveBtn)}\n\t\t\t\t\t\t\t\t\ttrigger={this.checkAge}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$AGE_GATE_CONFIRM}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\n\nimport { joinClasses } from 'utils/utils';\nimport HTML from 'components/core/html/html';\n\nimport s from 'components/bolt/burgerMenu/burgerMenu.sss';\n\nexport default class BurgerMenu extends Component {\n\n\trender(props) {\n\t\tconst {\n\t\t\ttype,\n\t\t\tstyle,\n\t\t\tlineStyle,\n\t\t\tdark,\n\t\t\thidden,\n\t\t\tshowtimesOverlayOpen,\n\t\t\thomeEntOverlayOpen,\n\t\t\tpressKitOverlayOpen,\n\t\t\twidgetFullyExpanded,\n\t\t\tnavOpen,\n\t\t\thomeScrolled,\n\t\t\tisSinglePageIframed,\n\t\t\tshowtimesSearchOverlay,\n\t\t\tvideoOverlayOpen,\n\t\t\toneSheetOverlay,\n\t\t\toneSheetOverlayOpen,\n\t\t\ttrailerOverlayOpen,\n\t\t\ttrailerOverlay,\n\t\t\tcalendarRemind,\n\t\t\tcalendarRemindOpen,\n\t\t\textraClass,\n\t\t\tcustomBurgerMenu\n\t\t} = props;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses(\n\t\t\t\t\ts.container,\n\t\t\t\t\ts[type],\n\t\t\t\t\tdark && s.dark,\n\t\t\t\t\t(showtimesOverlayOpen || widgetFullyExpanded) && s.showtimes,\n\t\t\t\t\thomeEntOverlayOpen && s.homeEnt,\n\t\t\t\t\tpressKitOverlayOpen && s.pressKit,\n\t\t\t\t\tnavOpen && s.navOpen,\n\t\t\t\t\thomeScrolled && s.homeScrolled,\n\t\t\t\t\t(isSinglePageIframed || hidden) && s.hidden,\n\t\t\t\t\tshowtimesSearchOverlay && s.searching,\n\t\t\t\t\tvideoOverlayOpen && s.video,\n\t\t\t\t\toneSheetOverlay && s.oneSheetOverlay,\n\t\t\t\t\toneSheetOverlayOpen && s.oneSheetOverlayOpen,\n\t\t\t\t\ttrailerOverlayOpen && s.trailerOverlayOpen,\n\t\t\t\t\ttrailerOverlay && s.trailerOverlay,\n\t\t\t\t\tcalendarRemindOpen && s.calendarRemindOpen,\n\t\t\t\t\tcalendarRemind && s.calendarRemind,\n\t\t\t\t\tcustomBurgerMenu && s.customBurgerMenu,\n\t\t\t\t\textraClass\n\t\t\t\t)}\n\t\t\t\tstyle={style}\n\t\t\t>\n\t\t\t\t{!customBurgerMenu?.icon ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div style={lineStyle} class={s.line} />\n\t\t\t\t\t\t<div style={lineStyle} class={s.line} />\n\t\t\t\t\t\t<div style={lineStyle} class={s.line} />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<HTML tag=\"div\" markdown>{customBurgerMenu?.icon}</HTML>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport { joinClasses, accessNested } from 'utils/utils';\nimport Store from 'store/store';\n\nimport s from 'components/bolt/button/button.sss';\n\nexport default class Button extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.supportedTypes = ['primary', 'outlined', 'text', 'time', 'tag', 'floating', 'icon'];\n\t}\n\n\trender(props) {\n\t\tconst {\n\t\t\ttype,\n\t\t\thtmlType,\n\t\t\tactive,\n\t\t\tclass: className,\n\t\t\tactiveClass,\n\t\t\tstyle,\n\t\t\tappData,\n\t\t\ttrigger,\n\t\t\tuseCapture,\n\t\t\tonMouseEnter,\n\t\t\tonMouseLeave,\n\t\t\tonMouseOut,\n\t\t\tonMouseDown,\n\t\t\tonKeyDown,\n\t\t\tonFocus,\n\t\t\ttabIndex,\n\t\t\tdisabled,\n\t\t\tchildren,\n\t\t\tariaLabel\n\t\t} = props;\n\n\t\tif (type && !this.supportedTypes.includes(type)) {\n\t\t\tconsole.error(`Bolt.Button does not support a type of ${type}. Supported types are: ${this.supportedTypes.join(', ')}`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst backgroundColor = accessNested(style, 'backgroundColor');\n\t\tconst allButtonStyling = accessNested(Store.get(), 'appData.styling.enableDisableAllButtonStyling.showtimes');\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclass={joinClasses(s.container, active && s.active, allButtonStyling && s.allStyling, backgroundColor && s.noHover, s[type], className, active && activeClass)}\n\t\t\t\tstyle={style}\n\t\t\t\t{...{ [useCapture ? 'onClickCapture' : 'onClick']: trigger }}\n\t\t\t\tonMouseEnter={onMouseEnter}\n\t\t\t\tonMouseLeave={onMouseLeave}\n\t\t\t\tonMouseDown={onMouseDown}\n\t\t\t\tonMouseOut={onMouseOut}\n\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\tonFocus={onFocus}\n\t\t\t\tdisabled={disabled}\n\t\t\t\ttabIndex={tabIndex}\n\t\t\t\tariaLabel={ariaLabel}\n\t\t\t\ttype={htmlType}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</button>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport { accessNested, joinClasses, parseDate } from 'utils/utils';\nimport s from 'components/bolt/countdown/countdown.sss';\nimport HTML from 'components/core/html/html';\nimport { navigateInternally } from 'utils/bolt';\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\n\nfunction isDate(date) {\n\treturn date instanceof Date && !isNaN(date);\n}\nfunction parseOffset(value) {\n\tif (value == undefined) {\n\t\treturn null;\n\t}\n\tif (!Number.isNaN(+value) && Math.abs(value) < 15) {\n\t\t// Decimal format: -3.5\n\t\treturn 60 * value;\n\t}\n\tif (typeof value === 'string') {\n\t\t// Regular format: -3:30 or 0800\n\t\tlet match = value.trim().match(/^([+-]?)(\\d\\d??)(?::?(\\d\\d))?$/);\n\t\tif (!match) {\n\t\t\treturn null;\n\t\t}\n\t\tlet sign = match[1] === '-' ? -1 : +1;\n\t\tlet hours = +match[2];\n\t\tlet minutes = +match[3] || 0;\n\t\treturn sign * (60 * hours + minutes);\n\t}\n\treturn null;\n}\n\nexport default class Countdown extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tremaining: { days: 0, hours: 0, minutes: 0, seconds: 0 },\n\t\t\tcounting: false\n\t\t};\n\n\t\tthis.target = parseDate(props.datetime);\n\t\tlet valid = isDate(this.target);\n\t\tif (valid) {\n\t\t\tlet offsetAmount = parseOffset(props.timeOffset);\n\t\t\tif (offsetAmount !== null) {\n\t\t\t\tthis.target.setMinutes(this.target.getMinutes() - this.target.getTimezoneOffset() - offsetAmount);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error('Invalid Date! The \"Target Date and Time\" item isn\\'t formatted correctly in Thundr: ' + props.datetime);\n\t\t\tthis.target = null;\n\t\t}\n\n\t\tthis.startTimer = this.startTimer.bind(this);\n\t\tthis.stopTimer = this.stopTimer.bind(this);\n\t\tthis.updateTime = this.updateTime.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.startTimer();\n\t}\n\n\tstartTimer() {\n\t\tclearInterval(this.timer);\n\t\tthis.counting = true;\n\t\tthis.updateTime();\n\t\tthis.timer = setInterval(this.updateTime, 1000);\n\t\tthis.setState({ counting: true });\n\t}\n\n\tstopTimer() {\n\t\tclearInterval(this.timer);\n\t\tthis.counting = false;\n\t\tthis.setState({ counting: false });\n\t}\n\n\tupdateTime() {\n\t\tif (!this.target) {\n\t\t\treturn this.stopTimer();\n\t\t}\n\n\t\tlet diff = Math.max(this.target - Date.now(), 0);\n\t\tconst seconds = Math.floor((diff / SECOND) % 60);\n\t\tconst minutes = Math.floor((diff / MINUTE) % 60);\n\t\tconst hours = Math.floor((diff / HOUR) % 24);\n\t\tconst days = Math.floor(diff / DAY);\n\n\t\tif (!diff) {\n\t\t\tthis.stopTimer();\n\t\t}\n\n\t\tthis.setState({\n\t\t\tremaining: { days, hours, minutes, seconds }\n\t\t});\n\t}\n\n\tonClick(e) {\n\t\tlet internalLink = e.target.closest('a[href^=\"#$\"]');\n\t\tif (internalLink) {\n\t\t\te.preventDefault();\n\t\t\tlet page = internalLink.getAttribute('href').slice(2).trim();\n\t\t\tlet navOptions = {};\n\t\t\tif (page.includes('/?')) {\n\t\t\t\tlet [pageId, qs] = page.split('/?');\n\t\t\t\tpage = pageId;\n\t\t\t\tnavOptions.queryString = '?' + qs;\n\t\t\t}\n\t\t\tnavigateInternally(page, navOptions);\n\t\t}\n\t}\n\n\trenderValue(value, copy, defaultLabel) {\n\t\tconst label = accessNested(this.props, ['appData', 'copy', 'baseCopy', '$DATETIME_LOCALE', copy], defaultLabel);\n\n\t\tif (defaultLabel !== 'Days' || value <= 99) {\n\t\t\tvalue = ('0' + value).slice(-2);\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.denomination, typeof value === 'number' && s.wide)}>\n\t\t\t\t<div class={joinClasses(s.value, 'h1')}>{value}</div>\n\t\t\t\t<div class={s.label}>{label}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender({ heading, annotation, hidden, visible, position, headerHeight }, { remaining, counting }) {\n\t\tconst { days, hours, minutes, seconds } = remaining;\n\t\tconst containerStyle = {\n\t\t\tpaddingTop: position === 'top' && `${headerHeight + 24}px`\n\t\t};\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={containerStyle}\n\t\t\t\tclass={joinClasses(s.wrapper, !counting && s.remove, hidden && s.hide, visible && s.visible)}\n\t\t\t>\n\t\t\t\t{heading && <HTML class={s.heading} onClickCapture={this.onClick} content={heading} markdown />}\n\t\t\t\t{annotation && <div class={joinClasses(s.annotation, 'mediumB')}>{annotation}</div>}\n\t\t\t\t<div class={s.countdown}>\n\t\t\t\t\t{this.renderValue(days, '$LABEL_DAYS', 'Days')}\n\t\t\t\t\t{this.renderValue(hours, '$LABEL_HOURS', 'Hours')}\n\t\t\t\t\t{this.renderValue(minutes, '$LABEL_MINUTES', 'Minutes')}\n\t\t\t\t\t{this.renderValue(seconds, '$LABEL_SECONDS', 'Seconds')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\n\nimport { sections } from 'pages/bolt_pages';\n\nimport Store from 'store/store';\nimport 'store/bolt/footer';\nimport { getCopy } from 'utils/copy';\nimport { smoothScrollTo } from 'utils/smoothScroll';\nimport { accessNested, joinClasses, sortObjectByOrder } from 'utils/utils';\nimport { getIsSinglePageIframed, hideFooter } from 'utils/bolt/client';\nimport { geoFromIP } from 'utils/bolt/geo';\nimport Link from 'components/bolt/link/link';\nimport Button from 'components/bolt/button/button';\nimport Close from 'components/bolt/icons/close';\nimport ArrowDown from 'components/bolt/icons/arrowDown';\nimport { SonyFooter } from 'pages/bolt_features';\nimport HTML from 'components/core/html/html.js';\nimport * as webp from 'utils/bolt/webp';\n\nimport s from 'components/bolt/footer/footer.sss';\n\nconst dom = el => el?.base || el;\n\nlet userRegion;\nconst getUserRegion = (() => {\n\tlet promise;\n\treturn (onCreate) => {\n\t\tif (!promise) {\n\t\t\tpromise = geoFromIP();\n\t\t\tpromise.then(onCreate);\n\t\t}\n\t\treturn promise;\n\t};\n})();\n\nexport default class Footer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderOpenFooter = this.renderOpenFooter.bind(this);\n\t\tthis.toggleFooter = this.toggleFooter.bind(this);\n\t\tthis.closeFooter = this.toggleFooter.bind(this, false);\n\t\tthis.openFooter = this.toggleFooter.bind(this, true);\n\t\tthis.getFallbackFormat = this.getFallbackFormat.bind(this);\n\t\tthis.startAutoExpandTimer = this.startAutoExpandTimer.bind(this);\n\t\tthis.stopAutoExpandTimer = this.stopAutoExpandTimer.bind(this);\n\t\tthis.cancelAutoExpanding = this.cancelAutoExpanding.bind(this);\n\t\tthis.onLinkClick = this.onLinkClick.bind(this);\n\n\t\tthis.footerData = accessNested(props, 'data.defaultFooter', {});\n\t\tthis.updateSticky(props);\n\t\tthis.autoExpand = accessNested(props, 'data.defaultFooter.autoExpand', false);\n\t\tthis.autoExpandDuration = accessNested(props, 'data.defaultFooter.autoExpandDuration', 3);\n\t\tlet region = accessNested(props, 'store.appData.meta.region.slug');\n\t\tthis.tealiumCookiesEnabled = region !== 'au' && accessNested(props, 'store.appData.options.enableTealium', false);\n\t\tthis.ensightenTrackingEnabled = props.store?.appData?.options?.enableEnsighten;\n\t\tthis.allowAutoExpand = accessNested(props, 'store.footer.allowAutoExpand', true);\n\t\tthis.fontStyles = accessNested(props, 'store.appData.styling.fontVariables', {});\n\t\tthis.showtimesFooter = props.parent === 'showtimes';\n\t\tthis.pressKitFooter = props.parent === 'pressKit';\n\t\tthis.hasTextPage = Object.values(accessNested(props, 'store.appData.pages', {})).find(e => e.component === 'text' || e.page === 'text');\n\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\tautoExpanding: false,\n\t\t\tbackgroundColor: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.autoExpand && this.allowAutoExpand) {\n\t\t\tthis.startAutoExpandTimer();\n\t\t}\n\t\tthis.updateCoveredScreenSize();\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.updateSticky(nextProps);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (!this.props.parent) {\n\t\t\tconst activePage = this.props.store.activePage;\n\t\t\tlet lowestSection = activePage;\n\t\t\tif (activePage === 'boltHome' && sections) {\n\t\t\t\tlowestSection = sections[sections.length - 1]?.id;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet elem = lowestSection && document.querySelector(`[data-section=\"${lowestSection}\"]`);\n\t\t\t\tlet backgroundColor = elem && window.getComputedStyle(elem).backgroundColor;\n\t\t\t\tif (backgroundColor && this.state.backgroundColor !== backgroundColor) {\n\t\t\t\t\tthis.setState({ backgroundColor });\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t} else if (!this.state.backgroundColor && this.props.fallBackColor) {\n\t\t\tthis.setState({ backgroundColor: this.props.fallBackColor });\n\t\t}\n\t\tthis.updateCoveredScreenSize();\n\t}\n\n\tupdateSticky(props = this.props) {\n\t\tconst activePage = props.store?.activePage;\n\t\tconst activePageData = props.store?.appData?.pages?.[activePage]?.data;\n\t\tconst position = activePageData?.footer?.position || props.data?.defaultFooter?.position || 'fixed';\n\t\tthis.sticky = position === 'fixed';\n\t}\n\n\tupdateCoveredScreenSize() {\n\t\tif (!this.$cta) {\n\t\t\treturn;\n\t\t}\n\t\tlet isMobile = this.props.store?.client?.deviceSize === 'mobile';\n\t\tlet coveredScreenSize = isMobile && this.sticky ? dom(this.$cta).offsetHeight : 0;\n\t\tif (coveredScreenSize !== this.props.store.footer.coveredScreenSize) {\n\t\t\tStore.get().footer.set({ coveredScreenSize });\n\t\t}\n\t}\n\n\tstartAutoExpandTimer() {\n\t\tthis.setState({\n\t\t\topen: true,\n\t\t\tautoExpanding: true\n\t\t});\n\n\t\tconst duration = this.autoExpandDuration * 1000;\n\t\tthis.collapseTimer = window.setTimeout(() => {\n\t\t\tthis.cancelAutoExpanding();\n\t\t}, duration);\n\n\t}\n\n\tstopAutoExpandTimer() {\n\t\twindow.clearTimeout(this.collapseTimer);\n\t}\n\n\tcancelAutoExpanding() {\n\t\tthis.setState({\n\t\t\topen: false,\n\t\t\tautoExpanding: false\n\t\t});\n\t\tthis.stopAutoExpandTimer();\n\t\tStore.emit('FOOTER_AUTO_EXPANDED');\n\t}\n\n\topenEvidon() {\n\t\twindow.evidon?.notice?.showPreferencesDialog();\n\t}\n\tonLinkClick() {}\n\n\tisLoneVideoDefaultFooter() {\n\t\tconst defaultFooter = accessNested(this.props, 'data.defaultFooter');\n\t\tif (!defaultFooter) {\n\t\t\treturn false;\n\t\t}\n\t\tconst pages = Object.keys(accessNested(this.props, 'store.appData.pages', {}));\n\t\tconst pageExceptions = ['boltVideos', 'bolt-toolkit', 'boltBanner', 'browser-not-supported', 'boltIframe'];\n\t\tconst otherPages = pages.filter(id => !pageExceptions.includes(id));\n\t\treturn (otherPages.length === 0);\n\t}\n\n\n\ttoggleFooter(state) {\n\t\tconst open = typeof state === 'boolean' ? state : !this.state.open;\n\t\tthis.setState({ open });\n\n\t\tif (open && this.showtimesFooter) {\n\t\t\tconst showtimesScroller = document.querySelector(`[data-section=scroller]`);\n\t\t\tconst bottom = this.base.offsetTop + this.base.offsetHeight;\n\t\t\tsmoothScrollTo(showtimesScroller, bottom, 300);\n\t\t}\n\t}\n\n\trenderOpenFooter() {\n\t\tconst {\n\t\t\tlogos,\n\t\t\tlinks,\n\t\t\tcopyright\n\t\t} = this.footerData;\n\n\t\tconst footerBgStyling = accessNested(Store.get(), 'appData.styling.variables.footerBgColor', this.state.backgroundColor);\n\t\tconst accessibilityCopy = accessNested(Store.get(), 'appData.copy.accessibilityCopy', {});\n\n\n\t\tconst autoExpanding = this.state.autoExpanding;\n\n\t\tconst footerStyle = {\n\t\t\tbackground: !this.pressKitFooter && footerBgStyling\n\t\t};\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.openWrapper, autoExpanding && s.autoExpanding)} style={footerStyle} role=\"contentinfo\">\n\t\t\t\t<Button\n\t\t\t\t\tclass={s.closeBtn}\n\t\t\t\t\ttrigger={autoExpanding ? this.cancelAutoExpanding : this.toggleFooter}\n\t\t\t\t\tariaLabel={accessibilityCopy.$COLLAPSE_FOOTER_ARIA}\n\t\t\t\t>\n\t\t\t\t\t<Close />\n\t\t\t\t</Button>\n\t\t\t\t<div class={joinClasses(s.studioDetails)}>\n\t\t\t\t\t{this.getLogos(logos)}\n\t\t\t\t\t<div class={s.line} />\n\t\t\t\t\t<ul class={s.links}>\n\t\t\t\t\t\t{this.renderLinks(links, 'link')}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<ul class={joinClasses(s.copyright, this.fontStyles.footerCopyright)}>\n\t\t\t\t\t{this.renderLinks(copyright, 'copyright')}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetLogos(logos) {\n\t\tif (!logos) {\n\t\t\treturn;\n\t\t}\n\t\treturn (\n\t\t\t<ul class={s.logos}>\n\t\t\t\t{this.renderLinks(logos, 'logo')}\n\t\t\t</ul>\n\t\t);\n\t}\n\n\ttealiumAction() {\n\t\tif (window.DisneyGDPR && window.DisneyGDPR.Core && typeof window.DisneyGDPR.Core.openPreferencesDialog === 'function') {\n\t\t\twindow.DisneyGDPR.Core.openPreferencesDialog();\n\t\t}\n\t}\n\n\tensightenAction(e) {\n\t\tif (typeof window.__dataLayer?.OneTrustDialog === 'function') {\n\t\t\twindow.__dataLayer?.OneTrustDialog(e);\n\t\t}\n\t}\n\n\tgetFallbackFormat() {\n\t\treturn accessNested(this.props, 'appData.footer.alternativeImageFormat', 'png');\n\t}\n\n\trenderLinks(items, type) {\n\t\tconst ageGateEnabled = accessNested(Store.get(), 'appData.options.ageGate', false);\n\t\tconst isOfAge = accessNested(Store.get(), 'client.ofAge', null);\n\t\titems = sortObjectByOrder(items, (item, key) => ({ key, ...item })).filter(item => {\n\t\t\tconst ageGateShowOnly = +item.ageGateShowOnly || 0;\n\t\t\tif (ageGateShowOnly) {\n\t\t\t\t// ageGateShowOnly = 1 : age over the limit only\n\t\t\t\tif (ageGateShowOnly === 1 && ageGateEnabled && !isOfAge) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// ageGateShowOnly = 2 : age under the limit only\n\t\t\t\tif (ageGateShowOnly === 2 && isOfAge) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((item.excludeFromShowtimes && this.showtimesFooter) || (item.showtimesOnly && !this.showtimesFooter)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (item.userRegion) {\n\t\t\t\t// If we don't have the region yet, start getting it and then rerender once we have it\n\t\t\t\tgetUserRegion(geo => {\n\t\t\t\t\tuserRegion = geo?.countryCode;\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t});\n\t\t\t\tconst valid = item.userRegion.split(',').map(r => r.trim().toLowerCase()).includes(userRegion);\n\t\t\t\tif (!valid) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tlet links = [];\n\n\t\tconst isAuRegion = __REGION__ === 'au' || __REGION__ === 'nz';\n\n\t\tif (type === 'link' && (this.tealiumCookiesEnabled || (this.ensightenTrackingEnabled && !isAuRegion))) {\n\t\t\tlinks.push(\n\t\t\t\t<li class={s[`${type}Wrapper`]} key=\"tealium\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass={joinClasses(s[`${type}Link`], this.fontStyles.footerLegalLinks)}\n\t\t\t\t\t\ttrigger={this.ensightenTrackingEnabled ? this.ensightenAction : this.tealiumAction}\n\t\t\t\t\t>\n\t\t\t\t\t\t{accessNested(this.props, 'store.appData.copy.baseCopy.$COOKIE_SETTINGS') || 'Cookie Settings'}\n\t\t\t\t\t</Button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn links.concat(items.map((item, key) => {\n\t\t\tlet content;\n\t\t\tif (type === 'logo') {\n\t\t\t\tconst fileImg = item.src;\n\t\t\t\tconst fallbackFormat = this.getFallbackFormat();\n\n\t\t\t\tcontent = (\n\t\t\t\t\t<webp.Picture\n\t\t\t\t\t\tclass={s.logo}\n\t\t\t\t\t\tsrc={fileImg}\n\t\t\t\t\t\talt={getCopy(item.alt, {}, '', null, 'accessibilityCopy') || item.alt}\n\t\t\t\t\t\tfallbackFormat={fallbackFormat}\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\tcontent = getCopy(item.$copy, {}, '', null, 'baseCopy') || item.$copy;\n\t\t\t}\n\n\t\t\tif (type === 'link') {\n\t\t\t\tconst markdownContent = getCopy(item.$copy, {}, '', null, 'baseCopy') || item.$copy;\n\t\t\t\tcontent = (\n\t\t\t\t\t<HTML\n\t\t\t\t\t\tcontent={markdownContent}\n\t\t\t\t\t\tmarkdown\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (type === 'copyright') {\n\t\t\t\tcontent = (\n\t\t\t\t\t<HTML\n\t\t\t\t\t\tcontent={content}\n\t\t\t\t\t\tmarkdown\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (item.url && item.url.startsWith('@')) {\n\t\t\t\treturn (\n\t\t\t\t\t<li class={s[`${type}Wrapper`]} key={key}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclass={joinClasses(s[`${type}Link`], this.fontStyles[type === 'copyright' ? 'footerCopyright' : 'footerLegalLinks'])}\n\t\t\t\t\t\t\ttrigger={() => Store.emit('OPEN_RESERVED_VARIABLE_LINK', item.url)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (item.url in (Store.get().appData?.pages || {})) {\n\t\t\t\treturn (\n\t\t\t\t\t<li class={s[`${type}Wrapper`]} key={key}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclass={joinClasses(s[`${type}Link`], this.fontStyles[type === 'copyright' ? 'footerCopyright' : 'footerLegalLinks'])}\n\t\t\t\t\t\t\ttrigger={() => Store.emit('CLOSE_AND_NAVIGATE', item.url, '', { instant: false })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tlet Element = item.url ? Link : 'div';\n\t\t\tif (!item.url && item.openCookieConsentTool) {\n\t\t\t\tElement = 'button';\n\t\t\t}\n\t\t\tlet attributes = {\n\t\t\t\tclass: joinClasses(s[`${type}Link`], this.fontStyles[type === 'copyright' ? 'footerCopyright' : 'footerLegalLinks']),\n\t\t\t\tariaLabel: item.ariaLabel,\n\t\t\t\ttitle: item.title,\n\t\t\t\tonClick: item.openCookieConsentTool ? this.openEvidon : () => this.onLinkClick(item)\n\t\t\t};\n\t\t\tif (item.url) {\n\t\t\t\tconst disableNoOpNoRef = accessNested(this.props, 'data.defaultFooter.disableNoOpenerNoReferrer', false);\n\t\t\t\tattributes.href = item.url;\n\t\t\t\tattributes.target = item.target || (/^(https?:)?\\/\\//.test(item.url) ? '_blank' : '_self');\n\t\t\t\tattributes.rel = !disableNoOpNoRef && 'noopener noreferrer';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<li class={s[`${type}Wrapper`]} key={key}>\n\t\t\t\t\t<Element {...attributes}>{content}</Element>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}));\n\t}\n\n\trenderExtra() {}\n\n\trender(props, state) {\n\t\tconst {\n\t\t\tdata,\n\t\t\tscrollElem,\n\t\t\tstore,\n\t\t\tisHomeEntFooter\n\t\t} = props;\n\n\t\tconst accessibilityCopy = accessNested(store, 'appData.copy.accessibilityCopy', {});\n\t\t// const isDesktop = accessNested(store, 'client.isDesktopSize');\n\n\t\tconst copyright = accessNested(data, 'defaultFooter.copyright');\n\n\t\tconst videosFooter = accessNested(store, 'header.videoOverlayOpen', false);\n\t\tconst loneVideoDefaultFooter = videosFooter && this.isLoneVideoDefaultFooter();\n\t\tconst stickyState = this.sticky || videosFooter;\n\t\tconst staticAutoExpand = !this.sticky && accessNested(data, 'defaultFooter.autoExpand', false);\n\t\tconst inlineFooter = !stickyState && accessNested(data, 'defaultFooter.inline', false);\n\t\tconst signUpFormFooterLinks = accessNested(store, 'appData.options.formEmbeds.signUp.displayFooterLinks', false);\n\n\t\tconst { ctaOpenCopy = 'FOOTER_CTA', ctaCloseCopy = 'FOOTER_CLOSE' } = data.defaultFooter || {};\n\t\tconst toggleButtonText = state.open ? getCopy(ctaCloseCopy, {}, '', null, 'baseCopy') : getCopy(ctaOpenCopy, {}, '', null, 'baseCopy');\n\t\tconst toggleButtonAria = state.open ? accessibilityCopy.$COLLAPSE_FOOTER_ARIA : accessibilityCopy.$EXPAND_FOOTER_ARIA;\n\n\t\tconst isSinglePageIframed = getIsSinglePageIframed();\n\n\t\tconst hidden = hideFooter();\n\n\t\tconst style = {};\n\t\tif (!this.showtimesFooter && !this.hasTextPage && !this.pressKitFooter) {\n\t\t\tstyle.backgroundColor = state.backgroundColor;\n\t\t}\n\n\t\tconst signUpOpen = accessNested(store, 'signupBanner.open', false);\n\t\tconst signUpFormHeight = accessNested(Store.get(), 'client.signUpFormHeight', null);\n\n\t\tif (signUpOpen) {\n\t\t\tstyle.paddingBottom = signUpFormHeight\n\t\t}\n\n\t\tconst activePage = store.activePage;\n\t\tconst dedicatedIframePage = accessNested(store, ['appData', 'pages', activePage, 'page']) === 'iframe';\n\n\t\tconst lastSectionId = sections[sections.length - 1]?.id;\n\t\tconst hasWatchMoreShadow = lastSectionId === 'boltWatchMore' && !store.watchMore?.hide;\n\t\tconst synopsisFooterShadow = store?.synopsis?.addShadowToFooter;\n\t\tconst tiledItemsFooterShadow = store?.tiledItems?.addShadowToFooter;\n\t\tlet needsShadow = (synopsisFooterShadow || tiledItemsFooterShadow || hasWatchMoreShadow) && !this.showtimesFooter;\n\n\t\tif (activePage === 'filmPage') {\n\t\t\tneedsShadow = false;\n\t\t}\n\n\t\tconst sonyFooter = accessNested(data, 'sonyFooter', false);\n\t\tconst copy = accessNested(props, 'store.appData.copy', {});\n\n\t\tif (sonyFooter) {\n\t\t\treturn (\n\t\t\t\t<footer\n\t\t\t\t\tdata-section=\"boltFooter\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t\tclass={joinClasses({\n\t\t\t\t\t\ts, wrapper: true,\n\t\t\t\t\t\tsticky: stickyState,\n\t\t\t\t\t\topen: state.open,\n\t\t\t\t\t\tshowtimes: this.showtimesFooter,\n\t\t\t\t\t\thomeEnt: isHomeEntFooter,\n\t\t\t\t\t\tsidePanelOpen: accessNested(store, 'showtimes.show', false) || accessNested(store, 'homeEnt.show', false)\n\t\t\t\t\t})}\n\t\t\t\t\trole=\"contentinfo\"\n\t\t\t\t>\n\t\t\t\t\t{needsShadow && <div class={s.shadow} />}\n\t\t\t\t\t<SonyFooter data={data.sonyFooter} showtimes={this.showtimesFooter} copy={copy} />\n\t\t\t\t</footer>\n\t\t\t);\n\t\t}\n\n\t\tif (activePage === 'boltHome') {\n\t\t\tconst noSynopsisOrGallerySections = !sections.find(section => ['boltSynopsis', 'boltGallery'].includes(section.id));\n\t\t\tif (noSynopsisOrGallerySections) {\n\t\t\t\tstyle.backgroundColor = '';\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<footer\n\t\t\t\tdata-section=\"boltFooter\"\n\t\t\t\tstyle={style}\n\t\t\t\tclass={joinClasses({\n\t\t\t\t\ts, wrapper: true,\n\t\t\t\t\tsticky: stickyState,\n\t\t\t\t\topen: state.open,\n\t\t\t\t\tshowtimes: this.showtimesFooter,\n\t\t\t\t\tpressKit: this.pressKitFooter,\n\t\t\t\t\thomeEnt: isHomeEntFooter,\n\t\t\t\t\tsidePanelOpen: accessNested(store, 'showtimes.show', false) || accessNested(store, 'homeEnt.show', false),\n\t\t\t\t\tloneVideoDefaultFooter: loneVideoDefaultFooter,\n\t\t\t\t\tstaticAutoExpand,\n\t\t\t\t\tinlineFooter,\n\t\t\t\t\tdedicatedIframePage,\n\t\t\t\t\thidden,\n\t\t\t\t\tsignUpFormFooterLinks\n\t\t\t\t})}\n\t\t\t\trole=\"contentinfo\"\n\t\t\t>\n\t\t\t\t{needsShadow && <div class={s.shadow} />}\n\t\t\t\t<div class={joinClasses(s.outer, isSinglePageIframed && s.noLegalBtn)}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass={s.scrollTop}\n\t\t\t\t\t\ttrigger={() => smoothScrollTo(scrollElem || document.getElementById('mainScroll'), 0, 300)}\n\t\t\t\t\t\tariaLabel={accessibilityCopy.$SCROLL_UP_ARIA}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowDown class={s.arrow} />\n\t\t\t\t\t</Button>\n\t\t\t\t\t{copyright && <ul class={s.copyright} key=\"copyright\">{this.renderLinks(copyright, 'copyright')}</ul>}\n\t\t\t\t\t<div class={s.sizer} />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass={joinClasses(s.cta, this.fontStyles.footerLegalButton, isSinglePageIframed && s.hidden)}\n\t\t\t\t\t\ttrigger={this.toggleFooter}\n\t\t\t\t\t\tkey=\"toggle\"\n\t\t\t\t\t\tariaLabel={toggleButtonAria}\n\t\t\t\t\t\tref={e => this.$cta = e}\n\t\t\t\t\t>\n\t\t\t\t\t\t{toggleButtonText}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.openCropper}>\n\t\t\t\t\t{this.renderOpenFooter()}\n\t\t\t\t\t{inlineFooter && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclass={s.scrollTop}\n\t\t\t\t\t\t\ttrigger={() => smoothScrollTo(scrollElem || document.getElementById('mainScroll'), 0, 300)}\n\t\t\t\t\t\t\tariaLabel={accessibilityCopy.$SCROLL_UP_ARIA}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ArrowDown class={joinClasses(s.arrow, s.arrowTop)} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{this.renderExtra()}\n\t\t\t</footer>\n\t\t);\n\t}\n}\n","import { h } from 'preact';\nimport Section from 'components/bolt/section/section';\nimport Store from 'store/store';\nimport 'store/bolt/gallery';\nimport { accessNested, sortObjectByOrder, joinClasses } from 'utils/utils';\nimport { arrayWithUniqueKeys } from 'utils/bolt';\nimport { getValueForClientSize, isVideosPage } from 'utils/bolt';\nimport { useDynamicAssetFolder } from 'utils/assets';\nimport { getPlaylistData } from 'services/boltYoutube';\nimport Button from 'components/bolt/button/button';\nimport Download from 'components/bolt/icons/download';\nimport ArrowDown from 'components/bolt/icons/arrowDown';\nimport HTML from 'components/core/html/html';\nimport Link from 'components/bolt/link/link';\nimport VideoPlayer from 'components/bolt/videos/player';\nimport SharePopout from 'components/bolt/header/sharePopout';\nimport Share from 'components/bolt/icons/share';\nimport Transition from 'components/core/transition/transition';\nimport s from 'components/bolt/gallery/gallery.sss';\nimport { pages } from 'pages/bolt_pages';\nimport * as webp from 'utils/bolt/webp';\nimport slugify from 'utils/slugify';\nimport { navigateInternally } from 'utils/bolt';\n\nconst TOUCH_SLOP = 8;\nconst TRANSITION_DURATION = 1000;\n\nexport default class Gallery extends Section {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst hasMultipleGalleries = this.hasMultipleGalleries();\n\t\tconst pageData = this.props.pageData || props.appData.pages[this.props.id]?.data;\n\t\tlet galleryData = pageData?.contentCarousel;\n\n\t\tif (this.props.isMiniGallery) {\n\t\t\tgalleryData = accessNested(this.props, 'appData.options.paramountFeatures.toutCarousel.contentCarousel', {});\n\t\t} else if (this.props.isEmbeded) {\n\t\t\tgalleryData = pageData?.gallery?.contentCarousel;\n\t\t}\n\n\t\tthis.autoRotate = pageData?.autoRotate || false;\n\n\t\tif (props.isMiniGallery) {\n\t\t\tthis.autoRotate = props?.appData?.options?.paramountFeatures?.toutCarousel?.autoRotate || false;\n\t\t}\n\n\t\tconst galleryHash = pageData?.hash;\n\t\tconst galleryDataArray = sortObjectByOrder(galleryData, (value, key) => ({\n\t\t\t...value,\n\t\t\tfileName: value?.pdfSrc?.split('/')?.pop(),\n\t\t\tkey: slugify(props.id + '-' + key),\n\t\t\taltKey: galleryHash && slugify(galleryHash + '-' + key)\n\t\t}));\n\t\tthis.unpackYoutubePlaylists(galleryDataArray);\n\n\t\tthis.loadedSrcs = [];\n\n\t\tthis.state = {\n\t\t\timages: galleryDataArray || [],\n\t\t\thasMultipleGalleries\n\t\t};\n\n\t\tthis.observerCallback = this.observerCallback.bind(this);\n\n\t\tthis.onDragStart = this.onDragStart.bind(this);\n\t\tthis.onDrag = this.onDrag.bind(this);\n\t\tthis.onDragEnd = this.onDragEnd.bind(this);\n\n\t\tthis.onImageClick = this.onImageClick.bind(this);\n\t\tthis.imageLoaded = this.imageLoaded.bind(this);\n\t\tthis.renderImageLoader = this.renderImageLoader.bind(this);\n\t\tthis.downloadAll = this.downloadAll.bind(this);\n\t\tthis.downloadAllAsSingleFile = this.downloadAllAsSingleFile.bind(this);\n\t\tthis.getFallbackFormat = this.getFallbackFormat.bind(this);\n\t\tthis.togglePlaying = this.togglePlaying.bind(this);\n\t\tthis.videoClickHandler = this.videoClickHandler.bind(this);\n\t\tthis.onImageShare = this.onImageShare.bind(this);\n\t\tthis.getImageForHash = this.getImageForHash.bind(this);\n\n\t\tthis.useDownloadAttribute = typeof window === 'undefined' || ('download' in document.createElement('a'));\n\t}\n\n\tunpackYoutubePlaylists = (array) => {\n\t\tconst foundYoutubePlaylists = array.find(obj => obj.youtubePlaylistId);\n\t\tif (foundYoutubePlaylists !== undefined) {\n\t\t\tthis.replacePlaylistWithVideos(array);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet images = this.state.images || [];\n\t\tconst activeImage = this.getActiveImage();\n\t\tthis.activeImageUrl = this.getSrc(activeImage);\n\t\tlet activeImageIndex = images.findIndex(img => img.key === activeImage.key);\n\n\t\tif (images.length) {\n\t\t\tStore.emit('GALLERY_VIEW_IMAGE', images[activeImageIndex].key);\n\t\t}\n\n\t\tconst isVideo = (activeImage.videoSrc || activeImage.vimeoId || activeImage.youtubeId\n\t\t\t|| activeImage.youtubeId || activeImage.disneySrc || activeImage.youtubePlaylistId);\n\t\tif (!isVideo) {\n\t\t\tthis.observer = new IntersectionObserver(this.observerCallback, { threshold: [1] });\n\t\t\tthis.observer.observe(this.contentWrapper);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.clearTimeout(this.nextRotationTimer);\n\t\twindow.clearTimeout(this.changeImageTimeout);\n\t\tif (this.observer) {\n\t\t\tthis.observer.unobserve(this.contentWrapper);\n\t\t\tthis.observer.disconnect();\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.id !== this.props.id) {\n\t\t\tconst pageData = this.props.pageData || this.props.appData.pages[this.props.id]?.data;\n\t\t\tlet galleryData = pageData?.contentCarousel;\n\n\t\t\tif (this.props.isMiniGallery) {\n\t\t\t\tgalleryData = accessNested(this.props, 'appData.options.paramountFeatures.toutCarousel.contentCarousel', {});\n\t\t\t} else if (this.props.isEmbeded) {\n\t\t\t\tgalleryData = pageData?.gallery?.contentCarousel;\n\t\t\t}\n\t\t\tconst galleryDataArray = sortObjectByOrder(galleryData, (value, key) => ({ ...value, key: slugify(key) }));\n\t\t\tthis.unpackYoutubePlaylists(galleryDataArray);\n\t\t\tStore.emit('CHANGE_ACTIVE_IMAGE', {\n\t\t\t\timage: galleryDataArray[0],\n\t\t\t\tpageId: this.props.combinedId || this.props.id\n\t\t\t});\n\n\t\t\tthis.setState({ images: galleryDataArray });\n\t\t}\n\t}\n\n\tobserverCallback([e]) {\n\t\tif (e.isIntersecting && e.intersectionRatio === 1 && !this.firstAutoRotationTriggered) {\n\t\t\tthis.firstAutoRotationTriggered = true;\n\t\t\tconst activeImage = this.getActiveImage();\n\t\t\tconst src = this.getSrc(activeImage);\n\t\t\tthis.setAutoRotateTimer(src);\n\t\t}\n\t}\n\n\t/**\n\t* Returns the gallery data array without playlist objects.\n\t*\n\t* @param {Array.<object>} array\n\t* @returns {Array.<object>} array of objects\n\t**/\n\tremoveYoutubePlaylists = (array) => {\n\t\treturn array.filter((item) => !item.youtubePlaylistId && item);\n\t}\n\n\treplacePlaylistWithVideos(videoDataArray) {\n\t\tPromise.all(videoDataArray.map(vid => {\n\t\t\tif (vid && vid.youtubePlaylistId) {\n\t\t\t\t// return Promise.reject();\n\t\t\t\treturn this.getVideosFromPlaylist(vid);\n\t\t\t}\n\t\t\treturn vid;\n\t\t})).then((data) => {\n\t\t\tconst concatArray = [].concat(...data);\n\t\t\tthis.setState({ images: arrayWithUniqueKeys(concatArray) });\n\t\t}).catch(() => {\n\t\t\tthis.setState({ images: this.removeYoutubePlaylists(videoDataArray) });\n\t\t});\n\t}\n\n\tsortPlaylist(a, b, order) {\n\t\tif (!order) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst playlistOrder = order.replace(/\\s/g, '').split(',').reverse();\n\t\treturn playlistOrder.indexOf(b.snippet.resourceId.videoId) - playlistOrder.indexOf(a.snippet.resourceId.videoId);\n\t}\n\n\tgetVideosFromPlaylist(vid) {\n\t\tconst playlistId = vid.youtubePlaylistId;\n\t\tconst noCookies = vid.noCookies === 'No Cookie Mode';\n\t\treturn getPlaylistData(playlistId).then(data => {\n\t\t\treturn data.items.filter(item => item.snippet.thumbnails.medium).sort((a, b) => this.sortPlaylist(a, b, vid.playlistOrder)).map(item => ({\n\t\t\t\tname: item.snippet.title,\n\t\t\t\tthumbSrc: item.snippet.thumbnails.medium.url,\n\t\t\t\tyoutubeId: item.snippet.resourceId.videoId,\n\t\t\t\tkey: item.id,\n\t\t\t\tnoCookies\n\t\t\t}));\n\t\t});\n\t}\n\n\thasMultipleGalleries() {\n\t\tconst pages = sortObjectByOrder(accessNested(this.props, 'appData.pages', {}));\n\t\tconst galleryComps = pages.filter(page => page.component === 'gallery' || page.page === 'gallery' || page.data?.gallery?.contentCarousel /*embeded gallery*/ || page.type === 'filmPage');\n\t\tconst hasMiniGallery = accessNested(this.props, 'appData.options.paramountFeatures.toutCarousel.contentCarousel', false);\n\t\tlet totalGalleries = galleryComps.length;\n\t\tif (hasMiniGallery) {\n\t\t\ttotalGalleries += 1;\n\t\t}\n\t\treturn (totalGalleries > 1);\n\t}\n\n\tgetFallbackFormat() {\n\t\treturn accessNested(this.props, 'appData.pages.boltGallery.data.alternativeImageFormat', 'jpg');\n\t}\n\n\tgetActiveImage() {\n\t\tconst { images, hasMultipleGalleries } = this.state;\n\t\tconst { isMiniGallery } = this.props;\n\t\tconst store = Store.get();\n\t\tconst id = isMiniGallery ? 'miniGallery' : (this.props.combinedId || this.props.id);\n\t\tconst activeImageFromStore = hasMultipleGalleries ?\n\t\t\taccessNested(store, ['gallery', id, 'activeImage']) :\n\t\t\taccessNested(store, 'gallery.activeImage');\n\t\tconst activeImage = activeImageFromStore || images[0] || {};\n\n\t\tconst foundInGallery = this.getImageForHash();\n\t\tif (foundInGallery) {\n\t\t\treturn foundInGallery;\n\t\t}\n\n\t\treturn activeImage;\n\t}\n\n\tgetImageForHash() {\n\t\tconst hash = typeof window !== 'undefined' && location.hash.slice(1);\n\t\tif (!hash) return;\n\n\t\tconst { images } = this.state;\n\n\t\treturn images.find((item) => {\n\t\t\tconst selectVideoSrc = (item.vimeoId || item.youtubeId);\n\t\t\tconst isSelectVideo = !!selectVideoSrc;\n\n\t\t\tif (isSelectVideo) {\n\t\t\t\treturn (selectVideoSrc === hash || item.key === hash);\n\t\t\t}\n\n\t\t\treturn item.key === hash || item.altKey === hash;\n\t\t});\n\t}\n\n\tchangeActiveImage(image) {\n\t\tconst { hasMultipleGalleries } = this.state;\n\t\tconst { isMiniGallery } = this.props;\n\t\tconst pageId = hasMultipleGalleries && (isMiniGallery ? 'miniGallery' : this.props.id);\n\n\t\tconst isVideo = (image.videoSrc || image.vimeoId || image.youtubeId\n\t\t\t|| image.youtubeId || image.disneySrc || image.youtubePlaylistId);\n\n\t\tStore.emit('CHANGE_ACTIVE_IMAGE', { image, pageId: hasMultipleGalleries && (this.props.combinedId || pageId) });\n\t\tconst newSrc = this.getSrc(image);\n\n\t\tif (this.autoRotate) {\n\t\t\twindow.clearTimeout(this.nextRotationTimer);\n\t\t\t!isVideo && this.setAutoRotateTimer(newSrc);\n\t\t}\n\n\t\tif (isMiniGallery) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst foundInGallery = this.getImageForHash();\n\t\tif (foundInGallery) {\n\t\t\twindow.history.replaceState({}, document.title, '.' + location.search);\n\t\t}\n\n\t\tconst srcHasNotChanged = (newSrc === this.activeImageUrl) && !isVideo;\n\n\t\tif (!srcHasNotChanged && !this.loadedSrcs.includes(newSrc) ) {\n\t\t\tthis.setState({ loading: true });\n\t\t}\n\n\t\tif (newSrc && !isVideo) {\n\t\t\tthis.activeImageUrl = this.getSrc(image);\n\t\t}\n\t}\n\n\tgetSrc(activeImage) {\n\t\tlet src;\n\t\tif (!activeImage.mobileSrc && !activeImage.tabletSrc) {\n\t\t\tsrc = activeImage.desktopSrc;\n\t\t} else {\n\t\t\tsrc = {\n\t\t\t\tdesktop: activeImage.desktopSrc,\n\t\t\t\tmobile: activeImage.mobileSrc,\n\t\t\t\ttablet: activeImage.tabletSrc\n\t\t\t};\n\t\t}\n\t\treturn useDynamicAssetFolder(getValueForClientSize(src));\n\t}\n\n\tonDragStart(e) {\n\t\tconst isDesktop = this.props.client?.isDesktopSize;\n\t\tconst { isMiniGallery } = this.props;\n\t\tif (this.grabbed || e.button !== undefined && e.button !== 0 || isDesktop || isMiniGallery) {\n\t\t\treturn;\n\t\t}\n\t\tif (!e.touches || !e.touches.length) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tconst target = this.contentWrapper;\n\t\ttarget.style.transition = 'none';\n\t\tlet eventSource = e.touches && e.touches[0] || e;\n\t\tlet pos = eventSource.pageX || 0;\n\t\tthis.grabbed = {\n\t\t\tx: pos,\n\t\t\ty: eventSource.pageY || 0,\n\t\t\tprevious: pos,\n\t\t\tlastEvent: Date.now()\n\t\t};\n\t}\n\tonDrag(e) {\n\t\tconst isDesktop = this.props.client?.isDesktopSize;\n\t\tconst { isMiniGallery } = this.props;\n\t\tif (!this.grabbed || isDesktop || isMiniGallery) {\n\t\t\treturn;\n\t\t}\n\t\tconst target = this.contentWrapper;\n\t\tlet eventSource = e.touches && e.touches[0] || e;\n\t\tlet x = eventSource.pageX || 0;\n\t\tlet y = eventSource.pageY || 0;\n\t\tlet deltaX = Math.abs(x - this.grabbed.x);\n\t\tlet deltaY = Math.abs(y - this.grabbed.y);\n\t\ttarget.style.transform = `translate(${x - this.grabbed.x}px, -50%)`;\n\t\tif (!this.grabbed.active && deltaX < TOUCH_SLOP) {\n\t\t\tif (deltaY >= TOUCH_SLOP) {\n\t\t\t\t// Vertical swipe\n\t\t\t\tthis.grabbed = false;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (!this.grabbed.active) {\n\t\t\tthis.grabbed.x = x;\n\t\t\tthis.grabbed.active = true;\n\t\t}\n\t\tif (e.cancelable) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tthis.grabbed.lastEvent = Date.now();\n\t\tthis.grabbed.speed = this.grabbed.previous - x;\n\t\tthis.grabbed.previous = x;\n\t}\n\tonDragEnd(e) {\n\t\tconst isDesktop = this.props.client?.isDesktopSize;\n\t\tconst { isMiniGallery } = this.props;\n\t\tlet grabbed = this.grabbed;\n\t\tthis.grabbed = false;\n\t\tif (grabbed) {\n\t\t\tif (!grabbed.active || isDesktop || isMiniGallery) {\n\t\t\t\tthis.onImageClick(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst target = this.contentWrapper;\n\t\t\tlet speed = grabbed.speed * Math.max(0, 1 - (Date.now() - grabbed.lastEvent) / 200);\n\t\t\tif (Math.abs(speed) > 3) {\n\t\t\t\tthis.setState({ swipeToChange: true });\n\t\t\t\tthis.changeImageRelative(speed > 0 ? 1 : -1);\n\t\t\t\ttarget.style.transform = `translate(${speed > 0 ? 100 : -100}%, -50%)`;\n\t\t\t}\n\t\t\tthis.changeImageTimeout = window.setTimeout(() => {\n\t\t\t\ttarget.style.transition = `.3s transform`;\n\t\t\t\ttarget.style.transform = `translate(0, -50%)`;\n\t\t\t\tthis.setState({ swipeToChange: false });\n\t\t\t}, 10);\n\t\t} else {\n\t\t\tthis.contentWrapper.style.transition = `.3s transform`;\n\t\t\tthis.contentWrapper.style.transform = `translate(0, -50%)`;\n\t\t\tthis.setState({ swipeToChange: false });\n\t\t}\n\n\t}\n\n\tonImageClick(e) {\n\t\t// this.changeImageRelative(e.offsetX >= e.target.width * .5 ? 1 : -1);\n\t}\n\n\tchangeImageRelative(offset, opts) {\n\t\tconst hash = typeof window !== 'undefined' && location.hash.slice(1);\n\t\tlet images = this.state.images || [];\n\t\tif (images.length === 1) return;\n\n\t\tconst activeImage = this.getActiveImage();\n\t\tlet activeImageIndex = images.findIndex(img => img.key === activeImage.key);\n\t\tif (activeImageIndex === -1) {\n\t\t\tactiveImageIndex = 0;\n\t\t}\n\t\tactiveImageIndex += offset;\n\t\twhile (activeImageIndex < 0) {\n\t\t\tactiveImageIndex += images.length;\n\t\t}\n\t\twhile (activeImageIndex >= images.length) {\n\t\t\tactiveImageIndex -= images.length;\n\t\t}\n\n\t\tthis.setState({ direction: offset });\n\n\t\tthis.changeActiveImage(images[activeImageIndex], opts);\n\t\tStore.emit('GALLERY_VIEW_IMAGE', images[activeImageIndex].key);\n\t}\n\n\tdownload(image, link) {\n\t\tconst isEdge = accessNested(this.props, 'client.isEdge', false);\n\t\tconst isIOS = accessNested(this.props, 'client.isIOS', false);\n\t\tlink.target = '_blank';\n\t\tif (isIOS) {\n\t\t\tlink.target = '_blank';\n\t\t} else if (!isEdge) {\n\t\t\tconst c = document.createElement('canvas');\n\t\t\tconst context = c.getContext('2d');\n\t\t\tc.width = image.naturalWidth;\n\t\t\tc.height = image.naturalHeight;\n\t\t\tcontext.drawImage(image, 0, 0);\n\t\t\tlink.href = c.toDataURL('image/jpeg');\n\t\t\tlink.style.display = 'none';\n\t\t}\n\n\t\tdocument.body.appendChild(link);\n\t\tlink.click();\n\t\tdocument.body.removeChild(link);\n\t}\n\n\tdownloadImage(image, index) {\n\t\tlet galleryImage = this.$galleryImage;\n\t\tconst movieSlug = accessNested(this.props, 'appData.meta.title.localeSlug', 'image');\n\t\tconst isIOS = accessNested(this.props, 'client.isIOS', false);\n\t\tconst src = image.pdfSrc || this.getSrc(image);\n\t\tlet link = document.createElement('a');\n\t\tconst isGIF = src.endsWith('gif');\n\n\n\t\tif ((isGIF || image.pdfSrc) && !isIOS) {\n\n\t\t\treturn this.downloadGifOrPdf(\n\t\t\t\tisGIF ? src : image.pdfSrc,\n\t\t\t\timage.fileName ? image.fileName : `${movieSlug}.${isGIF ? 'gif' : 'pdf'}`\n\t\t\t);\n\t\t}\n\n\t\tlink.download = index ? `${movieSlug}-${index}.jpg` : `${movieSlug}.jpg`;\n\t\tlink.href = src;\n\n\t\tif (!galleryImage) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (index !== undefined) {\n\t\t\tgalleryImage = document.createElement('IMG');\n\t\t\tgalleryImage.crossOrigin = 'anonymous';\n\t\t\tgalleryImage.src = (src + (src.includes('?') ? '&' : '?') + '_cors=1');\n\t\t\tgalleryImage.onload = () => {\n\t\t\t\tthis.download(galleryImage, link);\n\t\t\t};\n\t\t\treturn;\n\t\t}\n\n\t\tthis.download(galleryImage, link);\n\t}\n\n\tasync downloadGifOrPdf(src, url) {\n\t\tconst result = await fetch(src);\n\t\tconst blob = await result.blob();\n\n\t\tconst link = document.createElement('a');\n\t\tlink.href = window.URL.createObjectURL(blob);\n\t\tlink.download = url;\n\n\t\tlink.dataset.downloadurl = ['application/octet-stream', link.download, link.href].join(':');\n\t\tlink.click();\n\t}\n\n\tdownloadAll() {\n\t\tthis.state.images.forEach((img, key) => this.downloadImage(img, key));\n\t\tStore.emit('GALLERY_DOWNLOAD_ALL', this.props.id);\n\t}\n\n\tasync downloadAllAsSingleFile({ path, fileName }) {\n\t\tconst isGIF = path.endsWith('.gif');\n\t\tconst isPDF = path.endsWith('.pdf');\n\t\tif (!(isGIF || isPDF)) {\n\t\t\treturn;\n\t\t}\n\n\t\tStore.emit('GALLERY_DOWNLOAD_ALL', this.props.id);\n\t\tthis.setState({ downloadAllInProgress: true });\n\t\tawait this.downloadGifOrPdf(path, fileName);\n\t\tthis.setState({ downloadAllInProgress: false });\n\t}\n\n\ttogglePlaying(boolean) {\n\t\tthis.setState({ playing: boolean });\n\t}\n\n\ttriggerImageClick(path) {\n\t\tif (this.props.isMiniGallery) {\n\t\t\tStore.emit('TOUT_CLICK', 'carousel', 'tout', path);\n\t\t}\n\n\t\tif (path.startsWith('http')) {\n\t\t\treturn;\n\t\t}\n\t\t// Use navigateInternally from utils/bolt ?\n\t\tif (path.startsWith('@')) {\n\t\t\treturn Store.emit('OPEN_RESERVED_VARIABLE_LINK', path);\n\t\t}\n\t\tif (isVideosPage(path)) {\n\t\t\treturn Store.emit('OPEN_VIDEO_OVERLAY', path);\n\t\t}\n\t\tif (path === 'boltShowtimes') {\n\t\t\treturn Store.emit('SHOWTIMES_SHOW', true);\n\t\t}\n\t\tif (path === 'boltHomeEnt') {\n\t\t\treturn Store.emit('HOMEENT_SHOW', true);\n\t\t}\n\t\treturn Store.emit('CHANGE_ACTIVE_SECTION', path);\n\t}\n\n\tonImageShare(shareMetaOverrides) {\n\t\tconst activeImage = this.getActiveImage();\n\t\tconst imageUrl = this.getSrc(activeImage);\n\t\tconst siteUrl = window.location.href;\n\t\tStore.emit('GALLERY_SHARE_IMAGE', {\n\t\t\timageUrl,\n\t\t\tsiteUrl,\n\t\t\tmetaOverrides: shareMetaOverrides\n\t\t});\n\t}\n\n\ttoggleShare() {\n\t\tStore.emit('CLOSE_GALLERY_SHARE');\n\t}\n\n\tsetAutoRotateTimer(currentAssetSrc) {\n\t\tif (!this.autoRotate || this.autoRotate <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.loadedSrcs.includes(currentAssetSrc)) {\n\t\t\tthis.nextRotationTimer = window.setTimeout(() => {\n\t\t\t\tthis.changeImageRelative(1);\n\t\t\t}, this.autoRotate * 1000);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.autoRotateWaitingForLoad = currentAssetSrc;\n\t}\n\n\tonLoadedHandler = () => {\n\t\tthis.setState({ loading: false });\n\t}\n\n\tonEndedHandler = (activeVideo) => {\n\t\tconst nextMediaContent = this.getNextVideo(activeVideo, this.state.images);\n\t\tif (nextMediaContent) {\n\t\t\tthis.changeImageRelative(1);\n\t\t} else {\n\t\t\tStore.emit('VIDEO_ENDED', activeVideo);\n\t\t}\n\t}\n\n\tvideoClickHandler() {\n\t\tif (!this.videoPlayer) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.state.videoPlaying) {\n\t\t\tthis.videoPlayer.play();\n\t\t}\n\t}\n\n\tgetNextVideo = (activeVideo, videos) => {\n\t\tif (!activeVideo || !videos.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst activeVidIndex = videos.findIndex((vid) => vid.key === activeVideo.key);\n\t\tif (this.autoRotate && activeVidIndex + 1 === videos.length) return videos[0];\n\t\treturn videos[activeVidIndex + 1];\n\t}\n\n\trenderArrow(direction, offset) {\n\t\tconst rightArrowAria = accessNested(this.props, 'appData.copy.accessibilityCopy.$RIGHT_ARROW_ARIA');\n\t\tconst leftArrowAria = accessNested(this.props, 'appData.copy.accessibilityCopy.$LEFT_ARROW_ARIA');\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tclass={joinClasses(s.arrowBtn, this.state.loading && s.disabled)}\n\t\t\t\tdisabled={this.state.loading}\n\t\t\t\ttrigger={() => this.changeImageRelative(offset)}\n\t\t\t\tariaLabel={direction === 'rightArrow' ? rightArrowAria : leftArrowAria}\n\t\t\t>\n\t\t\t\t<ArrowDown class={s[direction]} />\n\t\t\t</Button>\n\t\t);\n\t}\n\n\trenderNavDots(images, activeKey) {\n\t\t// const navDotsAria = accessNested(this.props, 'appData.copy.accessibilityCopy.$NAV_DOTS_ARIA');\n\n\t\treturn (\n\t\t\t<div class={s.navDots}>\n\t\t\t\t{images.map((img, index) => {\n\t\t\t\t\tconst activeDot = activeKey == img.key;\n\t\t\t\t\tconst isFirst = index === 0;\n\t\t\t\t\tconst isLast = index === images.length - 1;\n\t\t\t\t\tlet { direction = 1 } = this.state;\n\t\t\t\t\tif (images.length === 2 && activeKey == 0) {\n\t\t\t\t\t\tdirection = -1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass={joinClasses(s.dotBtn, s.pointer)}\n\t\t\t\t\t\t\tonClick={() => this.changeActiveImage(img)}\n\t\t\t\t\t\t// key={img.key}\n\t\t\t\t\t\t// ariaLabel={navDotsAria.replace('<number>', img.order)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class={joinClasses({ s, dot: true, activeDot, isFirst, isLast, goingLeft: direction === -1, goingRight: direction === 1 })} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderDownloadButtons(activeImage, canDownloadAll, canDownloadSingle, customDownloadAll, fontStyles = {}, isVideo) {\n\t\tconst copy = accessNested(this.props, 'appData.copy', {});\n\t\tif (!canDownloadAll && !canDownloadSingle) {\n\t\t\treturn;\n\t\t}\n\t\t// const isIOS = accessNested(this.props, 'client.isIOS', false);\n\t\t// const isSafari = accessNested(this.props, 'client.isSafari', false);\n\t\tconst isPDF = activeImage.pdfSrc;\n\n\t\tlet downloadAllButton;\n\t\tif (canDownloadAll) {\n\t\t\tconst useCustom = customDownloadAll?.path && customDownloadAll.fileName;\n\t\t\tconst isIOS = this.props.client?.isIOS;\n\t\t\tconst useDownloadAttribute = useCustom && isIOS;\n\t\t\tconst downloadContent = [<span>{copy.baseCopy.$ALL || 'All'}</span>, <Download class={s.downloadIcon} />];\n\t\t\tconst inProgress = this.state.downloadAllInProgress;\n\t\t\tconst downloadAttrs = {\n\t\t\t\tclass: joinClasses(s.downloadButton, s.downloadAll, isVideo && s.lowerOpacity, inProgress && s.downloadInProgress),\n\t\t\t\tdisabled: isVideo || inProgress,\n\t\t\t\tkey: 'all',\n\t\t\t\tariaLabel: copy.accessibilityCopy.$DOWNLOAD_ALL_ARIA\n\t\t\t};\n\t\t\tif (useDownloadAttribute) {\n\t\t\t\tdownloadAllButton = (\n\t\t\t\t\t<a {...downloadAttrs} target=\"_blank\" href={customDownloadAll.path} download={customDownloadAll.fileName}>\n\t\t\t\t\t\t{downloadContent}\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst trigger = useCustom ? () => this.downloadAllAsSingleFile(customDownloadAll) : this.downloadAll;\n\t\t\t\tdownloadAllButton = (\n\t\t\t\t\t<Button {...downloadAttrs} trigger={trigger}>{downloadContent}</Button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses(s.downloadBtnContainer,\n\t\t\t\t\tfontStyles.galleryDownloadButtons)}\n\t\t\t\tkey=\"download-buttons\"\n\t\t\t>\n\t\t\t\t{canDownloadSingle && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass={joinClasses(s.downloadButton, s.downloadSingle, isVideo && s.lowerOpacity)}\n\t\t\t\t\t\tdisabled={isVideo}\n\t\t\t\t\t\ttrigger={() => {\n\t\t\t\t\t\t\tthis.downloadImage(activeImage, activeImage.key);\n\t\t\t\t\t\t\tStore.emit('GALLERY_DOWNLOAD_IMAGE', activeImage.key);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tkey=\"single\"\n\t\t\t\t\t\tariaLabel={copy.accessibilityCopy.$DOWNLOAD_IMAGE_ARIA}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{(isPDF ? (copy.baseCopy.$PDF || 'PDF') : (copy.baseCopy.$IMAGE || 'Image'))}</span>\n\t\t\t\t\t\t<Download class={s.downloadIcon} />\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{downloadAllButton}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderImageLoader() {\n\t\treturn <div class={s.spinner} key=\"loader\" />;\n\t}\n\n\timageLoaded(src) {\n\t\tif (!this.loadedSrcs.includes(src)) {\n\t\t\tthis.loadedSrcs.push(src);\n\t\t}\n\t\tthis.setState({ loading: false });\n\t\tif (this.autoRotateWaitingForLoad === src) {\n\t\t\tthis.autoRotateWaitingForLoad = null;\n\t\t\tthis.setAutoRotateTimer(src);\n\t\t}\n\t}\n\n\tonMarkdownClickCapture() { }\n\n\trenderImage() {\n\t\tconst { loading, swipeToChange } = this.state;\n\t\tconst activeImage = this.getActiveImage();\n\t\tconst image = this.getSrc(activeImage);\n\t\tconst fallbackFormat = this.getFallbackFormat();\n\t\tconst transitionDuration = swipeToChange ? 0 : TRANSITION_DURATION;\n\n\t\tlet elem = (\n\t\t\t<Transition\n\t\t\t\tduration={transitionDuration}\n\t\t\t\tclass={s.imageTransitionContainer}\n\t\t\t\tvisibleClass={s.imageTransitionVisible}\n\t\t\t\tleavingClass={s.imageTransitionLeaving}\n\t\t\t>\n\t\t\t\t<webp.Picture\n\t\t\t\t\tclass={joinClasses(s.activeImage, loading && s.loading, activeImage.path && s.clickable)}\n\t\t\t\t\tsrc={image}\n\t\t\t\t\tfallbackFormat={fallbackFormat}\n\t\t\t\t\talt={activeImage.alt}\n\t\t\t\t\tariaLabel={activeImage.alt}\n\t\t\t\t\tonLoad={() => this.imageLoaded(image)}\n\t\t\t\t\tref={$ref => this.$galleryImage = $ref}\n\t\t\t\t\tkey={`image-${image}`}\n\t\t\t\t\tonMouseDown={this.onDragStart}\n\t\t\t\t\tonTouchStart={this.onDragStart}\n\t\t\t\t\tonMouseMove={this.onDrag}\n\t\t\t\t\tonTouchMove={this.onDrag}\n\t\t\t\t\tonMouseUp={this.onDragEnd}\n\t\t\t\t\tonTouchEnd={this.onDragEnd}\n\t\t\t\t\tonClick={!!activeImage.path && (() => this.triggerImageClick(activeImage.path, activeImage.sameWindow))}\n\t\t\t\t/>\n\t\t\t</Transition>\n\t\t);\n\t\tif (activeImage.path?.startsWith('http')) {\n\t\t\treturn (\n\t\t\t\t<Link href={activeImage.path} target={activeImage.sameWindow ? '_self' : '_blank'}>\n\t\t\t\t\t{elem}\n\t\t\t\t</Link>\n\t\t\t);\n\t\t}\n\t\treturn elem;\n\t}\n\n\trenderVideo() {\n\t\tconst { loading, playing } = this.state;\n\t\tconst video = this.getActiveImage();\n\t\tconst isYoutube = video.youtubeId;\n\t\tconst pageId = this.props?.id;\n\t\tconst pageData = this.props?.appData?.pages[pageId]?.data || {};\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses(s.videoContainer, loading && s.loading)}\n\t\t\t\tref={ref => this.videoContainer = ref}\n\t\t\t\tonMouseDown={!isYoutube && this.onDragStart}\n\t\t\t\tonTouchStart={!isYoutube && this.onDragStart}\n\t\t\t\tonMouseMove={!isYoutube && this.onDrag}\n\t\t\t\tonTouchMove={!isYoutube && this.onDrag}\n\t\t\t\tonMouseUp={!isYoutube && this.onDragEnd}\n\t\t\t\tonTouchEnd={!isYoutube && this.onDragEnd}\n\t\t\t>\n\t\t\t\t<VideoPlayer\n\t\t\t\t\tref={ref => this.videoPlayer = ref}\n\t\t\t\t\tactiveVideo={video}\n\t\t\t\t\tonPlay={() => this.togglePlaying(true)}\n\t\t\t\t\tonPause={() => this.togglePlaying(false)}\n\t\t\t\t\tnoAutoplay={video.noAutoplay}\n\t\t\t\t\tonLoaded={this.onLoadedHandler}\n\t\t\t\t\tonEnded={() => this.onEndedHandler(video)}\n\t\t\t\t\toverrideStyles\n\t\t\t\t\tmuted={pageData.autoMuteVideos}\n\t\t\t\t/>\n\t\t\t\t{isYoutube && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tonMouseDown={this.onDragStart}\n\t\t\t\t\t\tonTouchStart={this.onDragStart}\n\t\t\t\t\t\tonMouseMove={this.onDrag}\n\t\t\t\t\t\tonTouchMove={this.onDrag}\n\t\t\t\t\t\tonMouseUp={this.onDragEnd}\n\t\t\t\t\t\tonTouchEnd={this.onDragEnd}\n\t\t\t\t\t\tonClick={this.videoClickHandler}\n\t\t\t\t\t\tclass={s.touchOverlay}\n\t\t\t\t\t\tstyle={{ pointerEvents: playing ? 'none' : 'all' }}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderPDF() {\n\t\tconst pdf = this.getActiveImage();\n\t\tconst hasThumbnail = pdf.desktopSrc || pdf.mobileSrc || pdf.tabletSrc;\n\n\t\tif (hasThumbnail) {\n\t\t\treturn this.renderImage();\n\t\t}\n\n\t\tlet embed = (\n\t\t\t<embed\n\t\t\t\ttype=\"application/pdf\"\n\t\t\t\tonClick={pdf.path && (() => this.triggerImageClick(pdf.path, pdf.sameWindow))}\n\t\t\t\tsrc={pdf.pdfSrc}\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"100%\"\n\t\t\t\tonLoad={() => this.imageLoaded(pdf.pdfSrc)}\n\t\t\t\tariaLabel={pdf.ariaLabel}\n\t\t\t\tonMouseDown={this.onDragStart}\n\t\t\t\tonTouchStart={this.onDragStart}\n\t\t\t\tonMouseMove={this.onDrag}\n\t\t\t\tonTouchMove={this.onDrag}\n\t\t\t\tonMouseUp={this.onDragEnd}\n\t\t\t\tonTouchEnd={this.onDragEnd}\n\t\t\t/>\n\t\t);\n\n\t\tif (pdf.path?.startsWith('http')) {\n\t\t\treturn (\n\t\t\t\t<Link class={s.activeImage} href={pdf.path} target={pdf.sameWindow ? '_self' : '_blank'}>\n\t\t\t\t\t{embed}\n\t\t\t\t</Link>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={s.activeImage}>\n\t\t\t\tembed\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderContent(activeImage, isVideo) {\n\t\tlet type = isVideo ? 'video' : (activeImage.pdfSrc ? 'pdf' : 'image');\n\t\tswitch (type) {\n\t\t\tcase 'video':\n\t\t\t\treturn this.renderVideo();\n\t\t\tcase 'pdf':\n\t\t\t\treturn this.renderPDF();\n\t\t\tcase 'image':\n\t\t\t\treturn this.renderImage();\n\t\t}\n\t}\n\n\trenderShare(isVideo, shareMetaOverrides) {\n\t\tconst activeImage = this.getActiveImage();\n\t\tconst imageUrl = this.getSrc(activeImage);\n\t\tconst baseCopy = this.props?.appData?.copy?.baseCopy || {};\n\t\tconst accessibilityCopy = this.props?.appData?.copy?.accessibilityCopy || {};\n\t\tconst shareCopy = baseCopy.$GALLERY_SHARE || baseCopy.$SHARE || 'Share';\n\t\treturn (\n\t\t\t<div class={s.share}>\n\t\t\t\t<Button\n\t\t\t\t\tclass={isVideo && s.lowerOpacity}\n\t\t\t\t\ttrigger={() => this.onImageShare(shareMetaOverrides)}\n\t\t\t\t\tkey=\"image-share\"\n\t\t\t\t\tariaLabel={accessibilityCopy.$GALLERY_SHARE_ARIA}\n\t\t\t\t\tdisabled={isVideo}\n\t\t\t\t>\n\t\t\t\t\t{shareCopy}\n\t\t\t\t\t<Share class={s.downloadIcon} aria-hidden />\n\t\t\t\t</Button>\n\t\t\t\t<SharePopout\n\t\t\t\t\textraClass={s.sharePopout}\n\t\t\t\t\tappData={this.props.appData}\n\t\t\t\t\tshareOpen={this.props.store?.gallery?.imageShareLink}\n\t\t\t\t\ttoggleSharePop={this.toggleShare}\n\t\t\t\t\tshareUrl={this.props.store?.gallery?.imageShareLink}\n\t\t\t\t\tshareImage={imageUrl}\n\t\t\t\t\tkey=\"gallery-share\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tonClick(e) {\n\t\tlet internalLink = e.target.closest('a[href^=\"#$\"]');\n\t\tif (internalLink) {\n\t\t\te.preventDefault();\n\t\t\tlet page = internalLink.getAttribute('href').slice(2).trim();\n\t\t\tlet navOptions = {};\n\t\t\tif (page.includes('/?')) {\n\t\t\t\tlet [pageId, qs] = page.split('/?');\n\t\t\t\tpage = pageId;\n\t\t\t\tnavOptions.queryString = '?' + qs;\n\t\t\t}\n\t\t\tnavigateInternally(page, navOptions);\n\t\t}\n\t}\n\n\trender(props) {\n\t\tlet path = `appData.pages.${props.id}.data`;\n\t\tif (props.isEmbeded) {\n\t\t\tpath = `${path}.gallery`;\n\t\t}\n\t\tconst data = props.pageData || accessNested(props, path) || {};\n\t\tconst { images, loading, swipeToChange } = this.state;\n\t\tconst isDesktopSize = accessNested(props, 'client.dimensions.width', 0) >= 1024;\n\t\tconst activeImage = this.getActiveImage();\n\t\tconst isVideo = (activeImage.videoSrc || activeImage.vimeoId || activeImage.youtubeId\n\t\t\t|| activeImage.youtubeId || activeImage.disneySrc || activeImage.youtubePlaylistId);\n\t\tconst galleryTitle = data.title;\n\t\tconst canDownloadAll = data.downloadAll;\n\t\tconst customDownloadAll = data.customDownloadAll || {};\n\t\tconst canDownloadSingle = data.downloadSingle;\n\t\tconst canShare = data.share;\n\t\tconst galleryDescription = data.description;\n\t\tconst hideArrowsMobile = data.hideArrowsMobile || props.isMiniGallery;\n\t\tconst hideArrowsDesktop = data.hideArrowsDesktop || props.isMiniGallery;\n\t\tconst isMobile = accessNested(props, 'client.deviceSize', 'mobile') === 'mobile';\n\t\tconst shareMetaOverrides = data.shareMetaOverrides;\n\t\tconst shouldShowControls = images.length > 1;\n\t\tconst showMobileArrows = shouldShowControls && !isDesktopSize;\n\t\tconst active = props.store?.header?.activeSection === props.id;\n\t\tconst fontStyles = accessNested(props, 'appData.styling.fontVariables', {});\n\t\tconst hasGif = this.state.images.map(image => this.getSrc(image)).find(src => src && src.endsWith('gif'));\n\t\tconst isIOS = accessNested(props, 'client.isIOS', false);\n\t\tconst isSafari = accessNested(props, 'client.isSafari', false);\n\t\tconst iosChromeGif = isIOS && !isSafari && hasGif;\n\t\tconst isSection = accessNested(this.props, ['store', 'appData', 'pages', props.id, 'section']);\n\t\tconst dedicatedPage = pages[props.id] && !isSection;\n\t\tconst hasDownloads = (canDownloadAll || canDownloadSingle) && !iosChromeGif;\n\t\tconst hasExtraActions = hasDownloads || canShare;\n\n\t\tconst transitionDuration = swipeToChange ? 0 : TRANSITION_DURATION;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses({\n\t\t\t\t\ts, container: true,\n\t\t\t\t\tactive: active,\n\t\t\t\t\thasDownloads: hasDownloads,\n\t\t\t\t\tcanShare: canShare,\n\t\t\t\t\tincludeTopArrows: !isDesktopSize && !hideArrowsMobile,\n\t\t\t\t\tisEmbeded: props.isEmbeded,\n\t\t\t\t\tdedicatedPage,\n\t\t\t\t\tminiGallery: props.isMiniGallery\n\t\t\t\t})}\n\t\t\t\tdata-section={props.id}\n\t\t\t\tref={$ref => this.$container = $ref}\n\t\t\t>\n\t\t\t\t{this.renderBgContent()}\n\t\t\t\t<div class={s.inner}>\n\t\t\t\t\t{galleryTitle && <HTML tag=\"h1\" onClickCapture={this.onClick} markdown content={galleryTitle} class={joinClasses(s.galleryTitle, 'h3')} />}\n\t\t\t\t\t{galleryDescription && <HTML tag=\"h2\" onClickCapture={this.onMarkdownClickCapture} markdown content={galleryDescription} class={joinClasses(s.galleryDescription, 'xlarge', isMobile && !hideArrowsMobile && s.withMobileArrows)} />}\n\t\t\t\t\t<div class={s.imageWrapper} key=\"imageWrapper\" id={`${props.id}GalleryImageWrapper`}>\n\t\t\t\t\t\t{shouldShowControls && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass={joinClasses(s.arrows,\n\t\t\t\t\t\t\t\t\tshowMobileArrows && s.mobileArrows,\n\t\t\t\t\t\t\t\t\t!hasDownloads && s.noDownloads,\n\t\t\t\t\t\t\t\t\thideArrowsMobile && s.hideArrowsMobile,\n\t\t\t\t\t\t\t\t\thideArrowsDesktop && s.hideArrowsDesktop\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tkey=\"arrows\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.renderArrow('leftArrow', -1)}\n\t\t\t\t\t\t\t\t{this.renderArrow('rightArrow', 1)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div class={s.contentWrapper} ref={ref => this.contentWrapper = ref}>\n\t\t\t\t\t\t\t{this.renderContent(activeImage, isVideo)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{loading && this.renderImageLoader()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class={s.bottomWrapper} key=\"bottomWrapper\">\n\t\t\t\t\t\t<div class={s.bottom} key=\"bottom\">\n\t\t\t\t\t\t\t{shouldShowControls && this.renderNavDots(images, activeImage.key)}\n\t\t\t\t\t\t\t{activeImage.annotation && (\n\t\t\t\t\t\t\t\t<Transition\n\t\t\t\t\t\t\t\t\tduration={transitionDuration}\n\t\t\t\t\t\t\t\t\tclass={s.annotationTransitionContainer}\n\t\t\t\t\t\t\t\t\tleavingClass={s.annotationTransitionLeaving}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<HTML\n\t\t\t\t\t\t\t\t\t\tclass={joinClasses(s.annotation, fontStyles.galleryAnnotations)}\n\t\t\t\t\t\t\t\t\t\tcontent={activeImage.annotation}\n\t\t\t\t\t\t\t\t\t\tmarkdown\n\t\t\t\t\t\t\t\t\t\tkey={activeImage.annotation}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Transition>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{hasExtraActions && (\n\t\t\t\t\t\t\t\t<div class={s.extraActions}>\n\t\t\t\t\t\t\t\t\t{canShare && this.renderShare(isVideo, shareMetaOverrides)}\n\t\t\t\t\t\t\t\t\t{!iosChromeGif && this.renderDownloadButtons(activeImage, canDownloadAll, canDownloadSingle, customDownloadAll, fontStyles, isVideo)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.renderOverlayedContent()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport Store from 'store/store';\nimport 'store/bolt/header';\nimport { accessNested, joinClasses } from 'utils/utils';\nimport { getPercentageThreshold } from 'utils/visibilityChecks';\nimport { isDualViewEnabled } from 'utils/bolt';\nimport { getIsSinglePageIframed, getIsShowtimesOnlyIframed } from 'utils/bolt/client';\nimport getAppRegions from 'utils/bolt/appRegions';\nimport { smoothScrollTo } from 'utils/smoothScroll';\nimport { navigateInternally } from 'utils/bolt';\nimport getCopyWithParams from 'utils/getCopyWithParams';\n\nimport HTML from 'components/core/html/html';\nimport Button from 'components/bolt/button/button';\nimport Link from 'components/bolt/link/link';\nimport BurgerMenu from 'components/bolt/burgerMenu/burgerMenu';\nimport Share from 'components/bolt/icons/share';\nimport Close from 'components/bolt/icons/close';\nimport ArrowDown from 'components/bolt/icons/arrowDown';\nimport HeaderExpanded from 'components/bolt/header/headerExpanded';\nimport SharePopout from 'components/bolt/header/sharePopout';\n\nimport s from 'components/bolt/header/header.sss';\n\nexport default class Header extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.toggleShare = this.toggleShare.bind(this);\n\t\tthis.openNavMenu = this.openNavMenu.bind(this);\n\t\tthis.showShowtimes = this.showShowtimes.bind(this);\n\t\tthis.showHomeEnt = this.showHomeEnt.bind(this);\n\t\tthis.showCalendarRemind = this.showCalendarRemind.bind(this);\n\t\tthis.triggerBurgerBtn = this.triggerBurgerBtn.bind(this);\n\t\tthis.triggerActionButton = this.triggerActionButton.bind(this);\n\t\tthis.renderExtraActions = this.renderExtraActions.bind(this);\n\t\tthis.toggleRegionSelector = this.toggleRegionSelector.bind(this);\n\t\tthis.getRegionList = this.getRegionList.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst store = Store.get();\n\n\t\tif (store.limitExceeded) {\n\t\t\tStore.on('UPDATE_API_KEY', this.getRegionList);\n\t\t\treturn;\n\t\t}\n\t\tthis.getRegionList();\n\n\t\tconst dualViewEnabled = isDualViewEnabled();\n\t\tconst hasDynamicButton = accessNested(store, 'appData.header.powsterHeader.persistentBtn.path', '') === '@dynamicPriority';\n\t\tif (dualViewEnabled && hasDynamicButton) {\n\t\t\tStore.emit('FILTERS_REFRESH', { forceShowtimesRefresh: true });\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tStore.off('UPDATE_API_KEY', this.getRegionList);\n\t}\n\n\tasync getRegionList() {\n\t\tlet regions = await getAppRegions();\n\t\tif (regions) {\n\t\t\t// Prevent modifications of the original regions list when adding label etc.\n\t\t\tregions = JSON.parse(JSON.stringify(regions));\n\t\t} else {\n\t\t\tregions = {};\n\t\t}\n\n\t\tconst data = this.props.appData?.header?.powsterHeader?.regionSelector;\n\t\tconst extraRegions = data?.extraRegions || {};\n\t\tconst specificRegions = data?.disabledRegions?.toLowerCase()?.split(',')?.map(e => e.trim())?.filter(e => e) || [];\n\t\tconst includeToggle = !!data?.includeRegionsToggle;\n\n\t\tObject.entries(extraRegions).forEach(([countryCode, data]) => {\n\t\t\tregions[countryCode.toLowerCase()] = JSON.parse(JSON.stringify(data));\n\t\t});\n\n\t\tObject.entries(regions).forEach(([key]) => {\n\t\t\tif (includeToggle !== specificRegions.includes(key)) {\n\t\t\t\tdelete regions[key];\n\t\t\t}\n\t\t});\n\n\t\tconst useLanguage = data?.useLanguage;\n\t\tlet lang = this.props?.appData?.meta?.region?.languageFull || this.props?.appData?.meta?.region?.language;\n\t\tif (useLanguage && lang && regions[__REGION__] && !regions[__REGION__].label) {\n\t\t\tregions[__REGION__].label = lang;\n\t\t}\n\n\t\tthis.setState({ regions });\n\t}\n\n\topenNavMenu() {\n\t\tif (!this.state.regions && !Store.get().limitExceeded) {\n\t\t\tthis.getRegionList();\n\t\t}\n\n\t\tStore.emit('OPEN_NAV_MENU');\n\t}\n\n\tshowShowtimes() {\n\t\tStore.emit('SHOWTIMES_SHOW', true);\n\t}\n\n\tshowHomeEnt() {\n\t\tStore.emit('HOMEENT_SHOW', true);\n\t}\n\n\tshowCalendarRemind() {\n\t\tStore.emit('SHOW_CAL_REMIND');\n\t}\n\n\ttoggleRegionSelector() {\n\t\tthis.setState({ regionSelectorShowing: !this.state.regionSelectorShowing });\n\t}\n\n\tgetCurrentHeaderAction() {\n\t\tlet actions = this.props.headerData.actions;\n\t\tlet customBurgerMenu;\n\t\tif (typeof document !== 'undefined') {\n\t\t\tcustomBurgerMenu = accessNested(this.props.appData, 'header.powsterHeader.customBurgerMenu', null);\n\t\t}\n\t\tconst customPath = customBurgerMenu?.path;\n\t\tif (customPath?.startsWith('http')) {\n\t\t\treturn {\n\t\t\t\taction: () => window.open(customPath, '_blank')\n\t\t\t};\n\t\t}\n\n\t\treturn actions[actions.length - 1] || {\n\t\t\ticon: 'burger',\n\t\t\taction: this.openNavMenu\n\t\t};\n\n\t}\n\n\tgetCurrentActionBtnAction(homeEntOpen) {\n\t\tlet hidden = false;\n\t\ttry {\n\t\t\tconst { appData } = this.props;\n\t\t\tconst previewPanelReplacingHomePage = appData?.pages.boltPreviewPanel && !appData?.pages.boltHome;\n\t\t\thidden = !Object.values(appData.pages).find(page => {\n\t\t\t\treturn page && !page.type && !page.section && (page.page === 'home');\n\t\t\t}) && !previewPanelReplacingHomePage;\n\t\t} catch (e) { }\n\n\t\tif (homeEntOpen) {\n\t\t\treturn {\n\t\t\t\ticon: 'close',\n\t\t\t\taction: () => Store.emit('HOMEENT_HIDE', true),\n\t\t\t\thidden\n\t\t\t};\n\t\t}\n\n\t\tconst store = Store.get();\n\n\t\tif (store.widgetFullyExpanded) {\n\t\t\treturn {\n\t\t\t\ticon: 'close',\n\t\t\t\taction: () => Store.emit('EXIT_WIDGET', true),\n\t\t\t\thidden: false\n\t\t\t};\n\t\t}\n\n\t\tif (store.pressKit?.show) {\n\t\t\treturn {\n\t\t\t\ticon: 'close',\n\t\t\t\taction: () => Store.emit('PRESSKIT_HIDE', true),\n\t\t\t\thidden: false\n\t\t\t};\n\t\t}\n\n\t\tconst actions = accessNested(store, 'showtimes.actions', []);\n\t\tlet lastAction = actions[actions.length - 1];\n\t\tif (lastAction) {\n\t\t\treturn lastAction;\n\t\t}\n\t\t// Default action\n\t\treturn {\n\t\t\ticon: 'close',\n\t\t\taction: () => {\n\t\t\t\tStore.emit('SHOWTIMES_HIDE', true);\n\t\t\t\tif (accessNested(Store.get(), 'appData.pages.boltShowtimes.data.groupBookings.isEnabled', false)) {\n\t\t\t\t\thistory?.replaceState(null, '', location?.pathname);\n\t\t\t\t}\n\t\t\t},\n\t\t\thidden\n\t\t};\n\t}\n\n\tshouldHideActionBtn(actionData, showtimes, homeEnt, pressKit) {\n\t\tconst interstitialOpen = this.props.headerData?.interstitialOpen;\n\t\tif (actionData.hidden || interstitialOpen) return true;\n\t\tif (actionData.icon === 'back') return false;\n\t\tconst isSinglePageIframed = getIsSinglePageIframed();\n\t\tif ((homeEnt || showtimes || pressKit) && isSinglePageIframed) return true;\n\t}\n\n\tisPersistentBtnExcluded(btn) {\n\t\tif (!btn.pageExclusions) return false;\n\t\tconst exclusions = btn.pageExclusions.split(',').map(id => id.trim());\n\t\tconst activePage = Store.get().activePage;\n\t\treturn (exclusions.includes(activePage));\n\t}\n\n\tgetSectionSpecificStyle() {\n\t\tconst activeSection = this.props.headerData?.sectionUnderHeader || this.props.headerData?.activeSection;\n\t\tconst customHeaderColorsPerSection = this.props.appData.styling.variables?.customHeaderColorsPerSection;\n\t\tif (!customHeaderColorsPerSection || !customHeaderColorsPerSection[activeSection]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn customHeaderColorsPerSection[activeSection];\n\t}\n\n\tasync triggerBurgerBtn() {\n\t\tlet actionData = this.getCurrentHeaderAction();\n\t\tStore.emit('POP_HEADER_ACTION');\n\t\ttry {\n\t\t\tif (typeof actionData.action === 'function') {\n\t\t\t\tawait actionData.action();\n\t\t\t} else if (typeof actionData.action === 'string') {\n\t\t\t\tStore.emit(actionData.action);\n\t\t\t}\n\t\t} catch (err) {}\n\t}\n\n\tasync triggerActionButton(homeEntVisible) {\n\t\tlet actionData = this.getCurrentActionBtnAction(homeEntVisible);\n\t\tStore.emit('POP_SHOWTIMES_BTN_ACTION');\n\t\ttry {\n\t\t\tif (typeof actionData.action === 'function') {\n\t\t\t\tawait actionData.action();\n\t\t\t} else if (typeof actionData.action === 'string') {\n\t\t\t\tStore.emit(actionData.action);\n\t\t\t}\n\t\t} catch (err) {}\n\t}\n\n\ttrackPersistentButtonClick(path, label) {\n\t\tStore.emit('HEADER_PERSISTENT_BUTTON_CLICK', 'header-button-click', 'header', label, {}, path);\n\t}\n\n\tasync triggerPersistentButton(path, label) {\n\t\tthis.trackPersistentButtonClick(path, label);\n\t\tif (!path) {\n\t\t\treturn;\n\t\t}\n\t\tif (path === 'scrollTop') {\n\t\t\treturn smoothScrollTo(document.getElementById('mainScroll'), 0, 300);\n\t\t}\n\t\tnavigateInternally(path);\n\n\t\t// Keeping this bits of the old code temporarily (replaced with navigateInternally, but some details seem slightly different)\n\t\t//   Feel free to remove if nothing broken by 2023-09-19\n\n\t\t// if (path === 'boltShowtimes') {\n\t\t// \tconst hasShowtimesWidget = Object.values(this.props.appData?.pages).find(page => page.type === 'stickAndScaleWidget' && page.data.type === 'showtimes');\n\t\t// \tif (hasShowtimesWidget) {\n\t\t// \t\treturn Store.emit('CLOSE_AND_NAVIGATE', hasShowtimesWidget.id, '', { instant: false });\n\t\t// \t} else {\n\t\t// \t\treturn Store.emit('SHOWTIMES_SHOW', true);\n\t\t// \t}\n\t\t// } else {\n\t\t// \tconst mainScroll = document.getElementById('mainScroll');\n\t\t// \tconst logo = label.toLowerCase() === 'logo';\n\t\t// \tlet pageData = this.props.appData?.pages?.[this.props.activePage];\n\t\t// \tconst hasHubPage = this.props.appData.pages['boltHubPage'];\n\t\t// \tconst isRootPath = pageData?.path === '/';\n\t\t// \tconst isSection = pageData?.section;\n\t\t// \tif (isRootPath && logo) {\n\t\t// \t\treturn smoothScrollTo(document.getElementById('mainScroll'), 0, 300);\n\t\t// \t}\n\t\t// \tif (!isSection) {\n\t\t// \t\tif (hasHubPage) {\n\t\t// \t\t\tawait animation(mainScroll, logo ? 'right' : 'left', 400);\n\t\t// \t\t}\n\t\t// \t}\n\t\t// \treturn Store.emit('CLOSE_AND_NAVIGATE', path, '', { instant: false });\n\t\t// }\n\t}\n\n\tasync toggleShare() {\n\t\tconst sharePopoutOpen = accessNested(this.props, 'headerData.shareOpen', false);\n\t\tconst shareData = this.props.appData?.header?.powsterHeader?.share || {};\n\t\tconst webShareEnabled = shareData.webShare;\n\t\tconst device = this.props?.client?.device || '';\n\t\tconst isMobile = device !== 'desktop' && device !== 'tablet';\n\n\t\tif (!sharePopoutOpen && webShareEnabled && isMobile && navigator.share) {\n\t\t\tStore.emit('CLICKED_MOBILE_NATIVE_SHARE');\n\t\t\tconst title = accessNested(this.props, 'appData.copy.baseCopy.$META_TITLE', '');\n\t\t\tconst url = window.location.href;\n\t\t\tconst text = getCopyWithParams(this.props.appData?.copy?.baseCopy, shareData.socialCopy || '$SOCIAL_COPY');\n\n\t\t\ttry {\n\t\t\t\tawait navigator.share({ text, title, url });\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log('Share failed:', err.message);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tStore.emit('TOGGLE_SHARE_OPEN');\n\n\t\tif (!sharePopoutOpen) {\n\t\t\tStore.emit('ENABLE_SCROLLING_LOCK');\n\t\t\treturn;\n\t\t}\n\t\tStore.emit('DISABLE_SCROLLING_LOCK');\n\n\t}\n\n\trenderExtraActions() {\n\t\tconst showtimesVisible = accessNested(this.props, 'headerData.showtimesOverlay', false);\n\t\tconst homeEntVisible = accessNested(this.props, 'headerData.homeEntOverlay', false);\n\t\tconst pressKitVisible = accessNested(this.props, 'headerData.pressKitOverlay', false);\n\t\tconst homeEntMerchantOpen = accessNested(this.props, 'headerData.homeEntMerchantOpen', false);\n\t\tlet actionData = this.getCurrentActionBtnAction(homeEntVisible);\n\n\t\tconst pages = accessNested(this.props, 'appData.pages');\n\t\tconst onlyShowtimesAndVideo = Object.keys(pages).every(p => p === 'boltShowtimes' || p === 'boltVideos');\n\t\tconst store = Store.get();\n\t\tconst lastAction = accessNested(store, 'showtimes.actions', []).length > 0;\n\n\t\tconst isDesktopSize = accessNested(this.props, 'client.isDesktopSize');\n\n\t\tconst accessibilityCopy = accessNested(this.props, 'appData.copy.accessibilityCopy', {});\n\n\t\tconst providerInterstitialOpen = accessNested(store, 'showtimes.providerInterstitialOpen', false) || accessNested(store, 'previewPanel.providerInterstitialOpen', false);\n\n\t\tif (!isDesktopSize || (!showtimesVisible && !providerInterstitialOpen && !store.widgetFullyExpanded && !pressKitVisible) && !homeEntVisible || !lastAction && onlyShowtimesAndVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet actionBtnColor = actionData.color || '';\n\n\t\tconst iconComponent = {\n\t\t\tclose: <Close />,\n\t\t\tback: <ArrowDown />\n\t\t};\n\n\t\tconst btnAriaLabel = actionData.icon === 'close' ? accessibilityCopy.$CLOSE_SHOWTIMES_ARIA : actionData.icon === 'back' ? accessibilityCopy.$BACK_BTN_SHOWTIMES_ARIA : '';\n\t\tconst hideActionBtn = this.shouldHideActionBtn(actionData, showtimesVisible, homeEntVisible, pressKitVisible);\n\n\t\tconst isShowtimesOnlyIframed = getIsShowtimesOnlyIframed();\n\t\tconst sonyHeaderEnabled = !isShowtimesOnlyIframed && accessNested(this.props, 'appData.options.sonyFeatures.sonyHeader', false);\n\t\tconst externalBannerOpen = accessNested(store, 'externalCookieBanner.bannerOpen');\n\t\tconst bannerPushDown = externalBannerOpen || (accessNested(store, 'cookies.pushDown', false) && accessNested(store, 'cookies.cookieBannerOpen', false));\n\t\tlet buttonStyle = {};\n\t\tif (isDesktopSize && bannerPushDown) {\n\t\t\tlet cookieHeight = externalBannerOpen ? accessNested(store, 'externalCookieBanner.height') : accessNested(store, 'cookies.height');\n\t\t\tbuttonStyle.left = (((window.innerHeight - cookieHeight - (sonyHeaderEnabled ? 35 : 0)) / 900 * 609) - 20) + 'px';\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={s.outerActionButton} key=\"action-button\" style={buttonStyle}>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\tclass={joinClasses(\n\t\t\t\t\t\ts.actionButton,\n\t\t\t\t\t\ts[actionData.icon],\n\t\t\t\t\t\thideActionBtn && s.hidden,\n\t\t\t\t\t\thomeEntMerchantOpen && s.homeEntMerchantOpen,\n\t\t\t\t\t\thomeEntVisible && s.homeEntBtn,\n\t\t\t\t\t\tpressKitVisible && s.pressKitBtn,\n\t\t\t\t\t\tproviderInterstitialOpen && s.providerInterstitial\n\t\t\t\t\t)}\n\t\t\t\t\ttrigger={() => this.triggerActionButton(homeEntVisible)}\n\t\t\t\t\tstyle={{ backgroundColor: actionBtnColor }}\n\t\t\t\t\tariaLabel={btnAriaLabel}\n\t\t\t\t>\n\t\t\t\t\t{iconComponent[actionData.icon]}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderRegionSelector() {\n\t\tlet regions = this.state.regions;\n\t\tif (!regions) {\n\t\t\treturn;\n\t\t}\n\t\tconst appData = this.props?.appData || {};\n\t\tconst useLanguage = appData?.header?.powsterHeader?.regionSelector?.useLanguage;\n\t\tlet regionSelectorCta = appData?.copy?.baseCopy?.$REGION_SELECTOR_COPY || 'Choose an available region';\n\t\tif (useLanguage) {\n\t\t\tregionSelectorCta = appData?.copy?.baseCopy?.$REGION_SELECTOR_LANG_COPY || 'Choose your language';\n\t\t}\n\t\tconst fontStyles = appData?.styling?.fontVariables || {};\n\t\tconst accessibilityCopy = appData?.copy?.accessibilityCopy || {};\n\n\t\tlet allRegions = Object.keys(regions).filter(region => regions[region] && regions[region].url).sort();\n\t\tif (!allRegions.length || (allRegions.length === 1 && allRegions[0] === __REGION__)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet regionSelectorStyle = {};\n\t\tconst footerHeight = this.props?.footerData?.coveredScreenSize;\n\t\tif (footerHeight) {\n\t\t\tregionSelectorStyle = {\n\t\t\t\tbottom: `${footerHeight}px`\n\t\t\t};\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.regionSelectorOverlay, this.state.regionSelectorShowing && s.showing)} key=\"regionSelectorOverlay\">\n\t\t\t\t<div class={s.backdrop} onClick={this.toggleRegionSelector} />\n\t\t\t\t<div class={s.regionSelector} style={regionSelectorStyle}>\n\t\t\t\t\t<div class={joinClasses(s.cta, fontStyles.regionSelectTitle)}>{regionSelectorCta}</div>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass={s.closeRegionSelector}\n\t\t\t\t\t\ttrigger={this.toggleRegionSelector}\n\t\t\t\t\t\tariaLabel={accessibilityCopy.$REGION_SELECTOR_CLOSE_BTN_ARIA}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Close />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<div class={s.regions}>\n\t\t\t\t\t\t{allRegions.map(region => {\n\t\t\t\t\t\t\tlet data = regions[region];\n\t\t\t\t\t\t\tlet defaultRegionName = region.replace(/_(.+)$/, ' ($1)').toUpperCase();\n\t\t\t\t\t\t\tlet defaultLangName = data.languageFull || data.language;\n\t\t\t\t\t\t\tlet name = useLanguage ? (data.label || defaultLangName || defaultRegionName) : (data.label || defaultRegionName);\n\t\t\t\t\t\t\tif (region === __REGION__) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclass={joinClasses(s.region, s.active)}\n\t\t\t\t\t\t\t\t\t\ttype=\"tag\"\n\t\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t\ttrigger={this.toggleRegionSelector}\n\t\t\t\t\t\t\t\t\t\tariaLabel={accessibilityCopy.$REGION_BTN_CURRENT_REGION_ARIA.replace('<country>', region.toUpperCase())}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tclass={joinClasses(s.region, fontStyles.regionSelectCountryCodes)}\n\t\t\t\t\t\t\t\t\thref={data.url}\n\t\t\t\t\t\t\t\t\tonClick={() => Store.emit('REGION_SELECTOR_CLICKED', region, name)}\n\t\t\t\t\t\t\t\t\tariaLabel={accessibilityCopy.$REGION_BTN_ARIA.replace('<country>', region.toUpperCase())}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tonClick(e) {\n\t\tlet internalLink = e.target.closest('a[href^=\"#$\"]');\n\t\tif (internalLink) {\n\t\t\te.preventDefault();\n\t\t\tlet page = internalLink.getAttribute('href').slice(2).trim();\n\t\t\tlet navOptions = {};\n\t\t\tif (page.includes('/?')) {\n\t\t\t\tlet [pageId, qs] = page.split('/?');\n\t\t\t\tpage = pageId;\n\t\t\t\tnavOptions.queryString = '?' + qs;\n\t\t\t}\n\t\t\tnavigateInternally(page, navOptions);\n\t\t}\n\t}\n\n\trenderPersistentButton() {\n\t\tconst { isCalendarRemindMode, appData, calRemindOpen, headerData } = this.props;\n\t\tconst { showtimesOverlay, homeEntOverlay, pressKitOverlay } = headerData;\n\t\tconst { copy } = appData;\n\t\tconst store = Store.get();\n\t\tconst fontStyles = accessNested(appData, 'styling.fontVariables');\n\t\tconst allButtonStyling = accessNested(appData, 'styling.enableDisableAllButtonStyling.persistentButton');\n\t\tconst showtimes = appData.pages?.boltShowtimes;\n\n\t\tconst persistentButtonOverride = accessNested(appData, 'header.powsterHeader.persistentButton') || {};\n\t\tconst excludeFromSection = this.isPersistentBtnExcluded(persistentButtonOverride);\n\t\tconst previewProviderInterstitialOpen = accessNested(store, 'previewPanel.providerInterstitialOpen', false);\n\t\tconst widgetFullyExpanded = store.widgetFullyExpanded;\n\n\t\tlet buttonData = persistentButtonOverride;\n\t\t// Do not use default empty object\n\t\tif (!buttonData?.path && !buttonData?.label) {\n\t\t\tbuttonData = null;\n\t\t}\n\n\t\tconst calendars = appData.header?.powsterHeader?.calendars;\n\t\tif (!buttonData && isCalendarRemindMode && calendars) {\n\t\t\tconst copyVariable = calendars.btnCopy;\n\t\t\tbuttonData = {\n\t\t\t\tpath: '@calendarreminder',\n\t\t\t\tlabel: copyVariable,\n\t\t\t\tdefaultLabel: 'Save to Calendar',\n\t\t\t\taria: copy.accessibilityCopy?.$CALENDAR_REMINDER_BTN_ARIA,\n\t\t\t};\n\t\t}\n\n\t\tif (!buttonData && showtimes && (!showtimes.ageRestricted || this.props.client?.ofAge !== false)) {\n\t\t\tbuttonData = {\n\t\t\t\tpath: 'boltShowtimes',\n\t\t\t\tlabel: '$FIND_CINEMAS',\n\t\t\t\tdefaultLabel: 'Find Cinemas',\n\t\t\t\taria: copy.accessibilityCopy?.$FIND_CINEMAS_BTN_ARIA,\n\t\t\t};\n\t\t}\n\n\t\tif (!buttonData) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet additionalStyles = '';\n\t\tif (allButtonStyling) {\n\t\t\tadditionalStyles = s.allStyling;\n\t\t}\n\n\n\t\tconst className = joinClasses(fontStyles.headerCta, {\n\t\t\ts, persistentBtn: true,\n\t\t\thide: showtimesOverlay || homeEntOverlay || excludeFromSection || previewProviderInterstitialOpen || widgetFullyExpanded || pressKitOverlay || calRemindOpen\n\t\t},\n\t\tadditionalStyles\n\t\t);\n\n\t\tlet style = '';\n\t\tconst sectionSpecificStyle = this.getSectionSpecificStyle();\n\t\tif (sectionSpecificStyle) {\n\t\t\tconst { persistentCTAHeaderButtonBg, persistentCTAHeaderButtonBgHover, persistentCTAHeaderButtonTxtColor } = sectionSpecificStyle;\n\t\t\t// Have to pass the style as a string to set custom properties until we update to preact 10+\n\t\t\tstyle += [\n\t\t\t\tpersistentCTAHeaderButtonTxtColor && `--color: ${persistentCTAHeaderButtonTxtColor};`,\n\t\t\t\tpersistentCTAHeaderButtonBg && `--background: ${persistentCTAHeaderButtonBg};`,\n\t\t\t\tpersistentCTAHeaderButtonBgHover && `--hover-background: ${persistentCTAHeaderButtonBgHover};`,\n\t\t\t].filter(e => e).join('');\n\t\t}\n\n\t\tconst { path, label, defaultLabel, aria, sameWindow } = buttonData;\n\t\tlet display = copy?.baseCopy?.[label] || label;\n\t\tif (!display || display?.startsWith('$')) {\n\t\t\tdisplay = defaultLabel;\n\t\t}\n\t\tconst content = (\n\t\t\t<HTML\n\t\t\t\tclass={s.persistentBtnLabel}\n\t\t\t\tcontent={display}\n\t\t\t\tmarkdown\n\t\t\t\tonClickCapture={this.onClick}\n\t\t\t/>\n\t\t);\n\n\t\tif (/^(https?:\\/\\/|mailto:)/i.test(path)) {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\tclass={className}\n\t\t\t\t\tstyle={style}\n\t\t\t\t\thref={path}\n\t\t\t\t\ttarget={sameWindow ? '_self' : '_blank'}\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\tonClick={() => this.trackPersistentButtonClick(path, display)}\n\t\t\t\t\tkey=\"persistentButtonLink\"\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tclass={className}\n\t\t\t\tstyle={style}\n\t\t\t\ttrigger={() => this.triggerPersistentButton(path, display)}\n\t\t\t\ttype=\"floating\"\n\t\t\t\tariaLabel={aria}\n\t\t\t\tkey=\"persistentButton\"\n\t\t\t>\n\t\t\t\t{content}\n\t\t\t</Button>\n\t\t);\n\t}\n\n\trenderShare() {\n\t\tif (!accessNested(this.props, 'appData.header.powsterHeader.share')) {\n\t\t\treturn;\n\t\t}\n\t\tconst copy = this.props.appData.copy;\n\t\tconst isDesktopSize = accessNested(this.props, 'client.isDesktopSize');\n\t\tconst headerData = this.props.headerData || {};\n\t\tconst store = Store.get();\n\t\tconst appData = store.appData || {};\n\t\tconst fontStyles = appData.styling?.fontVariables;\n\t\tconst providerInterstitialOpen = accessNested(store, 'showtimes.providerInterstitialOpen');\n\t\tconst isMobile = accessNested(this.props, 'client.device', '') !== 'desktop';\n\t\tconst homeActive = isMobile ? store.activePage === 'boltHome' : (store.homeActivePercentage || 0) > getPercentageThreshold(this.props.offsetTop);\n\t\tconst dualViewEnabled = isDualViewEnabled();\n\t\tconst dualView = dualViewEnabled && (store.showtimes?.show || store.homeEnt?.show);\n\t\tconst sectionSpecificStyle = this.getSectionSpecificStyle();\n\t\tconst shareStyle = {};\n\t\tif (sectionSpecificStyle && !headerData.open) {\n\t\t\tconst { headerShareMovie, headerShareMovieMob } = sectionSpecificStyle;\n\t\t\tshareStyle.color = (headerShareMovieMob && !isDesktopSize) ? headerShareMovieMob : headerShareMovie;\n\t\t}\n\n\t\tconst hideShare = getIsSinglePageIframed() || headerData.showtimesSearchOverlay || (headerData.homeEntMerchantOpen && isDesktopSize) || headerData.interstitialOpen;\n\n\t\treturn [\n\t\t\t<Button\n\t\t\t\tstyle={shareStyle}\n\t\t\t\tclass={joinClasses({\n\t\t\t\t\ts,\n\t\t\t\t\tshareBtn: true,\n\t\t\t\t\tshowtimesShare: headerData.showtimesOverlay && !headerData.open,\n\t\t\t\t\tnavOpen: headerData.open,\n\t\t\t\t\thomeScrolled: !homeActive,\n\t\t\t\t\tproviderInterstitialOpen: providerInterstitialOpen,\n\t\t\t\t\thomeEntShare: headerData.homeEntOverlay,\n\t\t\t\t\tpressKitShare: headerData.pressKitOverlay,\n\t\t\t\t\thide: hideShare,\n\t\t\t\t\tinactive: this.props.calRemindOpen,\n\t\t\t\t\tvideo: headerData.videoOverlayOpen,\n\t\t\t\t\tdualView\n\t\t\t\t})}\n\t\t\t\ttrigger={this.toggleShare}\n\t\t\t\tariaLabel={copy.accessibilityCopy.$OPEN_SHARE_ARIA}\n\t\t\t\tkey=\"toggle-share\"\n\t\t\t>\n\t\t\t\t<span class={joinClasses(s.cta, fontStyles.headerShare)}>{copy.baseCopy.$SHARE}</span>\n\t\t\t\t<Share class={s.share} aria-hidden />\n\t\t\t</Button>,\n\t\t\t<SharePopout\n\t\t\t\tappData={this.props.appData}\n\t\t\t\tshareOpen={headerData.shareOpen}\n\t\t\t\ttoggleSharePop={this.toggleShare}\n\t\t\t\tshareDetails={headerData.shareDetails}\n\t\t\t\tcloseBtnstyle={this.getCurrentHeaderAction().shareBtn}\n\t\t\t\tkey=\"share\"\n\t\t\t/>\n\t\t];\n\t}\n\n\trenderHeaderLogo() {\n\t\tconst headerLogo = this.props?.appData?.header?.powsterHeader?.logo;\n\t\tconst isDesktopSize = this.props?.client?.isDesktopSize;\n\t\tif (!headerLogo || !isDesktopSize) return;\n\n\t\tconst { pageExclusions, pageInclusions, path, sameWindow, src, alt } = headerLogo;\n\n\t\tconst headerLogoExclusions = (pageExclusions || '').split(',')?.map(e => e.trim())?.filter(e => e);\n\t\tconst headerLogoInclusions = (pageInclusions || '').split(',')?.map(e => e.trim())?.filter(e => e);\n\t\tconst activePage = Store.get().activePage;\n\n\t\tlet hideHeaderLogo;\n\t\tif (headerLogoInclusions.length > 0) {\n\t\t\thideHeaderLogo = !headerLogoInclusions.includes(activePage);\n\t\t} else {\n\t\t\thideHeaderLogo = headerLogoExclusions.includes(activePage);\n\t\t}\n\n\t\tconst className = joinClasses(s.headerLogo, hideHeaderLogo && s.hide, !headerLogo.path && s.unclickable);\n\t\tconst content = <img src={src} alt={alt} />;\n\n\t\tif (/^(https?:\\/\\/|mailto:)/i.test(path)) {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\tclass={className}\n\t\t\t\t\thref={path}\n\t\t\t\t\ttarget={sameWindow ? '_self' : '_blank'}\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\tonClick={() => this.trackPersistentButtonClick(path, alt || 'headerLogo')}\n\t\t\t\t\tkey=\"headerLogoLink\"\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tclass={className}\n\t\t\t\ttrigger={e => path && this.triggerPersistentButton(path, 'Logo', sameWindow, e)}\n\t\t\t\tkey=\"headerLogoBtn\"\n\t\t\t>\n\t\t\t\t{content}\n\t\t\t</Button>\n\t\t);\n\t}\n\n\trenderSonyHeader() {\n\t\tconst props = this.props;\n\t\tconst appData = props.appData;\n\t\tif (!appData?.options?.sonyFeatures?.sonyHeader || getIsSinglePageIframed()) {\n\t\t\treturn;\n\t\t}\n\t\tconst sharedMedia = appData?.urls?.roots?.sharedMedia || '';\n\t\tlet sonyPicturesLink = appData?.copy.baseCopy.$SONY_PICTURES_LINK || 'https://www.sonypictures.com/';\n\t\tlet sonyLink = appData?.copy.baseCopy.$SONY_LINK || 'https://www.sony.com/en/';\n\n\t\tconst a11y = appData?.copy.accessibilityCopy;\n\n\t\tlet languageSelector = null;\n\t\tif (__REGION__ === 'ca' || __REGION__ === 'ca_fr') {\n\t\t\tlet currentLanguage = __REGION__ === 'ca_fr' ? 'french' : 'english';\n\t\t\tlet otherUrl = this.state.regions?.[__REGION__ === 'ca_fr' ? 'english' : 'french']?.url;\n\t\t\tif (otherUrl) {\n\t\t\t\tconst one = (lang, nameFull) => {\n\t\t\t\t\tif (lang === currentLanguage) {\n\t\t\t\t\t\treturn <span class={joinClasses(s.language, s.active)}>{nameFull}</span>;\n\t\t\t\t\t}\n\t\t\t\t\treturn <a class={s.language} href={this.state.regions?.[lang]?.url}>{nameFull}</a>;\n\t\t\t\t};\n\t\t\t\tlanguageSelector = (\n\t\t\t\t\t<div class={s.sonyCALanguageSelector}>\n\t\t\t\t\t\t{one('english', 'English')}\n\t\t\t\t\t\t<span class={s.separator}>|</span>\n\t\t\t\t\t\t{one('french', 'Franais')}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={s.sony}\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: props.offsetTop ? `${props.offsetTop - 34}px` : '',\n\t\t\t\t\tzIndex: 9\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class={s.left}>\n\t\t\t\t\t<Link class={!sonyPicturesLink && s.disabled} target=\"_blank\" href={sonyPicturesLink} ariaLabel={a11y?.$SONY_PICTURES_LINK_ARIA_LABEL}>\n\t\t\t\t\t\t{/* Fallback for Safari */}\n\t\t\t\t\t\t<img class={s.sonyPicturesLogo} src={`${sharedMedia}/sonypictures/images/sony-pictures-logo.svg`} alt={a11y?.$SONY_PICTURES_LOGO_ALT} />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.right}>\n\t\t\t\t\t{languageSelector}\n\t\t\t\t\t<Link class={!sonyLink && s.disabled} target=\"_blank\" href={sonyLink} ariaLabel={a11y?.$SONY_LINK_ARIA_LABEL}>\n\t\t\t\t\t\t<img class={s.sonyLogo} src={`${sharedMedia}/sonypictures/images/sony-logo.svg`} alt={a11y?.$SONY_LOGO_ALT} />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender(props) {\n\t\tconst {\n\t\t\tappData,\n\t\t\theaderData,\n\t\t\tisCalendarRemindMode,\n\t\t\tclient,\n\t\t\tsolidBackground,\n\t\t\tdesktopSolidHeader,\n\t\t\tstyle,\n\t\t\toffsetTop,\n\t\t\tcalRemindOpen\n\t\t} = props;\n\t\tconst { copy } = appData;\n\t\tconst {\n\t\t\tshowtimesOverlay,\n\t\t\thomeEntOverlay,\n\t\t\tpressKitOverlay,\n\t\t\thomeEntMerchantOpen,\n\t\t\tactiveSection,\n\t\t\tvideoOverlayOpen,\n\t\t\tshowtimesSearchOverlay,\n\t\t\topen: navOpen,\n\t\t\tshareOpen,\n\t\t\tinterstitialOpen,\n\t\t\thubTextOverlayOpen,\n\t\t} = headerData || {};\n\n\t\tconst store = Store.get();\n\t\tconst isMobile = accessNested(this.props, 'client.device', '') !== 'desktop';\n\t\tconst homeActive = isMobile ? Store.get().activePage === 'boltHome' : accessNested(store, 'homeActivePercentage', 1) > getPercentageThreshold(offsetTop);\n\n\t\tconst locationClassName = videoOverlayOpen ? 'boltVideos' : (activeSection || 'bolt');\n\t\tconst actionData = this.getCurrentHeaderAction();\n\n\t\tconst regionSelector = this.renderRegionSelector();\n\t\tconst regionSelectorEnabled = typeof accessNested(appData, 'header.powsterHeader.regionSelector') !== 'undefined';\n\t\t// Should be set at studio level\n\t\tconst { regionSelectorShowing } = this.state;\n\n\t\tconst fontStyles = accessNested(this.props, 'appData.styling.fontVariables');\n\n\t\tconst oneSheetOverlay = accessNested(store, 'synopsis.onesheetExpanded');\n\t\t// TODO: let trailerOverlay component itself handle hiding the burger menu if needed to better match the behaviour\n\t\tconst trailerOverlayOpen = store.trailerOverlay?.overlayOpen && store.trailerOverlay?.data?.video;\n\n\t\t// const headerLogo = accessNested(appData, 'header.powsterHeader.logo', false);\n\t\t// const headerLogoExclusions = (headerLogo?.pageExclusions || '').split(',')?.map(e => e.trim())?.filter(e => e);\n\t\t// const hideHeaderLogo = headerLogoExclusions.includes(store.activePage);\n\t\tconst hideBurgerMenu = accessNested(Store.get(), 'appData.options.disableBurgerMenu', false);\n\t\tconst isDesktopSize = accessNested(this.props, 'client.isDesktopSize');\n\n\n\t\tlet containerStyle = {};\n\t\tif (offsetTop) {\n\t\t\tcontainerStyle.position = 'fixed';\n\t\t\tcontainerStyle.top = offsetTop + 'px';\n\t\t\tcontainerStyle.zIndex = 9;\n\t\t}\n\n\t\tlet sonyHeader = this.renderSonyHeader();\n\n\t\tif (!accessNested(this.props, 'appData.header.powsterHeader')) {\n\t\t\treturn sonyHeader;\n\t\t}\n\n\t\tlet burgerMenuAriaLabel;\n\n\t\t// Should probably set the Aria label when setting the action (when calling SET_HEADER_ACTION)\n\t\tif (actionData.icon === 'burger') {\n\t\t\tburgerMenuAriaLabel = copy.accessibilityCopy.$OPEN_NAV_ARIA;\n\t\t} else if (actionData.tag === 'closeNavMenu') {\n\t\t\tburgerMenuAriaLabel = copy.accessibilityCopy.$CLOSE_NAV_ARIA;\n\t\t} else if (actionData.tag === 'closeOnesheetOverlay') {\n\t\t\tburgerMenuAriaLabel = copy.accessibilityCopy.$CLOSE_ONESHEET_ARIA;\n\t\t} else if (actionData.tag === 'closeCalRemind') {\n\t\t\tburgerMenuAriaLabel = copy.accessibilityCopy.$CALENDAR_REMINDER_CLOSE_ARIA;\n\t\t} else if (actionData.tag === 'closeVideoOverlay') {\n\t\t\tburgerMenuAriaLabel = copy.accessibilityCopy.$CLOSE_VIDEOS_ARIA;\n\t\t} else if (actionData.icon === 'back') {\n\t\t\tburgerMenuAriaLabel = copy.accessibilityCopy.$BACK_BTN_SHOWTIMES_ARIA;\n\t\t}\n\n\t\tconst navDisabled = !this.props?.appData?.header?.powsterHeader?.nav;\n\t\tconst isSinglePageIframed = getIsSinglePageIframed();\n\t\tconst menuText = copy.baseCopy.$NAVIGATION_LABEL;\n\t\tconst showMenuText = menuText && !showtimesOverlay && !homeEntOverlay && !videoOverlayOpen && !navDisabled;\n\t\tconst providerInterstitialOpen = accessNested(store, 'showtimes.providerInterstitialOpen', false) || accessNested(store, 'previewPanel.providerInterstitialOpen', false);\n\n\t\tconst sectionSpecificStyle = this.getSectionSpecificStyle();\n\t\tconst navLabelStyle = {};\n\t\tif (sectionSpecificStyle) {\n\t\t\tconst { headerNavLabel } = sectionSpecificStyle;\n\t\t\tnavLabelStyle.color = headerNavLabel;\n\t\t}\n\n\t\tconst burgerStyle = {};\n\t\tif (sectionSpecificStyle && !headerData.open) {\n\t\t\tconst { headerNavIconOpen, headerNavIconOpenMob } = sectionSpecificStyle;\n\t\t\tburgerStyle.background = (headerNavIconOpenMob && !isDesktopSize) ? headerNavIconOpenMob : headerNavIconOpen;\n\t\t}\n\n\t\tconst isBurgerIcon = !actionData.icon || actionData.icon === 'burger';\n\t\tconst customBurgerMenu = accessNested(store, 'appData.header.powsterHeader.customBurgerMenu', null);\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses(`header-${store.activePage}`, navOpen && 'navOpen', {\n\t\t\t\t\ts,\n\t\t\t\t\theaderContainer: true,\n\t\t\t\t\thomeEntMerchantOpen\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{sonyHeader}\n\t\t\t\t<div\n\t\t\t\t\tclass={\n\t\t\t\t\t\tjoinClasses({\n\t\t\t\t\t\t\ts,\n\t\t\t\t\t\t\tcontainer: true,\n\t\t\t\t\t\t\tshowtimesSearchOverlay,\n\t\t\t\t\t\t\tsolidBackground,\n\t\t\t\t\t\t\tdesktopSolidHeader,\n\t\t\t\t\t\t\thubTextOverlayOpen,\n\t\t\t\t\t\t}, s[`activeSection--${locationClassName}`])\n\t\t\t\t\t}\n\t\t\t\t\tstyle={containerStyle}\n\t\t\t\t\tkey=\"container\"\n\t\t\t\t\tid=\"header\"\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass={joinClasses(\n\t\t\t\t\t\t\ts.burgerMenuBtn,\n\t\t\t\t\t\t\t(shareOpen || regionSelectorShowing || navDisabled || providerInterstitialOpen || hideBurgerMenu && isBurgerIcon) && s.hide,\n\t\t\t\t\t\t\tisSinglePageIframed && s.disabled\n\t\t\t\t\t\t)}\n\t\t\t\t\t\ttrigger={this.triggerBurgerBtn}\n\t\t\t\t\t\tariaLabel={burgerMenuAriaLabel}\n\t\t\t\t\t\tkey=\"burgerButton\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BurgerMenu\n\t\t\t\t\t\t\ttype={actionData.icon || 'burger'}\n\t\t\t\t\t\t\tdark={actionData.dark}\n\t\t\t\t\t\t\tstyle={actionData.style}\n\t\t\t\t\t\t\thidden={interstitialOpen}\n\t\t\t\t\t\t\tlineStyle={burgerStyle}\n\t\t\t\t\t\t\tshowtimesOverlayOpen={showtimesOverlay}\n\t\t\t\t\t\t\thomeEntOverlayOpen={homeEntOverlay}\n\t\t\t\t\t\t\tpressKitOverlayOpen={pressKitOverlay}\n\t\t\t\t\t\t\tisSinglePageIframed={isSinglePageIframed}\n\t\t\t\t\t\t\thomeScrolled={!homeActive}\n\t\t\t\t\t\t\tnavOpen={navOpen}\n\t\t\t\t\t\t\tshowtimesSearchOverlay={showtimesSearchOverlay}\n\t\t\t\t\t\t\tvideoOverlayOpen={videoOverlayOpen}\n\t\t\t\t\t\t\toneSheetOverlayOpen={oneSheetOverlay}\n\t\t\t\t\t\t\ttrailerOverlayOpen={trailerOverlayOpen}\n\t\t\t\t\t\t\tcalendarRemindOpen={calRemindOpen}\n\t\t\t\t\t\t\twidgetFullyExpanded={store.widgetFullyExpanded}\n\t\t\t\t\t\t\tcustomBurgerMenu={customBurgerMenu}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Button>\n\t\t\t\t\t{this.renderHeaderLogo()}\n\t\t\t\t\t{!!showMenuText && (\n\t\t\t\t\t\t<span class={joinClasses(s.menuText, fontStyles.headerShare, { s, homeScrolled: !homeActive })} style={navLabelStyle} onClick={this.triggerBurgerBtn}>\n\t\t\t\t\t\t\t{menuText}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t{this.renderExtraActions()}\n\t\t\t\t\t{this.renderPersistentButton()}\n\t\t\t\t\t{this.renderShare()}\n\t\t\t\t\t<HeaderExpanded\n\t\t\t\t\t\tappData={appData}\n\t\t\t\t\t\tactivePage={props.activePage}\n\t\t\t\t\t\theaderData={headerData}\n\t\t\t\t\t\tnavOpen={navOpen}\n\t\t\t\t\t\tclient={client}\n\t\t\t\t\t\tisCalendarRemindMode={isCalendarRemindMode}\n\t\t\t\t\t\tshowRegionSelector={regionSelector && regionSelectorEnabled}\n\t\t\t\t\t\tregionSelectorClick={this.toggleRegionSelector}\n\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\tkey=\"expand\"\n\t\t\t\t\t/>\n\t\t\t\t\t{regionSelector}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\n\nimport { getRelativePageUrl, getMainPage, getValueForClientSize, isVideosPage } from 'utils/bolt';\nimport { filterUnusedPages } from 'utils/bolt/header';\nimport { useDynamicAssetFolder } from 'utils/assets';\nimport parseQueryString from 'utils/parseQueryString';\nimport { sortObjectByOrder, accessNested, joinClasses } from 'utils/utils';\nimport Store from 'store/store';\nimport HTML from 'components/core/html/html';\n\nimport Socials from 'components/bolt/socials/socials';\nimport Link from 'components/bolt/link/link';\nimport s from 'components/bolt/header/headerExpanded.sss';\nimport * as webp from 'utils/bolt/webp';\nexport default class HeaderExpanded extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.closeAndNavigate = this.closeAndNavigate.bind(this);\n\t\tthis.getFallbackFormat = this.getFallbackFormat.bind(this);\n\t\tthis.updateLinks(props);\n\t\tthis.isSplitHeader = !!this.featuredLinks.length;\n\n\t\tthis.updateLinks = this.updateLinks.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tStore.on('REFRESH_HEADER_LINKS', this.updateLinks);\n\t}\n\tcomponentWillUnmount() {\n\t\tStore.off('REFRESH_HEADER_LINKS', this.updateLinks);\n\t}\n\n\tupdateLinks(props = this.props) {\n\t\tthis.navItems = sortObjectByOrder(accessNested(props, 'appData.header.powsterHeader.nav'));\n\t\tthis.filteredNavItems = filterUnusedPages(props, this.navItems);\n\t\tthis.standardLinks = this.filteredNavItems.filter(item => item && item.linkType === 'primary');\n\t\tthis.featuredLinks = this.navItems.filter(item => item && item.linkType === 'secondary');\n\t}\n\n\ttrackNavLink(linkName, id) {\n\t\tStore.emit('TRACK_NAV_LINK_CLICK', linkName, id);\n\t}\n\n\tgetFallbackFormat() {\n\t\treturn accessNested(this.props, 'appData.header.alternativeImageFormat', 'png');\n\t}\n\n\tcloseAndNavigate(id, e, linkName, queryString) {\n\t\t// TODO: Store.emit('CLOSE_AND_NAVIGATE', id, e);\n\n\t\tif (e && e.preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tthis.trackNavLink(linkName, id);\n\n\t\tStore.emit('CLOSE_NAV_MENU');\n\t\tconst groupBookingsEnabled = accessNested(this.props, 'appData.pages.boltShowtimes.data.groupBookings.isEnabled', false);\n\t\t// group bookings hack to clear ?booknow and ?groupbookings on other header clicks\n\t\tif (groupBookingsEnabled) {\n\t\t\tif (Store.get().activePage === 'boltShowtimes' && queryString) {\n\t\t\t\t// if query string, replace with querystring appended to location.pathname\n\t\t\t\thistory.replaceState(null, '', location.pathname + queryString);\n\t\t\t\tif (queryString === '?groupbookings') {\n\t\t\t\t\tStore.get().set({ groupBookingsShowtimes: true });\n\t\t\t\t\tStore.emit('UPDATE_SHOWTIMES_ACTIVE_TAB', 'Group Bookings', true);\n\t\t\t\t}\n\t\t\t\tif (queryString === '?booknow') {\n\t\t\t\t\tStore.emit('UPDATE_SHOWTIMES_ACTIVE_TAB', 'Book Now', true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (Store.get().activePage === 'boltShowtimes') {\n\t\t\t\t\tif (Store.get().groupBookingsShowtimes === true) {\n\t\t\t\t\t\thistory.replaceState(null, '', location.pathname + '?groupbookings');\n\t\t\t\t\t} else if (Store.get().groupBookingsShowtimes === false) {\n\t\t\t\t\t\thistory.replaceState(null, '', location.pathname + '?booknow');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// if no query string, keep old hack\n\t\t\t\thistory.replaceState(null, '', location.pathname);\n\t\t\t}\n\t\t}\n\n\t\tif (id.startsWith('@')) {\n\t\t\tStore.emit('OPEN_RESERVED_VARIABLE_LINK', id);\n\t\t}\n\n\t\tconst [pageId, hash] = id.split('#');\n\t\tconst page = accessNested(this.props, ['appData', 'pages', pageId]);\n\t\tif (!page) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!page.section && !page.type && id !== 'boltHome') {\n\t\t\tStore.emit('CLOSE_ALL_OVERLAYS');\n\t\t\t// Fandango Deeplink campaign query\n\t\t\tlet qs = parseQueryString();\n\t\t\tif (qs?.cmp) {\n\t\t\t\tStore.emit('SET_ACTIVE_PAGE', pageId, `?cmp=${qs.cmp}`, { hashInPage: hash });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tStore.emit('SET_ACTIVE_PAGE', pageId, null, { hashInPage: hash });\n\t\t\treturn;\n\t\t}\n\n\t\tif (page.type === 'showtimes') {\n\t\t\tif (this.props.isCalendarRemindMode) {\n\t\t\t\tStore.emit('SET_ACTIVE_PAGE', getMainPage());\n\t\t\t\tStore.emit('SHOW_CAL_REMIND');\n\t\t\t} else {\n\t\t\t\tStore.emit('SHOWTIMES_SHOW', undefined, queryString, id);\n\t\t\t}\n\t\t} else if (page.type === 'homeEnt') {\n\t\t\tStore.emit('HOMEENT_SHOW', undefined, undefined, id);\n\t\t} else if (page.type === 'pressKit') {\n\t\t\tStore.emit('PRESSKIT_SHOW', undefined, undefined, id);\n\t\t} else if (isVideosPage(id)) {\n\t\t\tStore.emit('OPEN_VIDEO_OVERLAY', id);\n\t\t} else {\n\t\t\tStore.emit('CLOSE_ALL_OVERLAYS');\n\t\t\tStore.emit('SET_ACTIVE_PAGE', id);\n\t\t\tStore.emit('CHANGE_ACTIVE_SECTION', id, { instant: true, mainPage: getMainPage() });\n\t\t\tif (page.type === 'stickAndScaleWidget') {\n\t\t\t\tStore.emit('EXPAND_WIDGET');\n\t\t\t}\n\t\t}\n\t}\n\n\tgetLinkSizing(isLinkOut) {\n\t\tif (isLinkOut) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.isSplitHeader ? s.h4 : s.h3;\n\t}\n\n\trenderLink(element, isFeatured) {\n\t\t// const isInternalLink = /^bolt/.test(element.path);\n\t\tconst [pageId, hash] = element.path?.split('#') || [];\n\t\tconst page = accessNested(this.props, ['appData', 'pages', pageId]);\n\t\tconst calendarEnabled = !!accessNested(this.props, 'appData.header.powsterHeader.calendars', null);\n\t\tconst isInternalLink = !!page || element.path?.startsWith('@');\n\t\tconst sizing = this.getLinkSizing(!isInternalLink);\n\n\t\tconst activePage = this.props.activePage || 'boltHome';\n\t\tconst activeSection = this.props.headerData.activeSection || 'boltHome';\n\t\tlet active = activePage === pageId || (activePage === 'boltHome' && activeSection === element.path);\n\t\tconst baseCopy = accessNested(this.props, 'appData.copy.baseCopy', {});\n\t\tlet content = baseCopy[element.name] || element.name || element.id;\n\n\t\t// - start  - groupBookings same page 2 header items active 'hack'\n\t\tconst groupBookingsEnabled = accessNested(this.props, 'appData.pages.boltShowtimes.data.groupBookings.isEnabled', false);\n\t\tif (groupBookingsEnabled && activePage == pageId && element.path === 'boltShowtimes' && element?.queryString === '?groupbookings') {\n\t\t\tactive = Store.get().groupBookingsShowtimes === true;\n\t\t}\n\t\tif (groupBookingsEnabled && activePage == pageId && element.path === 'boltShowtimes' && element?.queryString === '?booknow') {\n\t\t\tactive = Store.get().groupBookingsShowtimes === false;\n\t\t}\n\t\t//- end -\n\n\t\tif (page?.ageRestricted && this.props.client?.ofAge === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (element.path === 'boltShowtimes' && this.props.isCalendarRemindMode) {\n\t\t\tif (!calendarEnabled) return;\n\t\t\tcontent = baseCopy.$MENU_CALENDAR_REMINDER || 'Reminder';\n\t\t}\n\n\t\tlet attributes = {};\n\t\tif (!element.disabled) {\n\t\t\tif (!isInternalLink) {\n\t\t\t\tattributes.href = element.path;\n\t\t\t\tattributes.target = element.sameWindow ? '_self' : '_blank';\n\t\t\t\tattributes.rel = 'noopener noreferrer';\n\t\t\t\tattributes.onClick = () => this.trackNavLink(content);\n\t\t\t} else {\n\t\t\t\tattributes.href = getRelativePageUrl(pageId, '', hash) || '#';\n\t\t\t\tattributes.onClick = element.onClick || (e => this.closeAndNavigate(element.path, e, content, element.queryString));\n\t\t\t}\n\t\t} else {\n\t\t\tattributes['aria-disabled'] = true;\n\t\t}\n\n\t\tconst fontStyles = accessNested(this.props, 'appData.styling.fontVariables');\n\t\tconst font = isFeatured ? fontStyles.navSecondaryLink : fontStyles.navPrimaryLink;\n\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tkey={element.id || element.link || element.name}\n\t\t\t\tclass={joinClasses(s.link, active && s.active, sizing, font)}\n\t\t\t\tariaLabel={element.name}\n\t\t\t\t{...attributes}\n\t\t\t>\n\t\t\t\t<HTML class={s.content} content={content} markdown />\n\t\t\t\t<HTML class={s.hidden} content={content} aria-hidden markdown />\n\t\t\t</Link>\n\t\t);\n\t}\n\n\trenderRegionSelector() {\n\t\tconst regionData = accessNested(this.props, 'appData.meta.region') || {};\n\t\tconst regionSelectorCustomisation = accessNested(this.props, 'appData.header.powsterHeader.regionSelector.extraRegions', {});\n\t\tconst currentRegionNameOverride = regionSelectorCustomisation[regionData.slug] || {};\n\t\tlet currentRegionLabel = currentRegionNameOverride.label || regionData.slug;\n\t\tconst useLanguage = this.props?.appData?.header?.powsterHeader?.regionSelector?.useLanguage;\n\t\tif (useLanguage) {\n\t\t\tcurrentRegionLabel = currentRegionNameOverride.label || regionData.languageFull || regionData.language;\n\t\t}\n\t\tconst accessibilityCopy = accessNested(this.props.appData, 'copy.accessibilityCopy');\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclass={s.regionSelectorButton}\n\t\t\t\tonClick={this.props.regionSelectorClick}\n\t\t\t\tkey=\"regionSelectorButton\"\n\t\t\t\tariaLabel={accessibilityCopy.$REGION_SELECTOR_BTN_ARIA}\n\t\t\t>\n\t\t\t\t<div class={s.icon} />\n\t\t\t\t<span class={s.name}>{currentRegionLabel}</span>\n\t\t\t</button>\n\t\t);\n\t}\n\n\trenderSocial() {\n\t\tconst socials = accessNested(this.props, 'appData.header.powsterHeader.follow');\n\t\tif (!socials) {\n\t\t\treturn;\n\t\t}\n\t\treturn (\n\t\t\t<Socials\n\t\t\t\tclass={s.socials}\n\t\t\t\tsocials={socials}\n\t\t\t\tnavOpen={this.props.navOpen}\n\t\t\t\tkey=\"socials\"\n\t\t\t/>\n\t\t);\n\t}\n\n\tgetTTSize(tt) {\n\t\tif (tt?.titleTreatmentSize?.desktop || tt?.titleTreatmentSize?.tablet || tt?.titleTreatmentSize?.mobile) {\n\t\t\treturn getValueForClientSize(tt.titleTreatmentSize);\n\t\t}\n\t}\n\n\trender({ navOpen, showRegionSelector }) {\n\t\tconst store = Store.get();\n\t\tlet ttStyle;\n\t\tlet { pushDown, cookieBannerOpen, height: cookieHeight } = store.cookies || {};\n\t\tconst externalBannerOpen = accessNested(store, 'externalCookieBanner.bannerOpen');\n\t\tconst bannerPushDown = externalBannerOpen || (pushDown && cookieBannerOpen);\n\t\tconst sonyHeaderEnabled = accessNested(this.props, 'appData.options.sonyFeatures.sonyHeader', false);\n\t\tconst bannerPushDownMobile = bannerPushDown && !accessNested(store, 'client.isDesktopSize', false);\n\t\tconst copy = accessNested(this.props, 'appData.copy');\n\t\tconst tt = accessNested(this.props, 'appData.header.powsterHeader.tt', null);\n\t\tconst ttSize = this.getTTSize(tt);\n\t\tconst isSplitHeader = this.isSplitHeader;\n\t\tconst deviceSize = accessNested(this.props, 'client.deviceSize');\n\t\tlet deviceBreakpoint = deviceSize;\n\t\tif (deviceSize !== 'mobile' && deviceSize !== 'tablet') {\n\t\t\tdeviceBreakpoint = 'desktop';\n\t\t}\n\t\tconst fallbackFormat = this.getFallbackFormat();\n\n\t\tif (bannerPushDown) {\n\t\t\tcookieHeight = accessNested(store, 'externalCookieBanner.height');\n\t\t}\n\n\t\tif (ttSize) {\n\t\t\tttStyle = {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tmaxWidth: ttSize.maxWidth,\n\t\t\t\tmaxHeight: ttSize.maxHeight\n\t\t\t};\n\t\t}\n\n\t\tlet links = [\n\t\t\t<div class={s.standard} key=\"standard\">\n\t\t\t\t{tt && deviceBreakpoint in tt && (\n\t\t\t\t\t<webp.Picture\n\t\t\t\t\t\tstyle={ttStyle}\n\t\t\t\t\t\tclass={s.tt}\n\t\t\t\t\t\tsrc={useDynamicAssetFolder(getValueForClientSize(tt))}\n\t\t\t\t\t\talt={copy.accessibilityCopy[tt.alt] || tt.alt}\n\t\t\t\t\t\tfallbackFormat={fallbackFormat}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{this.standardLinks.map(link => this.renderLink(link, false))}\n\t\t\t</div>\n\t\t];\n\n\t\tif (isSplitHeader) {\n\t\t\tlinks.push(\n\t\t\t\t<div class={s.separator} key=\"separator\" />,\n\t\t\t\t<div class={s.featured} key=\"featured\">\n\t\t\t\t\t{this.featuredLinks.map(link => this.renderLink(link, true))}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet paddingTop = sonyHeaderEnabled ? 34 : 0;\n\t\tif (bannerPushDown) {\n\t\t\tpaddingTop += cookieHeight;\n\t\t}\n\n\t\tconst totalLinks = this.standardLinks.length + this.featuredLinks.length;\n\n\t\tlet isDesktop = true;\n\t\tif (deviceSize !== 'desktop' && deviceSize !== 'largeDesktop') {\n\t\t\tisDesktop = false;\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={joinClasses({\n\t\t\t\t\ts,\n\t\t\t\t\tcontainer: true,\n\t\t\t\t\topen: navOpen,\n\t\t\t\t\tsplitHeader: isSplitHeader,\n\t\t\t\t\thasRegionSelector: showRegionSelector,\n\t\t\t\t\thasManyLinks: totalLinks >= 8\n\t\t\t\t})}\n\t\t\t\tstyle={(navOpen && paddingTop) && { top: `${paddingTop}px`, height: `calc(var(--windowHeight) - ${paddingTop}px)` }}\n\t\t\t\tbody-scroll-lock-ignore={bannerPushDownMobile}\n\t\t\t\tinert={!navOpen}\n\t\t\t>\n\t\t\t\t<div class={s.linksContainer} style={{ height: isSplitHeader && !isDesktop ? 'auto' : bannerPushDownMobile ? 'var(--windowHeight)' : '100%' }}>\n\t\t\t\t\t<div class={s.links} role=\"navigation\">\n\t\t\t\t\t\t{links}\n\t\t\t\t\t\t{this.renderSocial()}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.renderRegionSelector()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n","import { h, Component } from 'preact';\nimport copy from 'copy-to-clipboard';\n\nimport Store from 'store/store';\nimport { getCopy } from 'utils/copy';\nimport { accessNested, joinClasses, joinPaths, sortObjectByOrder } from 'utils/utils';\nimport { getPagePath } from 'utils/bolt';\nimport getCopyWithParams from 'utils/getCopyWithParams';\n\nimport Button from 'components/bolt/button/button';\nimport Link from 'components/bolt/link/link';\nimport Close from 'components/bolt/icons/close';\nimport Facebook from 'components/bolt/icons/facebook';\nimport Whatsapp from 'components/bolt/icons/whatsapp';\nimport Twitter from 'components/bolt/icons/twitter';\nimport Pinterest from 'components/bolt/icons/pinterest';\nimport Tumblr from 'components/bolt/icons/tumblr';\nimport Viber from 'components/bolt/icons/viber';\nimport Mail from 'components/bolt/icons/mail';\nimport Telegram from 'components/bolt/icons/telegram';\nimport Copy from 'components/bolt/icons/copy';\nimport Check from 'components/bolt/icons/check';\n\nimport s from 'components/bolt/header/sharePopout.sss';\n\n\nconst icons = {\n\tfacebook: <Facebook class={s.facebook} />,\n\twhatsapp: <Whatsapp class={s.whatsapp} />,\n\ttwitter: <Twitter class={s.twitter} />,\n\tpinterest: <Pinterest class={s.pinterest} />,\n\temail: <Mail class={s.mail} />,\n\ttumblr: <Tumblr class={s.tumblr} />,\n\tviber: <Viber class={s.viber} />,\n\ttelegram: <Telegram class={s.telegram} />\n};\n\nexport default class SharePopout extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcopied: false\n\t\t};\n\n\t\tconst supportedTypes = ['email', 'facebook', 'pinterest', 'telegram', 'tumblr', 'twitter', 'viber', 'whatsapp'];\n\n\t\tconst data = accessNested(props, 'appData.header.powsterHeader.share') || {};\n\t\tthis.shareItems = sortObjectByOrder(data).filter(type => supportedTypes.includes(type.id));\n\t\tthis.shareImage = data.shareImage;\n\t\tthis.shareCopy = getCopyWithParams(props.appData?.copy?.baseCopy, data.socialCopy || '$SOCIAL_COPY');\n\t\tthis.shareUrl = data.shareUrl && data.shareUrl.startsWith('$') ? getCopy(data.shareUrl, {}, '', null, 'baseCopy') : data.shareUrl;\n\t\tif (!this.shareUrl) {\n\t\t\tthis.shareUrl = accessNested(this.props, 'appData.meta.url', null);\n\t\t}\n\t\tif (typeof window !== 'undefined' && __IS_LOCAL__) {\n\t\t\tlet relativeUrl = location.origin + location.pathname;\n\t\t\tlet currentPageData = props.appData?.pages?.[Store.get().activePage];\n\t\t\tif (currentPageData) {\n\t\t\t\t// Should get that from utils\n\t\t\t\trelativeUrl += getPagePath(currentPageData).path.slice(1).split('/').slice(1).fill('../').join('');\n\t\t\t}\n\t\t\tthis.shareUrl = new URL(relativeUrl, location.href).href.replace(/\\/$/, '');\n\t\t}\n\n\t\tthis.getSharingLink = this.getSharingLink.bind(this);\n\t\tthis.renderIcon = this.renderIcon.bind(this);\n\t\tthis.copyToClipboard = this.copyToClipboard.bind(this);\n\t\tthis.handleClose = this.handleClose.bind(this);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.clearTimeout(this.timeout);\n\t}\n\n\tgetShareURL() {\n\t\tconst useMetaUrl = accessNested(this.props, 'appData.header.powsterHeader.share.useMetaUrl', false);\n\t\tif (useMetaUrl) {\n\t\t\treturn this.props?.appData?.meta?.url;\n\t\t}\n\n\t\tif (this.props.shareUrl) {\n\t\t\treturn this.props.shareUrl;\n\t\t}\n\t\treturn joinPaths(this.shareUrl, this.props.shareDetails);\n\t}\n\n\tremoveLocationQueryParameter(str) {\n\t\tif (!str) return str;\n\t\ttry {\n\t\t\tlet url = new URL(str, location.href);\n\t\t\turl.searchParams.delete('location');\n\t\t\turl.searchParams.delete('lat');\n\t\t\turl.searchParams.delete('lon');\n\t\t\treturn url.toString();\n\t\t} catch (e) {\n\t\t\treturn str;\n\t\t}\n\t}\n\n\tgetSharingLink(type) {\n\t\tlet safeString = (str) => JSON.stringify((str || '') + '').slice(1, -1);\n\t\tconst shareData = accessNested(this.props, 'appData.header.powsterHeader.share') || {};\n\n\t\tlet url = this.getShareURL(type);\n\t\turl = this.removeLocationQueryParameter(url);\n\t\turl = encodeURIComponent(url);\n\n\t\tconst URLS = {\n\t\t\tfacebook: accessNested(shareData, 'facebook.shareUrl', `https://www.facebook.com/sharer/sharer.php?u=${url}`),\n\t\t\ttwitter: accessNested(shareData, 'twitter.shareUrl', `https://twitter.com/intent/tweet?text=${this.shareCopy}&url='${url}'`),\n\t\t\twhatsapp: accessNested(shareData, 'whatsapp.shareUrl', `whatsapp://send?text=${this.shareCopy} ${url}`),\n\t\t\tpinterest: accessNested(shareData, 'pinterest.shareUrl', `https://www.pinterest.co.uk/pin/create/button/?url=${url}&media=${this.props.shareImage || this.shareImage}&description=${this.shareCopy}`),\n\t\t\temail: accessNested(shareData, 'email.shareUrl', `mailto:?subject=${this.shareCopy}&body=${url}`),\n\t\t\ttumblr: accessNested(shareData, 'tumblr.shareUrl', `http://www.tumblr.com/share/link?url=${url}/&description=${this.shareCopy}`),\n\t\t\tviber: accessNested(shareData, 'viber.shareUrl', `viber://forward?text=${url} ${this.shareCopy}`),\n\t\t\ttelegram: accessNested(shareData, 'telegram.shareUrl', `https://telegram.me/share/url?url=${url}&text=${this.shareCopy}`)\n\t\t};\n\t\t// if %SOCIAL_COPY% has been used and replaced, but %SOCIAL_COPY% itself contains %MOVIE_NAME%\n\t\t// moved %SOCIAL_COPY and %SHARE_URL% from expandAppData to here to fix encodeURIComponent issue on Thundr builds\n\n\t\treturn URLS[type]\n\t\t\t.replace(/%MOVIE_NAME%/g, safeString(this.props.appData.meta.title.locale || this.props.appData.meta.title.en))\n\t\t\t.replace(/%SOCIAL_COPY%/g, encodeURIComponent(this.shareCopy))\n\t\t\t.replace(/%SHARE_URL%/g, url)\n\t\t\t.replace(/%HEADER_SHARE_IMAGE%/g, safeString(this.props.shareImage || this.shareImage))\n\t\t\t.replace(/%SHARE_IMAGE%/g, safeString(this.props.shareImage || this.shareImage));\n\t}\n\n\tcopyToClipboard() {\n\t\tlet url = this.getShareURL('copy');\n\n\t\tcopy(url);\n\n\t\tthis.setState({ copied: true });\n\n\t\tStore.emit('CLICKED_SHARE', { label: 'copy', activePage: Store.get().activePage });\n\n\t\tthis.copyTimeout = window.setTimeout(() => {\n\t\t\tthis.setState({ copied: false });\n\t\t}, 1000);\n\t}\n\n\trenderIcon(type) {\n\t\treturn icons[type];\n\t}\n\n\thandleClose() {\n\t\tthis.setState({ copied: false });\n\t\tthis.props.toggleSharePop();\n\t}\n\n\trender(props, { copied }) {\n\t\tconst { shareOpen, closeBtnstyle, extraClass } = props;\n\t\tconst store = Store.get();\n\t\tconst shareCTA = accessNested(this.props, 'appData.header.powsterHeader.share.shareCTA');\n\t\tconst fontStyles = accessNested(this.props, 'appData.styling.fontVariables');\n\t\tconst accessibilityCopy = accessNested(this.props, 'appData.copy.accessibilityCopy', {});\n\t\tconst isRTL = fontStyles.textDirection === 'rtl';\n\t\tconst activePage = store.activePage;\n\t\tconst externalBannerOpen = accessNested(store, 'externalCookieBanner.bannerOpen', false);\n\t\tlet cookieHeight = (externalBannerOpen ? accessNested(store, 'externalCookieBanner.height') : accessNested(store, 'cookies.height')) || 0;\n\t\tconst sonyHeaderEnabled = accessNested(store, 'appData.options.sonyFeatures.sonyHeader', false);\n\t\tif (sonyHeaderEnabled) {\n\t\t\tcookieHeight += 34;\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.wrapper, shareOpen && s.open, extraClass && extraClass)} style={{ marginTop: cookieHeight + 'px' }}>\n\t\t\t\t<div class={joinClasses(s.container, isRTL && s.rtlContainer)} style={{ marginTop: cookieHeight + 'px' }}>\n\t\t\t\t\t<div class={s.headline}>\n\t\t\t\t\t\t<p class={fontStyles.headerShareCta}>{getCopy(shareCTA, {}, '', 'baseCopy') || shareCTA || 'Create social post'}</p>\n\t\t\t\t\t\t<Button class={s.close} trigger={this.handleClose} style={closeBtnstyle} ariaLabel={accessibilityCopy.$CLOSE_SHARE_ARIA}>\n\t\t\t\t\t\t\t<Close aria-hidden />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class={s.shareButtons}>\n\t\t\t\t\t\t<Button class={joinClasses(s.copyButton, copied && s.copied)} trigger={this.copyToClipboard} ariaLabel={accessibilityCopy.$COPY_LINK_BTN_ARIA}>\n\t\t\t\t\t\t\t{copied ? <Check class={s.copy} /> : <Copy class={s.copy} />}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{this.shareItems.map((item) => {\n\t\t\t\t\t\t\tconst type = item.id.toLowerCase();\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tclass={joinClasses(s.shareButton, s[`shareButton--${type}`])}\n\t\t\t\t\t\t\t\t\thref={this.getSharingLink(type)}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tonClick={() => { Store.emit('CLICKED_SHARE', { label: type, activePage }); }}\n\t\t\t\t\t\t\t\t\tariaLabel={accessibilityCopy.$SHARE_ARIA.replace('<platform>', item.title)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.renderIcon(type)}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class={s.backgroundContainer} onClick={this.handleClose} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h } from 'preact';\n\nconst ArrowDown = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 33 33\" {...props}>\n\t\t\t<path fill-rule=\"evenodd\" d=\"M15 29.585L7.45 21a1.003 1.003 0 0 0-1.416 0 1.003 1.003 0 0 0 0 1.416l9.259 10.291c.392.39 1.024.39 1.416 0L26 22.416A1.004 1.004 0 0 0 26 21a1.003 1.003 0 0 0-1.416 0L17 29.585V2a1 1 0 0 0-2 0v27.585z\" />\n\t\t</svg>\n\t);\n};\n\nexport default ArrowDown;\n","import { h } from 'preact';\n\nconst Check = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M5.59937809,11.790571 L3.19856553,9.26329035 C2.93354482,8.98396283 2.93354482,8.5313056 3.19856553,8.25264473 C3.46358623,7.97331722 3.89361983,7.97331722 4.15864053,8.25264473 L6.07941559,10.2759359 L11.8404907,4.20939564 C12.1061364,3.93006812 12.53617,3.93006812 12.8005657,4.20939564 C13.0662114,4.48872315 13.0662114,4.94271369 12.8005657,5.22137455 L6.5594531,11.790571 C6.42694275,11.9299015 6.25317917,11.9999 6.07941559,11.9999 C5.90565202,11.9999 5.73188844,11.9299015 5.59937809,11.790571\" />\n\t\t</svg>\n\t);\n};\n\nexport default Check;\n","import { h } from 'preact';\n\nconst Chevron = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 223 512\" role=\"img\" {...props}>\n\t\t\t<path d=\"M192 0l31 24L48 256l175 232-31 24L0 256z\" />\n\t\t</svg>\n\t);\n\n};\n\nexport default Chevron;\n","import { h } from 'preact';\n\nconst Close = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" {...props}>\n\t\t\t<path d=\"M7.292 8L1.146 1.854a.502.502 0 01.708-.708L8 7.292l6.146-6.146a.502.502 0 01.708.708L8.708 8l6.146 6.146a.502.502 0 01-.708.708L8 8.708l-6.146 6.146A.502.502 0 011.5 15s-.256-.049-.354-.146a.502.502 0 010-.708L7.292 8z\" fill-rule=\"evenodd\" />\n\t\t</svg>\n\t);\n};\n\nexport default Close;\n","import { h } from 'preact';\n\nconst Copy = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M13 3h-2V2a1 1 0 00-1-1H3a1 1 0 00-1 1v10a1 1 0 001 1h2v1a1 1 0 001 1h7a1 1 0 001-1V4a1 1 0 00-1-1zM3 12V2h7v1H6a1 1 0 00-1 1v8H3zm10 2H6V4h7v10z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Copy;\n","import { h } from 'preact';\n\nconst Download = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" {...props}>\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8 0a.5.5 0 0 1 .5.5v8.793l1.646-1.647a.502.502 0 0 1 .708.708l-2.5 2.5a.502.502 0 0 1-.708 0l-2.5-2.5a.502.502 0 0 1 .708-.708L7.5 9.293V.5A.501.501 0 0 1 8 0z\" />\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.5 11a.5.5 0 0 1 .5.5v3c0 .827-.673 1.5-1.5 1.5h-9c-.827 0-1.5-.673-1.5-1.5l.001-3a.5.5 0 0 1 1 0v3a.5.5 0 0 0 .499.5h9c.275 0 .5-.225.5-.5v-3a.5.5 0 0 1 .5-.5z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Download;\n","import { h } from 'preact';\n\nconst Facebook = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 30 30\" role=\"img\" {...props}>\n\t\t\t<path d=\"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Facebook;\n","import { h } from 'preact';\n\nconst Giphy = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-4 -4 32 32\" role=\"img\" {...props}>\n\t\t\t<path d=\"M2 2.057h2.797v19.886H2zM18.787 10.996l2.797-2.463v13.41h-2.797z\" />\n\t\t\t<path d=\"M2 21.257h19.584V24H2zM2 0h10.912L11 2.743H2zM18.787 5.485V2.743h-2.799V0h-2.797v8.228h8.393V5.485\" />\n\t\t</svg>\n\t);\n};\n\nexport default Giphy;","import { h } from 'preact';\n\nexport default (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M8 2c-1.63 0-1.834.007-2.474.036-.638.029-1.075.131-1.456.279a2.932 2.932 0 00-1.063.692 2.932 2.932 0 00-.692 1.063c-.148.382-.25.818-.279 1.456C2.007 6.166 2 6.37 2 8s.007 1.834.036 2.474c.029.639.131 1.075.279 1.456.153.395.358.729.692 1.063.334.334.668.539 1.063.692.382.148.818.25 1.456.279.64.029.844.036 2.474.036 1.63 0 1.834-.007 2.474-.036.638-.029 1.075-.131 1.456-.279a2.932 2.932 0 001.063-.692c.334-.334.539-.668.692-1.063.148-.382.25-.818.279-1.456C13.993 9.834 14 9.63 14 8c0-1.63-.007-1.834-.036-2.474-.029-.638-.131-1.075-.279-1.456a2.932 2.932 0 00-.692-1.063 2.932 2.932 0 00-1.063-.692c-.382-.148-.818-.25-1.456-.279C9.834 2.007 9.63 2 8 2m0 1.081c1.602 0 1.792.006 2.425.035.584.027.902.124 1.114.207.28.109.48.239.69.449.21.21.34.41.449.69.082.211.18.529.207 1.114.028.632.034.822.034 2.424 0 1.602-.006 1.792-.035 2.425-.027.585-.125.902-.207 1.114-.109.28-.239.48-.449.69-.21.21-.41.34-.69.449-.211.082-.529.18-1.114.207-.632.028-.822.034-2.424.034s-1.792-.006-2.425-.035c-.585-.027-.902-.125-1.114-.207a1.862 1.862 0 01-.69-.449c-.21-.21-.34-.41-.449-.69-.082-.211-.179-.528-.206-1.113-.029-.633-.035-.823-.035-2.425 0-1.602.006-1.792.035-2.425.027-.585.124-.902.207-1.114.109-.28.239-.48.449-.69.21-.21.41-.34.69-.449.211-.082.529-.18 1.114-.207.632-.028.822-.034 2.424-.034\" />\n\t\t\t<path d=\"M7.986 9.982a1.995 1.995 0 110-3.99 1.995 1.995 0 010 3.99m0-5.07a3.074 3.074 0 100 6.147 3.074 3.074 0 000-6.147M11.182 5.509a.718.718 0 110-1.436.718.718 0 010 1.436z\" />\n\t\t</svg>\n\t);\n};\n","import { h } from 'preact';\n\nconst Mail = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M14 3H2a1 1 0 00-1 1v8a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zm-1.519 1L8 7.671 3.519 4h8.962zM14 12H2V4l5.341 4.424a1 1 0 001.318 0L14 4v8z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Mail;\n","import { h } from 'preact';\n\nexport default (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" role=\"img\" {...props}>\n\t\t\t<circle cx=\"21.596\" cy=\"21.243\" r=\"1\" />\n\t\t\t<path d=\"M13.172 5.101c.267 0 .518.104.707.293l12.728 12.728a1 1 0 0 1 0 1.414l-7.071 7.071a.993.993 0 0 1-.707.293.993.993 0 0 1-.707-.293L5.393 13.879a.993.993 0 0 1-.293-.707c0-.267.104-.518.293-.707l7.071-7.071a.994.994 0 0 1 .708-.293m0-1a1.99 1.99 0 0 0-1.414.586l-7.071 7.071a2 2 0 0 0 0 2.828l12.728 12.728c.391.391.902.586 1.414.586s1.024-.195 1.414-.586l7.071-7.071a2 2 0 0 0 0-2.828L14.586 4.686a1.997 1.997 0 0 0-1.414-.585zm-.668 23.787c-3.641-.975-6.634-3.729-7.968-7.244l1.364.62a.5.5 0 1 0 .411-.911l-2.479-1.126a.5.5 0 0 0-.662.248l-1.126 2.48a.5.5 0 1 0 .91.414l.635-1.399c1.451 3.875 4.634 6.807 8.655 7.884a.498.498 0 0 0 .612-.354.498.498 0 0 0-.352-.612zm6.992-23.776c3.641.975 6.634 3.729 7.968 7.244l-1.364-.62a.5.5 0 1 0-.411.911l2.479 1.126a.5.5 0 0 0 .662-.248l1.126-2.48a.5.5 0 1 0-.91-.414l-.635 1.399c-1.451-3.875-4.634-6.807-8.655-7.884a.498.498 0 0 0-.612.354.498.498 0 0 0 .352.612z\" />\n\t\t</svg>\n\t);\n};","import { h } from 'preact';\n\nconst Pinterest = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M11.493 3.23C10.667 2.437 9.523 2 8.273 2c-1.908 0-3.082.783-3.731 1.439-.8.808-1.258 1.882-1.258 2.947 0 1.335.559 2.361 1.494 2.743a.487.487 0 00.188.039c.197 0 .354-.129.408-.336.033-.12.105-.413.137-.54.068-.252.013-.372-.136-.548-.27-.321-.397-.699-.397-1.192 0-1.464 1.09-3.02 3.11-3.02 1.603 0 2.599.911 2.599 2.378 0 .926-.2 1.782-.561 2.413-.252.438-.695.961-1.373.961a.912.912 0 01-.724-.331.83.83 0 01-.146-.723c.071-.303.169-.618.263-.923.173-.557.335-1.084.335-1.503 0-.718-.441-1.2-1.098-1.2-.835 0-1.489.848-1.489 1.93 0 .531.141.927.205 1.08l-.849 3.594c-.069.291-.482 2.595.202 2.778.768.207 1.455-2.037 1.524-2.29.057-.206.255-.986.376-1.465.37.357.968.598 1.548.598 1.095 0 2.079-.493 2.773-1.387.672-.867 1.042-2.077 1.042-3.406.001-1.036-.445-2.06-1.222-2.806z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Pinterest;\n","import { h } from 'preact';\n\nexport default (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" {...props}>\n\t\t\t<path d=\"M8.354,0.146l2.5,2.5C10.951,2.744,11,2.872,11,3s-0.049,0.256-0.146,0.354c-0.196,0.195-0.513,0.195-0.708,0 L8.5,1.707V10.5C8.5,10.776,8.277,11,8,11c-0.276,0-0.5-0.224-0.5-0.5V1.707L5.854,3.354c-0.196,0.195-0.512,0.195-0.708,0 c-0.195-0.196-0.195-0.512,0-0.708l2.5-2.5C7.843-0.049,8.159-0.049,8.354,0.146z\" />\n\t\t\t<path d=\"M4.5,6C4.776,6,5,6.224,5,6.5S4.776,7,4.5,7h-1C3.224,7,3,7.224,3,7.5v7C3,14.775,3.224,15,3.5,15h9 c0.275,0,0.5-0.225,0.5-0.5v-7C13,7.224,12.775,7,12.5,7h-1C11.224,7,11,6.776,11,6.5S11.224,6,11.5,6h1C13.327,6,14,6.673,14,7.5v7 c0,0.827-0.673,1.5-1.5,1.5h-9C2.673,16,2,15.327,2,14.5v-7C2,6.673,2.673,6,3.5,6H4.5z\" />\n\t\t</svg>\n\t);\n};\n","import { h } from 'preact';\n\nconst Snapchat = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" role=\"img\" {...props}>\n\t\t\t<path d=\"M12.117 20.248c-.05 0-.098-.002-.134-.004a1.03 1.03 0 0 1-.088.004c-1.045 0-1.744-.494-2.361-.93-.443-.313-.86-.608-1.348-.69-.24-.04-.479-.06-.71-.06-.415 0-.743.065-.983.112a2.185 2.185 0 0 1-.373.054c-.103 0-.228-.023-.28-.201-.042-.14-.072-.277-.1-.408-.072-.327-.124-.527-.246-.546-1.312-.203-2.087-.5-2.24-.862a.335.335 0 0 1-.028-.114.21.21 0 0 1 .176-.22c1.041-.17 1.967-.721 2.752-1.636a6.171 6.171 0 0 0 .944-1.47c.151-.306.181-.571.09-.787-.17-.399-.729-.577-1.1-.694a3.955 3.955 0 0 1-.248-.084c-.328-.13-.868-.404-.796-.782.052-.276.417-.468.712-.468.082 0 .154.015.215.043.333.156.633.235.89.235.321 0 .476-.122.513-.156l-.031-.523v-.002c-.076-1.197-.17-2.686.211-3.54 1.14-2.555 3.558-2.754 4.271-2.754l.311-.003h.043c.715 0 3.138.199 4.279 2.756.38.854.287 2.345.211 3.543l-.003.057c-.01.162-.02.316-.028.466.035.032.176.144.465.155.245-.01.528-.088.838-.233a.663.663 0 0 1 .275-.055c.11 0 .22.021.313.06l.005.002c.264.094.436.28.44.477.003.183-.133.457-.802.722a4.062 4.062 0 0 1-.249.084c-.37.118-.93.295-1.099.693-.092.216-.061.482.09.789l.005.01c.046.11 1.174 2.681 3.691 3.096a.21.21 0 0 1 .176.22.338.338 0 0 1-.028.114c-.153.36-.928.657-2.24.86-.123.018-.175.217-.246.543-.029.135-.059.267-.1.405-.038.13-.123.194-.259.194h-.02a2.1 2.1 0 0 1-.374-.047 4.91 4.91 0 0 0-.983-.104c-.231 0-.47.02-.71.06-.488.081-.905.376-1.346.688-.619.437-1.318.931-2.363.931\" />\n\t\t</svg>\n\t);\n};\n\nexport default Snapchat;","import { h } from 'preact';\n\nconst Spotify = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" role=\"img\" {...props}>\n\t\t\t<path d=\"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10c0-5.522-4.477-10-10-10Zm4.586 14.422a.623.623 0 0 1-.857.208c-2.348-1.435-5.304-1.76-8.785-.964a.623.623 0 1 1-.277-1.216c3.809-.87 7.076-.495 9.712 1.115.294.181.387.564.207.857ZM17.81 13.7a.78.78 0 0 1-1.073.257c-2.687-1.652-6.785-2.13-9.965-1.165a.78.78 0 0 1-.973-.52.781.781 0 0 1 .52-.972c3.632-1.102 8.147-.569 11.233 1.328a.779.779 0 0 1 .258 1.072Zm.105-2.835C14.69 8.95 9.375 8.775 6.297 9.708a.935.935 0 1 1-.543-1.79c3.533-1.072 9.405-.865 13.115 1.338a.935.935 0 0 1-.954 1.609Z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Spotify;","import { h } from 'preact';\n\nconst Telegram = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M13.557 2.799L2.209 7.176a.326.326 0 00.003.61l2.765 1.032 1.07 3.442c.069.22.338.302.517.156l1.541-1.256a.462.462 0 01.561-.016l2.78 2.018a.325.325 0 00.51-.197l2.036-9.796a.325.325 0 00-.435-.37zm-2.165 2.29L6.933 9.235a.919.919 0 00-.286.552l-.152 1.127c-.02.151-.232.165-.273.02L5.637 8.88a.544.544 0 01.238-.612l5.404-3.328c.097-.06.197.072.113.149z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Telegram;\n","import { h } from 'preact';\n\nconst Threads = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 192 192\" role=\"img\" {...props}>\n\t\t\t<path d=\"M141.537 88.9883C140.71 88.5919 139.87 88.2104 139.019 87.8451C137.537 60.5382 122.616 44.905 97.5619 44.745C97.4484 44.7443 97.3355 44.7443 97.222 44.7443C82.2364 44.7443 69.7731 51.1409 62.102 62.7807L75.881 72.2328C81.6116 63.5383 90.6052 61.6848 97.2286 61.6848C97.3051 61.6848 97.3819 61.6848 97.4576 61.6855C105.707 61.7381 111.932 64.1366 115.961 68.814C118.893 72.2193 120.854 76.925 121.825 82.8638C114.511 81.6207 106.601 81.2385 98.145 81.7233C74.3247 83.0954 59.0111 96.9879 60.0396 116.292C60.5615 126.084 65.4397 134.508 73.775 140.011C80.8224 144.663 89.899 146.938 99.3323 146.423C111.79 145.74 121.563 140.987 128.381 132.296C133.559 125.696 136.834 117.143 138.28 106.366C144.217 109.949 148.617 114.664 151.047 120.332C155.179 129.967 155.42 145.8 142.501 158.708C131.182 170.016 117.576 174.908 97.0135 175.059C74.2042 174.89 56.9538 167.575 45.7381 153.317C35.2355 139.966 29.8077 120.682 29.6052 96C29.8077 71.3178 35.2355 52.0336 45.7381 38.6827C56.9538 24.4249 74.2039 17.11 97.0132 16.9405C119.988 17.1113 137.539 24.4614 149.184 38.788C154.894 45.8136 159.199 54.6488 162.037 64.9503L178.184 60.6422C174.744 47.9622 169.331 37.0357 161.965 27.974C147.036 9.60668 125.202 0.195148 97.0695 0H96.9569C68.8816 0.19447 47.2921 9.6418 32.7883 28.0793C19.8819 44.4864 13.2244 67.3157 13.0007 95.9325L13 96L13.0007 96.0675C13.2244 124.684 19.8819 147.514 32.7883 163.921C47.2921 182.358 68.8816 191.806 96.9569 192H97.0695C122.03 191.827 139.624 185.292 154.118 170.811C173.081 151.866 172.51 128.119 166.26 113.541C161.776 103.087 153.227 94.5962 141.537 88.9883ZM98.4405 129.507C88.0005 130.095 77.1544 125.409 76.6196 115.372C76.2232 107.93 81.9158 99.626 99.0812 98.6368C101.047 98.5234 102.976 98.468 104.871 98.468C111.106 98.468 116.939 99.0737 122.242 100.233C120.264 124.935 108.662 128.946 98.4405 129.507Z\"></path>\n\t\t</svg>\n\t)\n}\n\nexport default Threads;","import { h } from 'preact';\n\nconst Tiktok = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" role=\"img\" {...props}>\n\t\t\t<path d=\"M18.86 10.47a4.281 4.281 0 0 1-3.977-1.916l.001 6.593a4.873 4.873 0 1 1-4.873-4.873c.102 0 .202.01.302.016v2.4c-.1-.011-.199-.03-.302-.03a2.487 2.487 0 0 0 0 4.974c1.374 0 2.587-1.082 2.587-2.456l.024-11.196h2.297a4.279 4.279 0 0 0 3.944 3.82v2.668\" />\n\t\t</svg>\n\t);\n};\n\nexport default Tiktok;","import { h } from 'preact';\n\nconst Tumblr = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M11.732 11.117a.232.232 0 00-.236.01c-.536.353-1.08.531-1.616.531-.288 0-.536-.064-.758-.197a.84.84 0 01-.341-.381c-.049-.129-.048-.477-.047-.958V7.189h2.437a.231.231 0 00.231-.231V4.899a.231.231 0 00-.231-.231H8.733V2.231A.23.23 0 008.502 2H6.861a.23.23 0 00-.229.203c-.069.564-.197 1.033-.381 1.394a2.95 2.95 0 01-.722.92c-.24.205-.652.403-1.223.589a.23.23 0 00-.159.219v1.634c0 .127.103.231.231.231h1.336v3.815c0 .562.06.985.182 1.294.125.313.347.608.66.877.308.264.683.47 1.115.614.42.136.753.21 1.316.21.476 0 .929-.049 1.348-.147a7.1 7.1 0 001.385-.505.23.23 0 00.133-.209V11.32a.232.232 0 00-.121-.203z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Tumblr;\n","import { h } from 'preact';\n\nexport default (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -400 2400 3200\" role=\"img\" {...props}>\n\t\t\t<path d=\"M500 0 0 500v1800h600v500l500-500h400l900-900V0H500zm1700 1300-400 400h-400l-350 350v-350H600V200h1600v1100z\" />\n\t\t\t<path d=\"M1700 550h200v600h-200zm-550 0h200v600h-200z\" />\n\t\t</svg>\n\t);\n};\n","import { h } from 'preact';\n\nconst svgStyle = {\n\theight: '17px',\n};\n\nexport default (props) => {\n\treturn (\n\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" {...props}>\n\t\t\t<path d=\"M13.4019 11.2735L18.6575 5H17.4121L12.8487 10.4472L9.20386 5H5L10.5117 13.2372L5 19.8159H6.24548L11.0646 14.0635L14.9138 19.8159H19.1176L13.4016 11.2735H13.4019ZM11.6961 13.3097L11.1376 12.4895L6.69425 5.9628H8.60724L12.1931 11.2301L12.7515 12.0503L17.4127 18.8969H15.4997L11.6961 13.31V13.3097Z\" />\n\t\t</svg>\n\t);\n};","import { h } from 'preact';\n\nconst Viber = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path d=\"M12.405 3.17c-.298-.275-1.503-1.15-4.187-1.162 0 0-3.165-.191-4.708 1.225-.86.859-1.162 2.116-1.194 3.675-.032 1.559-.073 4.479 2.742 5.271h.003l-.001 1.209s-.018.489.304.589c.39.121.618-.251.99-.652.204-.22.486-.543.699-.79 1.926.162 3.406-.208 3.575-.263.389-.126 2.589-.408 2.947-3.329.369-3.01-.179-4.914-1.17-5.773zm.327 5.557c-.302 2.439-2.086 2.592-2.415 2.697-.14.045-1.441.369-3.076.262 0 0-1.219 1.47-1.599 1.853-.059.06-.129.084-.176.072-.066-.016-.084-.094-.083-.207l.01-2.008s-.001 0 0 0c-2.382-.661-2.243-3.147-2.216-4.449.027-1.302.272-2.368.998-3.085C5.48 2.679 8.168 2.856 8.168 2.856c2.271.01 3.359.694 3.611.923.838.717 1.265 2.433.953 4.948z\" />\n\t\t\t<path d=\"M9.323 6.992a.151.151 0 01-.151-.144c-.026-.516-.269-.769-.764-.795a.151.151 0 01-.144-.159.151.151 0 01.159-.144c.654.034 1.017.408 1.051 1.082a.151.151 0 01-.144.159l-.007.001z\" />\n\t\t\t<path d=\"M10.102 7.253h-.003a.151.151 0 01-.148-.155c.011-.519-.137-.939-.453-1.284-.317-.345-.75-.533-1.324-.575a.153.153 0 01-.14-.163.151.151 0 01.162-.14c.646.047 1.159.274 1.524.672.366.4.546.904.533 1.496a.151.151 0 01-.151.149z\" />\n\t\t\t<path d=\"M10.899 7.565a.152.152 0 01-.152-.151c-.007-.916-.282-1.645-.817-2.166-.536-.523-1.214-.79-2.014-.796a.152.152 0 01.002-.304h.001c.881.006 1.629.303 2.223.882.595.58.901 1.382.909 2.382a.152.152 0 01-.151.153h-.001zM8.446 8.873s.213.018.328-.124l.224-.282c.108-.14.369-.229.624-.087.191.109.377.228.557.355.169.125.516.414.518.414.165.14.203.344.091.561l-.001.005a2.325 2.325 0 01-.466.574l-.004.003c-.161.134-.318.211-.473.229a.625.625 0 01-.27-.027l-.005-.007c-.239-.067-.637-.236-1.301-.602a7.709 7.709 0 01-1.093-.722 5.267 5.267 0 01-.495-.436l-.016-.016-.017-.017-.016-.016-.017-.017c-.155-.155-.3-.32-.436-.492a7.709 7.709 0 01-.722-1.093c-.367-.664-.535-1.062-.603-1.301l-.007-.006a.654.654 0 01-.027-.27.937.937 0 01.229-.474l.004-.004c.165-.185.359-.342.574-.466l.005-.001c.216-.113.421-.074.56.09.001.001.29.348.414.518.128.18.246.366.355.557.142.255.053.516-.087.624l-.281.224c-.142.115-.123.328-.123.328s.417 1.58 1.977 1.978z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Viber;\n","import { h } from 'preact';\n\nconst Vimeo = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" role=\"img\" {...props}>\n\t\t\t<path d=\"M21.99 7.164c-.09 2.026-1.449 4.799-4.078 8.32-2.72 3.677-5.02 5.516-6.903 5.516-1.165 0-2.151-1.122-2.958-3.366l-1.614-6.17C5.84 9.221 5.197 8.1 4.51 8.1c-.15 0-.672.327-1.569.981L2 7.818c.978-.896 1.949-1.8 2.913-2.71C6.228 3.922 7.214 3.3 7.872 3.237c1.553-.156 2.51.95 2.868 3.318.389 2.556.657 4.145.807 4.768.448 2.12.941 3.179 1.479 3.179.418 0 1.046-.686 1.882-2.057.837-1.371 1.285-2.415 1.345-3.132.12-1.184-.329-1.776-1.345-1.776-.478 0-.97.109-1.479.327.986-3.334 2.869-4.955 5.648-4.861 2.062.062 3.033 1.449 2.913 4.16Z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Vimeo;","import { h } from 'preact';\n\nconst Whatsapp = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" role=\"img\" {...props}>\n\t\t\t<path class=\"st0\" d=\"M11.084 9.192c-.036-.06-.133-.096-.277-.167a22.711 22.711 0 00-.987-.466c-.132-.048-.229-.072-.325.071a8.325 8.325 0 01-.457.562c-.084.096-.168.108-.313.036-.144-.072-.609-.223-1.161-.711a4.332 4.332 0 01-.803-.992c-.084-.144-.009-.221.063-.292.065-.064.145-.167.217-.251s.096-.143.144-.239c.048-.096.024-.179-.012-.251-.036-.072-.325-.777-.445-1.064s-.24-.239-.325-.239c-.084 0-.181-.012-.277-.012a.533.533 0 00-.385.179c-.132.144-.505.49-.505 1.195s.517 1.386.59 1.482c.072.095.999 1.589 2.467 2.163 1.468.573 1.468.382 1.733.358.265-.024.854-.347.975-.681.119-.335.119-.622.083-.681zM8.109 2.931c-2.731 0-4.953 2.205-4.953 4.915 0 1.075.351 2.071.943 2.881l-.619 1.825 1.903-.605a4.954 4.954 0 002.725.813c2.731 0 4.953-2.204 4.953-4.914S10.84 2.931 8.109 2.931zM14 7.845c0 3.228-2.637 5.845-5.891 5.845a5.908 5.908 0 01-2.848-.727L2 14l1.063-3.136a5.789 5.789 0 01-.845-3.019C2.218 4.617 4.855 2 8.109 2S14 4.617 14 7.845z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Whatsapp;\n","import { h } from 'preact';\n\nconst Youtube = (props) => {\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" role=\"img\" {...props}>\n\t\t\t<path d=\"M12 5s-6.26 0-7.825.412c-.84.23-1.532.922-1.763 1.779C2 8.755 2 12 2 12s0 3.261.412 4.81c.23.856.906 1.531 1.763 1.762C5.756 19 12 19 12 19s6.26 0 7.825-.412a2.506 2.506 0 0 0 1.763-1.762c.412-1.565.412-4.81.412-4.81s.016-3.26-.412-4.825a2.506 2.506 0 0 0-1.763-1.763C18.26 5 12 5 12 5Zm-1.994 4.003L15.212 12l-5.206 2.997V9.003Z\" />\n\t\t</svg>\n\t);\n};\n\nexport default Youtube;","import { h, Component } from 'preact';\nimport Phone from 'components/bolt/icons/phone';\nimport Store from 'store/store';\nimport s from 'components/bolt/landscapeOverlay/landscapeOverlay.sss';\n\nexport default class LandscapeOverlay extends Component {\n\n\tcomponentDidMount() {\n\t\tif (Store.get().quizPhotobooth) {\n\t\t\tStore.emit('TRACK_QUIZPHOTOBOOTH_VIEW', 'rotate-device');\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={s.wrapper}>\n\t\t\t\t<Phone class={s.phoneIcon} ariaLabel=\"Phone Icon\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\n// import Store from 'store/store';\n// import { accessNested } from 'utils/utils';\n\nexport default class Link extends Component {\n\t// addExternalLinkModal(attributes) {\n\t// \tconst prevOnClick = attributes.onClick;\n\t// \tattributes.onClick = (e) => {\n\t// \t\te.stopPropagation();\n\t// \t\te.preventDefault();\n\t// \t\tStore.emit('DISPLAY_EXTERNAL_LINK_MODAL', {\n\t// \t\t\toriginalEvent: e,\n\t// \t\t\tonClick: prevOnClick,\n\t// \t\t\ttarget: attributes.target,\n\t// \t\t\thref: attributes.href\n\t// \t\t});\n\t// \t\treturn false;\n\t// \t};\n\t// \treturn attributes;\n\t// }\n\n\trender({ children, ...attributes }) {\n\t\t// const appData = Store.get().appData;\n\t\t// const hasExternalLinkModal = accessNested(appData, 'options.externalLinkModal', false) && !attributes.ignoreExternalLinkModal;\n\t\t// const isExternalLink = attributes.href && /^(https?:)?\\/\\//.test(attributes.href);\n\t\t// if (hasExternalLinkModal && isExternalLink) {\n\t\t// \tattributes = this.addExternalLinkModal(attributes);\n\t\t// }\n\n\t\treturn (\n\t\t\t<a {...attributes}>{children}</a>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport s from './matterhorn.sss';\n\nexport default class Matterhorn extends Component {\n\n\tcomponentDidMount() {\n\t\tif (typeof this.props.onPlayerReady === 'function') {\n\t\t\tthis.props.onPlayerReady();\n\t\t}\n\t}\n\n\trender(props) {\n\t\tconst { activeVideo } = props;\n\t\tconst src = activeVideo.disneySrc;\n\n\t\treturn (\n\t\t\t<iframe\n\t\t\t\tid=\"matterhorn_player\"\n\t\t\t\tclass={s.iframe}\n\t\t\t\tsrc={src}\n\t\t\t\tallowfullscreen\n\t\t\t\twebkitallowfullscreen\n\t\t\t\tmozAllowFullScreen\n\t\t\t\tallow=\"autoplay *; fullscreen *; encrypted-media *\"\n\t\t\t\tsandbox=\"allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation\"\n\t\t\t\tframeborder=\"0\"\n\t\t\t\ttitle=\"Matterhorn Player\"\n\t\t\t/>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport Store from 'store/store';\nimport { loadScript } from 'utils/utils';\nimport s from 'components/bolt/nativeVideo/nativeVideo.sss';\n\nexport default class NativeVideo extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.progressTracking = {};\n\n\t\tthis.videoName = this.props.activeVideo.videoSrc.split('\\\\').pop().split('/').pop();\n\n\t\tthis.videoPlaying = this.videoPlaying.bind(this);\n\t\tthis.videoPaused = this.videoPaused.bind(this);\n\t\tthis.progressTracker = this.progressTracker.bind(this);\n\t\tthis.videoCanPlayHandler = this.videoCanPlayHandler.bind(this);\n\t}\n\n\tplay() {\n\t\tthis.$video?.play();\n\t}\n\tget duration() {\n\t\treturn this.$video?.duration || 0;\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { autoplay, onEnded, activeVideo } = this.props;\n\n\t\tif (activeVideo.videoSrc.match(/m3u8$/)) {\n\t\t\tif (typeof Hls === 'undefined') {\n\t\t\t\tloadScript('https://cdn.jsdelivr.net/npm/hls.js@latest')\n\t\t\t\t\t.then(() => this.initHLS(activeVideo.videoSrc, autoplay));\n\t\t\t} else {\n\t\t\t\tthis.initHLS(activeVideo.videoSrc, autoplay);\n\t\t\t}\n\t\t}\n\t\tif (this.$video) {\n\t\t\tif (autoplay) {\n\t\t\t\tthis.$video.load();\n\t\t\t\tthis.$video.play();\n\t\t\t}\n\t\t\tif (onEnded) {\n\t\t\t\tthis.$video.addEventListener('ended', onEnded);\n\t\t\t}\n\t\t\tif (this.props.fromStart) {\n\t\t\t\tthis.$video.currentTime = 0;\n\t\t\t}\n\n\t\t\tthis.$video.addEventListener('canplay', this.videoCanPlayHandler);\n\t\t\tthis.$video.addEventListener('playing', this.videoPlaying);\n\t\t\tthis.$video.addEventListener('pause', this.videoPaused);\n\n\t\t\t// Video already loaded, have to call the callback manually\n\t\t\tif (this.$video.readyState) {\n\t\t\t\tthis.videoCanPlayHandler();\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.$video.removeEventListener('ended', this.props.onEnded);\n\t\tthis.$video.removeEventListener('canplay', this.videoCanPlayHandler);\n\t\tthis.$video.removeEventListener('playing', this.videoPlaying);\n\t\tthis.$video.removeEventListener('pause', this.videoPaused);\n\t\tcancelAnimationFrame(this.timer);\n\t}\n\n\tinitHLS(src, autoplay) {\n\t\tif (typeof Hls !== 'undefined' && window.Hls.isSupported()) {\n\t\t\tconst hls = new window.Hls();\n\t\t\thls.loadSource(src);\n\t\t\thls.attachMedia(this.$video);\n\t\t\tif (autoplay) {\n\t\t\t\tthis.$video.play();\n\t\t\t}\n\t\t}\n\t}\n\n\tvideoCanPlayHandler() {\n\t\tif (this.videoCanPlay) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.videoCanPlay = true;\n\t\tthis.setState({\n\t\t\tplaying: !this.$video.paused,\n\t\t\tloading: false\n\t\t});\n\n\t\tif (typeof this.props.canPlayCallback === 'function') {\n\t\t\tthis.props.canPlayCallback(this.$video);\n\t\t}\n\t}\n\n\tprogressTracker() {\n\t\tif (!this.trackProgress || !this.$video) {\n\t\t\t// We shouldn't be tracking the progress, so let's quit\n\t\t\treturn;\n\t\t}\n\n\t\t// Only update the state progress if displaying the controls\n\t\t// if (this.props.showControls) {\n\t\t// \tthis.setState({ progress: this.$video.currentTime });\n\t\t// }\n\n\t\tconst progress = this.$video.currentTime / this.$video.duration;\n\n\t\tlet step = [0, 25, 50, 75, 95].find(step => progress > (step / 100) && !this.progressTracking[step]);\n\n\t\tif (step || step === 0) {\n\t\t\tthis.progressTracking[step] = true;\n\t\t\tStore.emit('VIDEO_PLAYER_PROGRESS', {\n\t\t\t\tstep,\n\t\t\t\tvideo: this.videoName,\n\t\t\t\ttime: this.$video.currentTime,\n\t\t\t\tplatform: 'native',\n\t\t\t\tisShowtimesMessage: this.props.isShowtimesMessage,\n\t\t\t\tisTrailerOverlay: this.props.isTrailerOverlay,\n\t\t\t\tisTrailer: this.props.isTrailer\n\t\t\t});\n\t\t}\n\n\t\tthis.timer = requestAnimationFrame(this.progressTracker);\n\t}\n\n\tvideoPlaying() {\n\t\tif (this.props.useTracking && !this.progressTracking[0]) {\n\t\t\tStore.emit('VIDEO_PLAYER_PROGRESS', {\n\t\t\t\tstep: 0,\n\t\t\t\tvideo: this.videoName,\n\t\t\t\ttime: this.$video.currentTime,\n\t\t\t\tplatform: 'native',\n\t\t\t\tisShowtimesMessage: this.props.isShowtimesMessage,\n\t\t\t\tisTrailerOverlay: this.props.isTrailerOverlay,\n\t\t\t\tisTrailer: this.props.isTrailer\n\t\t\t});\n\t\t\tthis.progressTracking[0] = true;\n\t\t}\n\n\t\tlet state = this.state;\n\t\tlet newState = {\n\t\t\tplaying:  true,\n\t\t\tloading:  false,\n\t\t\tduration: this.$video.duration,\n\t\t\tmuted:    this.$video.muted\n\t\t};\n\t\tlet actualNewState = Object.keys(newState).reduce((o, k) => {\n\t\t\tlet val = newState[k];\n\t\t\tif (state[k] !== val) {\n\t\t\t\to[k] = newState[k];\n\t\t\t}\n\t\t\treturn o;\n\t\t}, {});\n\t\tif (Object.keys(actualNewState).length) {\n\t\t\tthis.setState(actualNewState);\n\t\t}\n\n\t\tif (!this.trackProgress && this.props.useTracking) {\n\t\t\tthis.trackProgress = true;\n\t\t\t// Start tracking the progress\n\t\t\tcancelAnimationFrame(this.timer);\n\t\t\tthis.timer = requestAnimationFrame(this.progressTracker);\n\t\t}\n\t}\n\n\tvideoPaused() {\n\t\tcancelAnimationFrame(this.timer);\n\t\tthis.trackProgress = false;\n\n\t\tthis.setState({\n\t\t\tplaying: false,\n\t\t\tloading: false\n\t\t});\n\t}\n\n\trender(props) {\n\t\tconst { activeVideo, overrideStyles, muted } = props;\n\t\tconst captionsLabel = activeVideo.captionsSrc && activeVideo.captionsSrc.replace(/.*\\/([^/]*)\\.[^/]+$/, '$1');\n\t\tconst videoFile = activeVideo.videoSrc;\n\n\t\treturn (\n\t\t\t<video\n\t\t\t\tref={$ref => this.$video = $ref}\n\t\t\t\twebkit-playsinline playsinline\n\t\t\t\tcontrols\n\t\t\t\tposter={activeVideo.posterSrc || activeVideo.thumbSrc}\n\t\t\t\taria-label={activeVideo.ariaLabel}\n\t\t\t\tclass={overrideStyles && s.nativeVideo}\n\t\t\t\tmuted={muted}\n\t\t\t\tkey={videoFile}\n\t\t\t>\n\t\t\t\t{videoFile.includes('.webm') && <source src={videoFile} type=\"video/webm\" />}\n\t\t\t\t<source src={videoFile.replace(/\\.[^.]*$/, '.mp4')} type=\"video/mp4\" />\n\t\t\t\t{activeVideo.captionsSrc && (\n\t\t\t\t\t<track\n\t\t\t\t\t\tlabel={captionsLabel}\n\t\t\t\t\t\tsrc={activeVideo.captionsSrc}\n\t\t\t\t\t\tkind=\"captions\"\n\t\t\t\t\t\tsrclang={activeVideo.captionsLang}\n\t\t\t\t\t\tdefault\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</video>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport SectionBackground from 'components/bolt/sectionBackground/sectionBackground';\nimport AgeGate from 'components/bolt/ageGate/ageGate';\nimport s from 'components/bolt/section/section.sss';\nimport Store from 'store/store';\n\nexport default class Section extends Component {\n\trenderBgContent() {\n\t\tconst { appData, id } = this.props;\n\t\tconst pageData = appData.pages[id]?.data;\n\n\t\treturn (\n\t\t\t<div class={s.contentBelow}>\n\t\t\t\t{!!pageData?.bg && <SectionBackground ref={ref => this.sectionBackground = ref} data={pageData.bg} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderOverlayedContent() {\n\t\tconst { appData, id } = this.props;\n\t\tconst { ageGateOpen } = Store.get();\n\t\tlet showAgeGate;\n\n\t\tconst isSection = appData.pages[id]?.section;\n\t\tconst ageGateEnabled = appData.options.ageGate;\n\n\t\tif (ageGateEnabled) {\n\t\t\tconst ageGateOnlyOnPages = ageGateEnabled?.onlyOnPages || '';\n\t\t\tconst hasAgeGate = ageGateOnlyOnPages.split(',').map(e => e.trim()).includes(id) && isSection;\n\t\t\tshowAgeGate = hasAgeGate && (ageGateOpen !== false);\n\t\t}\n\n\t\tif (!showAgeGate) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={s.overlayedContent}>\n\t\t\t\t{showAgeGate && <AgeGate appData={appData} copy={appData.copy} key=\"ageGate\" isSectionAgeGate />}\n\t\t\t</div>\n\t\t);\n\t}\n}","import { h, Component } from 'preact';\nimport { getValueForClientSize } from 'utils/bolt';\nimport { joinClasses } from 'utils/utils';\nimport tryToPlayVideo from 'utils/tryToPlayVideo';\nimport * as webp from 'utils/bolt/webp';\nimport { useDynamicAssetFolder } from 'utils/assets';\nimport Store from 'store/store';\nimport s from 'components/bolt/sectionBackground/sectionBackground.sss';\n\nexport default class SectionBackground extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tposterVisible: true\n\t\t};\n\n\t\tthis.playVideo = this.playVideo.bind(this);\n\t\tthis.removeBgVideo = this.removeBgVideo.bind(this);\n\t\tthis.hidePoster = this.hidePoster.bind(this);\n\n\t\tconst bg = getValueForClientSize(this.props.data);\n\t\tif (bg.tiled && !bg.tileSize) {\n\t\t\tconst img = new Image();\n\t\t\timg.onload = () => {\n\t\t\t\tthis.tileSize = img.naturalWidth;\n\t\t\t};\n\t\t\timg.src = bg.asset;\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.playVideo();\n\t}\n\n\tplayVideo() {\n\t\ttryToPlayVideo(this.video)\n\t\t\t.then(this.hidePoster)\n\t\t\t.catch(this.removeBgVideo);\n\t}\n\n\tremoveBgVideo() {\n\t\tthis.setState({\n\t\t\tremoveBgVideo: true\n\t\t});\n\t}\n\n\thidePoster() {\n\t\tthis.setState({\n\t\t\tposterVisible: false,\n\t\t\tremoveBgVideo: false\n\t\t});\n\t}\n\n\tgetBgValue(field) {\n\t\tconst { data } = this.props;\n\t\tif (!data || !data.desktop && !data.tablet && !data.mobile) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet bgValue = {};\n\n\t\tObject.entries(data).map(([device, data]) => {\n\t\t\tbgValue[device] = data[field];\n\t\t});\n\n\t\treturn useDynamicAssetFolder(getValueForClientSize(bgValue));\n\t}\n\n\tforceBgSize({ height }) {\n\t\tif (height && height !== 'auto' && !height.endsWith?.('px')) {\n\t\t\theight += 'px';\n\t\t}\n\t\tthis.wrapper.style.height = height || '';\n\t}\n\n\trenderBgVideo(bg) {\n\t\tconst { removeBgVideo, posterVisible } = this.state;\n\t\tconst preloadImg = this.getBgValue('preLoadImg');\n\t\tconst fallbackFormat = this.props.data?.alternativeImageFormat || 'jpg';\n\n\t\treturn (\n\t\t\t<div class={s.bgVideo}>\n\t\t\t\t<video\n\t\t\t\t\tref={ref => this.video = ref}\n\t\t\t\t\tclass={joinClasses(s.video, removeBgVideo && s.hide)}\n\t\t\t\t\tstyle={{ objectPosition: bg.bgPosition || 'center' }}\n\t\t\t\t\tposter={preloadImg}\n\t\t\t\t\tautoPlay\n\t\t\t\t\tmuted\n\t\t\t\t\tplaysInline\n\t\t\t\t\tloop={!bg.disableLoop}\n\t\t\t\t\tonCanPlay={this.playVideo}\n\t\t\t\t>\n\t\t\t\t\t{bg.asset.endsWith('.webm') && <source src={bg.asset} type=\"video/webm\" />}\n\t\t\t\t\t<source src={bg.asset.replace(/\\.[^./]+$/, '.mp4')} type=\"video/mp4\" />\n\t\t\t\t</video>\n\t\t\t\t{(posterVisible && preloadImg) && <webp.Picture src={preloadImg} alt=\"\" fallbackFormat={fallbackFormat} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender({ data }) {\n\t\tconst bg = getValueForClientSize(data);\n\t\tlet isVideo;\n\t\tconst wrapperStyle = {};\n\n\t\tif (bg?.asset) {\n\t\t\tconst asset = bg.asset.trim();\n\t\t\tisVideo = asset.endsWith('webm') || asset.endsWith('mp4');\n\t\t\twrapperStyle.backgroundImage = isVideo ? `url(${bg.fallbackImg})` : `url(${bg.asset})`;\n\t\t\twrapperStyle.backgroundPosition = bg.bgPosition || 'center';\n\t\t}\n\n\t\tif (bg.tiled) {\n\t\t\twrapperStyle.backgroundSize = bg.tileSize || this.tileSize || 'cover';\n\t\t}\n\n\t\tif (bg.backgroundColor) {\n\t\t\tconst variables = Store.get().appData.styling.variables;\n\t\t\twrapperStyle.backgroundColor = variables[bg.backgroundColor.substring(1)] || bg.backgroundColor;\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={ref => this.wrapper = ref}\n\t\t\t\tclass={joinClasses(s.wrapper, bg.tiled && s.tiled)} style={wrapperStyle}\n\t\t\t>\n\t\t\t\t{isVideo && this.renderBgVideo(bg)}\n\t\t\t</div>\n\t\t);\n\t}\n}","import { h, Component } from 'preact';\nimport { joinClasses, sortObjectByOrder, accessNested } from 'utils/utils';\n\nimport Store from 'store/store';\n\nimport Facebook from 'components/bolt/icons/facebook';\nimport Twitter from 'components/bolt/icons/twitter';\nimport Twitch from 'components/bolt/icons/twitch';\nimport Instagram from 'components/bolt/icons/instagram';\nimport Youtube from 'components/bolt/icons/youtube';\nimport Snapchat from 'components/bolt/icons/snapchat';\nimport Tiktok from 'components/bolt/icons/tiktok';\nimport Spotify from 'components/bolt/icons/spotify';\nimport Pinterest from 'components/bolt/icons/pinterest';\nimport Giphy from 'components/bolt/icons/giphy';\nimport Tumblr from 'components/bolt/icons/tumblr';\nimport Vimeo from 'components/bolt/icons/vimeo';\nimport Mail from 'components/bolt/icons/mail';\nimport Threads from 'components/bolt/icons/threads';\n\nimport Link from 'components/bolt/link/link';\n\nimport s from 'components/bolt/socials/socials.sss';\n\nexport default class Socials extends Component {\n\trender(props) {\n\t\tconst { socials = {}, navOpen } = props;\n\t\t// allow for injecting custom styles\n\t\tconst iconStyle = props.iconStyle ? props.iconStyle : s.icon;\n\n\t\t// TODO: dynamic import\n\t\tconst icons = {\n\t\t\tfacebook: <Facebook class={iconStyle} />,\n\t\t\ttwitter: <Twitter class={iconStyle} />,\n\t\t\ttwitch: <Twitch class={iconStyle} />,\n\t\t\tinstagram: <Instagram class={iconStyle} />,\n\t\t\tyoutube: <Youtube class={iconStyle} />,\n\t\t\tsnapchat: <Snapchat class={iconStyle} />,\n\t\t\ttiktok: <Tiktok class={iconStyle} />,\n\t\t\tspotify: <Spotify class={iconStyle} />,\n\t\t\tpinterest: <Pinterest class={iconStyle} />,\n\t\t\tgiphy: <Giphy class={iconStyle} />,\n\t\t\ttumblr: <Tumblr class={iconStyle} />,\n\t\t\tvimeo: <Vimeo class={iconStyle} />,\n\t\t\temail: <Mail class={iconStyle} />,\n\t\t\tthreads: <Threads class={iconStyle} />,\n\t\t};\n\n\t\tconst entries = Object.entries(socials);\n\t\tconst accessibilityCopy = accessNested(Store.get(), 'appData.copy.accessibilityCopy', {});\n\t\tconst isRTL = accessNested(Store.get(), 'appData.styling.fontVariables.textDirection') === 'rtl';\n\t\treturn (\n\t\t\t<div class={joinClasses(s.socials, props.class, navOpen && s.navOpen)}>\n\t\t\t\t{sortObjectByOrder(socials).slice(0, 5).map(social => {\n\t\t\t\t\tconst id = entries.find(el => el[1].destination === social.destination)[0];\n\t\t\t\t\tlet icon = icons[id];\n\t\t\t\t\tif (!icon && social.iconURL) {\n\t\t\t\t\t\tconst iconSrc = (navOpen && social.iconNav) ? social.iconNav : social.iconURL;\n\t\t\t\t\t\ticon = <img class={s.icon} src={iconSrc} alt='' />;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclass={joinClasses(!props.iconStyle && s.social, s[id], isRTL && s.rtlSocial)}\n\t\t\t\t\t\t\thref={social.destination}\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\tonClick={()=> {Store.emit('CLICKED_FOLLOW', id);}}\n\t\t\t\t\t\t\tariaLabel={accessibilityCopy.$SOCIAL_ARIA.replace('<platform>', id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h } from 'preact';\nimport Store from 'store/store';\nimport { marked } from 'marked';\nimport { joinClasses, accessNested } from 'utils/utils';\nimport { useDynamicAssetFolder } from 'utils/assets';\nimport { navigateInternally } from 'utils/bolt';\nimport { smoothScrollTo } from 'utils/smoothScroll';\n\nimport Section from 'components/bolt/section/section';\nimport HTML from 'components/core/html/html';\nimport Gallery from 'components/bolt/gallery/gallery';\nimport Countdown from 'components/bolt/countdown/countdown';\n\nimport s from 'components/bolt/text/text.sss';\n\nmarked.setOptions({\n\tbreaks: true,\n\tsmartLists: true\n});\n\nexport default class Text extends Section {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.scrollOnHashChange = this.scrollOnHashChange.bind(this);\n\t\tthis.updateHash = this.updateHash.bind(this);\n\t\tthis.scrollToGallery = this.scrollToGallery.bind(this);\n\t\tthis.updateHashAndScrollToGallery = this.updateHashAndScrollToGallery.bind(this);\n\t\tthis.getPageWidth = this.getPageWidth.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.renderText = this.renderText.bind(this);\n\t\tthis.renderGallery = this.renderGallery.bind(this);\n\t\tthis.renderCountdown = this.renderCountdown.bind(this);\n\n\t\tlet text = props.appData?.pages?.[props.id]?.data?.text;\n\t\tthis.text = useDynamicAssetFolder(props.appData?.copy?.baseCopy?.[text] || text || '');\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('hashchange', this.scrollOnHashChange);\n\t\tconst elems = document.querySelectorAll('.galleryContentLink');\n\t\tif (elems) {\n\t\t\telems.forEach(item => {\n\t\t\t\tif (!item.id) return;\n\t\t\t\titem.addEventListener('click', () => this.updateHashAndScrollToGallery('#' + item.id));\n\t\t\t});\n\t\t}\n\t\tthis.scrollOnHashChange();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('hashchange', this.scrollOnHashChange);\n\t}\n\n\tscrollOnHashChange() {\n\t\tconst hash = typeof window !== 'undefined' && location.hash.slice(1);\n\t\tif (!hash) return;\n\t\tthis.scrollToGallery();\n\t}\n\n\tupdateHash(hash) {\n\t\tif (!hash) return;\n\t\twindow.location.hash = hash;\n\t}\n\n\tscrollToGallery() {\n\t\tconst offset = this.props.client.headerHeight || 60;\n\t\tconst mainScroll = document.getElementById('mainScroll');\n\t\tconst targetElem = document.getElementById(`${this.props.id}GalleryImageWrapper`);\n\t\tif (targetElem) {\n\t\t\tsmoothScrollTo(mainScroll, targetElem, 500, { offset });\n\t\t}\n\t}\n\n\tupdateHashAndScrollToGallery(hash) {\n\t\tthis.updateHash(hash);\n\t\tthis.scrollToGallery();\n\t}\n\n\tgetPageWidth(currentPage, section) {\n\t\tconst store = Store.get();\n\t\tconst deviceSize = accessNested(store, 'client.deviceSize', '');\n\t\tconst size = currentPage?.data?.size;\n\n\t\tif (!section || !size) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet width = size.mobile || '100%';\n\n\t\tif (deviceSize === 'largeDesktop') {\n\t\t\twidth = size.largeDesktop || '100%';\n\t\t} else if (deviceSize === 'desktop') {\n\t\t\twidth = size.desktop || '100%';\n\t\t} else if (deviceSize === 'smallDesktop') {\n\t\t\twidth = size.smallDesktop || '100%';\n\t\t} else if (deviceSize === 'tablet') {\n\t\t\twidth = size.tablet || '100%';\n\t\t}\n\n\t\tif (width.trim().endsWith('px') || width.trim().endsWith('%')) {\n\t\t\treturn width;\n\t\t}\n\n\t\treturn width.replace(/\\D/g, '') + 'px';\n\t}\n\n\tonClick(e) {\n\t\tlet internalLink = e.target.closest('a[href^=\"#$\"]');\n\t\tif (internalLink) {\n\t\t\te.preventDefault();\n\t\t\tlet page = internalLink.getAttribute('href').slice(2).trim();\n\t\t\tlet navOptions = {};\n\t\t\tif (page.includes('/?')) {\n\t\t\t\tlet [pageId, qs] = page.split('/?');\n\t\t\t\tpage = pageId;\n\t\t\t\tnavOptions.queryString = '?' + qs;\n\t\t\t}\n\t\t\tnavigateInternally(page, navOptions);\n\t\t}\n\t}\n\n\trenderText() {\n\t\treturn <HTML class={s.content} onClickCapture={this.onClick} content={this.text} markdown />;\n\t}\n\n\trenderGallery() {\n\t\tconst appData = accessNested(this.props.store, 'appData', {});\n\t\tconst client = accessNested(this.props.store, 'client', {});\n\t\treturn <Gallery appData={appData} client={client} id={this.props.id} isEmbeded />;\n\t}\n\n\ttrackButtonClick(label) {\n\t\tStore.emit('MOVIE_DETAILS_BUTTON_CLICK', 'countdown', label);\n\t}\n\n\n\trenderCountdown(countdown, position) {\n\t\tlet { hide, visible } = this.props;\n\t\tconst { targetDateTime, annotation, heading, timeZone = '0', ctaButton } = countdown;\n\t\tconst appData = this.props.appData;\n\t\tconst headerHeight = Store.get().client?.headerHeight || 0;\n\n\n\t\treturn (\n\t\t\t<div class={s.countdownTextWrapper}>\n\t\t\t\t<Countdown\n\t\t\t\t\tappData={appData}\n\t\t\t\t\theading={heading}\n\t\t\t\t\tannotation={annotation}\n\t\t\t\t\tdatetime={targetDateTime}\n\t\t\t\t\ttimeOffset={timeZone}\n\t\t\t\t\thidden={hide}\n\t\t\t\t\t// visible={visible}\n\t\t\t\t\tvisible\n\t\t\t\t\tposition={position}\n\t\t\t\t\theaderHeight={headerHeight}\n\t\t\t\t/>\n\t\t\t\t{ctaButton && (\n\t\t\t\t\t<a class={joinClasses(s.button, 'mediumB')} href={ctaButton?.link} target=\"_blank\" aria-label={ctaButton?.label} onClick={() => this.trackButtonClick(ctaButton.title)}>\n\t\t\t\t\t\t{ctaButton?.title}\n\t\t\t\t\t</a>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender({ store, id }) {\n\t\tconst currentPage = accessNested(store, `appData.pages.${id}`, {});\n\t\tconst section = accessNested(store, `appData.pages.${id}.section`,);\n\t\tconst headerHeight = accessNested(store, `client.headerHeight`, '');\n\t\tconst isDesktopWidth = accessNested(store, 'client.isDesktopWidth');\n\t\tconst hasGallery = accessNested(store, `appData.pages.${id}.data.gallery`, '');\n\t\tconst needsPushDown = !isDesktopWidth && !section;\n\t\tconst width = this.getPageWidth(currentPage, section);\n\t\tconst text = this.renderText();\n\t\tconst countdownClock = accessNested(store, `appData.pages.${id}.data.countdownClock`, null);\n\t\tconst countdownPos = countdownClock?.position || 'standard';\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.container, id, !section && s.dedicatedPage, countdownClock && s.hasCountdownClock)} data-section={id}>\n\t\t\t\t<div style={{ width, marginTop: needsPushDown ? `${headerHeight}px` : '0px' }} class={joinClasses(s.wrapper, currentPage.data.bg && s.noBg)}>\n\t\t\t\t\t{(countdownClock && countdownPos === 'top') && this.renderCountdown(countdownClock, countdownPos)}\n\t\t\t\t\t{this.renderBgContent()}\n\t\t\t\t\t{text}\n\t\t\t\t\t{this.renderOverlayedContent()}\n\t\t\t\t</div>\n\t\t\t\t{hasGallery && this.renderGallery()}\n\t\t\t\t{(countdownClock && countdownPos === 'standard') && this.renderCountdown(countdownClock, countdownPos)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h } from 'preact';\nimport Section from 'components/bolt/section/section';\nimport { navigateInternally } from 'utils/bolt';\nimport { sortObjectByOrder, joinClasses, debounce } from 'utils/utils';\nimport { smoothScrollTo } from 'utils/smoothScroll';\nimport s from 'components/bolt/toutHorizontal/toutHorizontal.sss';\nimport ArrowDown from 'components/bolt/icons/arrowDown';\nimport HTML from 'components/core/html/html';\nimport Store from 'store/store';\n\nconst DISPLAYED_TOUTS = 3;\n\nexport default class ToutHorizontal extends Section {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tusingScrollWheel: true,\n\t\t\ttouts: this.getTouts(props),\n\t\t};\n\n\t\tthis.onToutsContainerScroll = debounce(this.onToutsContainerScroll.bind(this), 20);\n\t\tthis.move = this.move.bind(this);\n\t\tthis.snapToClosestTout = this.snapToClosestTout.bind(this);\n\t\tthis.setUsingScrollWheel = this.setUsingScrollWheel.bind(this);\n\t\tthis.setNotUsingScrollWheel = this.setNotUsingScrollWheel.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.onToutsContainerScroll();\n\t\twindow.addEventListener('resize', this.onToutsContainerScroll);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.id !== this.props.id) {\n\t\t\tthis.setState({ touts: this.getTouts(nextProps) });\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.clearTimeout(this.snapTimeout);\n\t\twindow.removeEventListener('resize', this.onToutsContainerScroll);\n\t}\n\n\tgetTouts(props = this.props) {\n\t\tconst pageData = props?.appData?.pages?.[props.id]?.data;\n\t\treturn sortObjectByOrder(pageData?.carousel, (tout, key) => ({ ...tout, key }));\n\t}\n\n\tonToutsContainerScroll() {\n\t\tclearTimeout(this.snapTimeout);\n\t\tif (this.scrollingTo) {\n\t\t\treturn;\n\t\t}\n\t\tlet el = this.$toutsContainer;\n\t\tlet maxScroll = el.scrollWidth;\n\t\t// Elements are duplicated three times - keep the scroll in the middle third to be able to scroll left and right\n\t\tlet repeatingSize = maxScroll / 3;\n\t\tif (el.scrollLeft < repeatingSize) {\n\t\t\tel.scrollLeft += repeatingSize;\n\t\t} else if (el.scrollLeft > maxScroll - repeatingSize) {\n\t\t\tel.scrollLeft -= repeatingSize;\n\t\t}\n\t\tif (this.state.usingScrollWheel) {\n\t\t\tthis.snapTimeout = setTimeout(this.snapToClosestTout, 500);\n\t\t}\n\t}\n\n\tgetClosestChild(parent, position) {\n\t\tlet closest;\n\t\tlet closestDist = Infinity;\n\t\tlet scroll = parent.scrollLeft;\n\t\t[...parent.children].find(el => {\n\t\t\tlet elCenter = el.offsetLeft + el.offsetWidth * .5 - scroll;\n\t\t\tlet dist = Math.abs(elCenter - position);\n\t\t\tif (dist >= closestDist) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tclosest = el;\n\t\t\tclosestDist = dist;\n\t\t});\n\t\treturn closest;\n\t}\n\n\tonClick(e) {\n\t\tlet link = e.target.closest('a');\n\t\tif (!link) {\n\t\t\treturn;\n\t\t}\n\t\tlet href = link.getAttribute('href');\n\t\tif (href.startsWith('#$')) {\n\t\t\te.preventDefault();\n\t\t\tlet page = href.slice(2).trim();\n\t\t\tlet navOptions = {};\n\t\t\tif (page.includes('/?')) {\n\t\t\t\tlet [pageId, qs] = page.split('/?');\n\t\t\t\tpage = pageId;\n\t\t\t\tnavOptions.queryString = '?' + qs;\n\t\t\t}\n\t\t\tnavigateInternally(page, navOptions);\n\t\t}\n\t\tlet trackAction = link.getAttribute('data-track-action');\n\t\tif (trackAction) {\n\t\t\twindow.firePowsterCustomEvent?.(trackAction, link.getAttribute('data-track-category') || 'tout', link.getAttribute('data-track-label'));\n\t\t}\n\t}\n\n\tscrollTo(destination, checkScrollPositionAfter) {\n\t\tif (!destination) {\n\t\t\treturn;\n\t\t}\n\t\tclearTimeout(this.snapTimeout);\n\t\tsmoothScrollTo(\n\t\t\tthis.$toutsContainer,\n\t\t\tdestination,\n\t\t\t200,\n\t\t\t{\n\t\t\t\tdirection: 'horizontal',\n\t\t\t\trelativeTo: 'middle',\n\t\t\t\tcallback: () => {\n\t\t\t\t\tthis.scrollingTo = null;\n\t\t\t\t\tif (checkScrollPositionAfter) {\n\t\t\t\t\t\tsetTimeout(this.onToutsContainerScroll, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\tthis.scrollingTo = destination;\n\t}\n\n\tsnapToClosestTout() {\n\t\tlet container = this.$toutsContainer;\n\t\tthis.scrollTo(this.getClosestChild(container, container.offsetWidth * .5));\n\t}\n\n\tsetUsingScrollWheel() {\n\t\tthis.setState({ usingScrollWheel: true });\n\t}\n\tsetNotUsingScrollWheel() {\n\t\tthis.setState({ usingScrollWheel: false });\n\t}\n\n\tmove(direction) {\n\t\tlet el = this.$toutsContainer;\n\t\tif (!el) {\n\t\t\treturn;\n\t\t}\n\t\tlet currentElement = this.scrollingTo || this.getClosestChild(el, el.offsetWidth * .5);\n\t\tif (!currentElement) {\n\t\t\treturn;\n\t\t}\n\t\tthis.scrollTo(direction < 0 ? currentElement.previousElementSibling : currentElement.nextElementSibling, true);\n\t}\n\n\ttrackToutClick(data) {\n\t\tStore.emit('TOUT_CLICK', 'horizontal', 'tout', `${data?.title} - ${data?.button}`);\n\t}\n\ttriggerButtonClick(data) {\n\t\tconst { path } = data;\n\t\tthis.trackToutClick(data);\n\t\tnavigateInternally(path, { animate: true });\n\t}\n\n\trenderTout(data, index, keySuffix) {\n\t\tconst { title, description, src, alt, button } = data;\n\t\tconst imageOnly = !title && !description && !button;\n\n\t\tlet buttonElement;\n\t\tif (button) {\n\t\t\tif (/^(https?:)?\\/\\//.test(data.path) || /^mailto:/.test(data.path)) {\n\t\t\t\tbuttonElement = (\n\t\t\t\t\t<a class={joinClasses(s.button, 'mediumB')} href={data.path} target={!data.sameWindow && '_blank'} onClick={() => this.trackToutClick(data)}>\n\t\t\t\t\t\t{button}\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tbuttonElement = (\n\t\t\t\t\t<button class={joinClasses(s.button, 'mediumB')} onClick={() => this.triggerButtonClick(data)}>\n\t\t\t\t\t\t{button}\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={s.tout} key={(data.key || index) + (keySuffix || '')}>\n\t\t\t\t<div class={s.toutContent}>\n\t\t\t\t\t<div class={s.toutStuff}>\n\t\t\t\t\t\t{src && <img crossOrigin=\"anonymous\" class={joinClasses(s.image, imageOnly && s.imageOnly)} alt={alt} src={src} />}\n\t\t\t\t\t\t{title && <HTML tag=\"h3\" markdown onClickCapture={this.onClick} content={title} class={joinClasses(s.toutTitle, 'largeB')} />}\n\t\t\t\t\t\t{description && (\n\t\t\t\t\t\t\t<HTML\n\t\t\t\t\t\t\t\ttag=\"h4\"\n\t\t\t\t\t\t\t\tmarkdown\n\t\t\t\t\t\t\t\tcontent={description}\n\t\t\t\t\t\t\t\tclass={joinClasses(s.toutDescription, s.showGradient, button && s.flex, 'large')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{buttonElement}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderTouts() {\n\t\tconst { touts } = this.state;\n\t\tconst tooManyTouts = touts.length > DISPLAYED_TOUTS;\n\n\t\tlet content = touts.map((tout, index) => this.renderTout(tout, index));\n\t\tif (tooManyTouts || this.props.client?.deviceWidthSize === 'mobile' && touts.length > 1) {\n\t\t\t// Render duplicate items for infinite scrolling\n\t\t\tcontent.push(\n\t\t\t\t...touts.map((tout, index) => this.renderTout(tout, index, 'duplicate1')),\n\t\t\t\t...touts.map((tout, index) => this.renderTout(tout, index, 'duplicate2')),\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={s.toutsWrapper}>\n\t\t\t\t<div\n\t\t\t\t\tclass={s.toutsContainer}\n\t\t\t\t\tonScroll={this.onToutsContainerScroll}\n\t\t\t\t\tonMouseWheel={this.setUsingScrollWheel}\n\t\t\t\t\tonTouchStart={this.setNotUsingScrollWheel}\n\t\t\t\t\tonKeyDown={this.setNotUsingScrollWheel}\n\t\t\t\t\tref={e => this.$toutsContainer = e}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</div>\n\t\t\t\t{tooManyTouts && this.renderArrows()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderArrows() {\n\t\treturn (\n\t\t\t<div class={s.arrows}>\n\t\t\t\t<button class={joinClasses(s.arrow, s.left)} onClick={() => this.move(-1)}>\n\t\t\t\t\t<ArrowDown />\n\t\t\t\t</button>\n\t\t\t\t<button class={joinClasses(s.arrow, s.right)} onClick={() => this.move(1)}>\n\t\t\t\t\t<ArrowDown />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender({ id }) {\n\t\tconst pageData = this.props?.appData?.pages[this.props.id].data || {};\n\n\t\tconst { title, description } = pageData;\n\t\tconst isSection = this.props?.appData?.pages[id].section || false;\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.wrapper, isSection && s.section, this.state.usingScrollWheel && s.usingScrollWheel)} data-section={id}>\n\t\t\t\t{this.renderBgContent()}\n\t\t\t\t{title && <HTML tag=\"h1\" markdown onClickCapture={this.onClick} content={title} class={joinClasses(s.title, 'h3')} />}\n\t\t\t\t{description && <HTML tag=\"h2\" markdown content={description} class={joinClasses(s.description, 'xlarge')} />}\n\t\t\t\t{this.renderTouts()}\n\t\t\t\t{this.renderOverlayedContent()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport Store from 'store/store';\nimport isShallowEqual from 'shallow-equals';\nimport s from 'components/bolt/videos/player.sss';\nimport Youtube from 'components/bolt/youtube/youtube';\nimport Vimeo from 'components/bolt/vimeo/vimeo';\nimport NativeVideo from 'components/bolt/nativeVideo/nativeVideo';\nimport Matterhorn from 'components/bolt/matterhorn/matterhorn';\nimport { joinClasses } from 'utils/utils';\n\nexport default class VideoPlayer extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.hideLoader = this.hideLoader.bind(this);\n\t\tthis.showLoader = this.showLoader.bind(this);\n\t\tthis.toggleLoader = this.toggleLoader.bind(this);\n\t\tthis.onReady = this.onReady.bind(this);\n\n\t\tthis.disableYoutubeCookieCheck = Store.get().appData?.options?.disableYoutubeCookieCheck;\n\t}\n\n\tshouldComponentUpdate(nextProps) {\n\t\treturn !isShallowEqual(nextProps.activeVideo, this.props.activeVideo)\n\t\t\t|| this.props.hiddenPlaylist !== nextProps.hiddenPlaylist\n\t\t\t|| !isShallowEqual(nextProps.ageGateProtected, this.props.ageGateProtected)\n\t\t\t|| nextProps.extraClass !== this.props.extraClass;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.activeVideo !== this.props.activeVideo) {\n\t\t\tthis.showLoader();\n\t\t}\n\n\t\tif (!this.props.ageGateProtected && prevProps.ageGateProtected && !this.props.noAutoplay) {\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\tplay() {\n\t\tthis.player?.play();\n\t}\n\tget duration() {\n\t\treturn this.player?.duration || 0;\n\t}\n\n\ttoggleLoader(show) {\n\t\tif (typeof show !== 'boolean') {\n\t\t\tshow = !this.state.showLoader;\n\t\t}\n\t\tthis.setState({ showLoader: show });\n\t}\n\n\tshowLoader() {\n\t\tthis.toggleLoader(true);\n\t}\n\n\thideLoader() {\n\t\tthis.toggleLoader(false);\n\t}\n\n\tonReady() {\n\t\tthis.hideLoader();\n\t\tif (this.props.onLoaded) {\n\t\t\tthis.props.onLoaded();\n\t\t}\n\t}\n\n\trenderVideo() {\n\t\tconst {\n\t\t\tactiveVideo,\n\t\t\tonEnded, onStart, onPlay, onPause,\n\t\t\toverrideStyles,\n\t\t\tnoAutoplay, muted,\n\t\t\tisShowtimesMessage,\n\t\t\tisTrailerOverlay,\n\t\t\tageGateProtected\n\t\t} = this.props;\n\n\t\tif (!activeVideo) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst autoplay = !(noAutoplay || activeVideo.noAutoplay || ageGateProtected);\n\n\t\tif (activeVideo.youtubeId) {\n\t\t\treturn (\n\t\t\t\t<Youtube\n\t\t\t\t\tref={ref => this.player = ref}\n\t\t\t\t\tvideoId={activeVideo.youtubeId}\n\t\t\t\t\tonEnded={onEnded}\n\t\t\t\t\tonStart={onStart}\n\t\t\t\t\tonPlay={onPlay}\n\t\t\t\t\tonPause={onPause}\n\t\t\t\t\tonPlayerReady={this.onReady}\n\t\t\t\t\tautoplay={autoplay}\n\t\t\t\t\tisShowtimesMessage={isShowtimesMessage}\n\t\t\t\t\tnoCookies={activeVideo.noCookies && activeVideo.noCookies !== 'Cookie Mode'}\n\t\t\t\t\tdisableCookieCheck={this.disableYoutubeCookieCheck}\n\t\t\t\t\tisTrailerOverlay={isTrailerOverlay}\n\t\t\t\t\tisTrailer={activeVideo.isTrailer}\n\t\t\t\t\tkey={`youtube-${activeVideo.youtubeId}`}\n\t\t\t\t\tmuted={muted}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif (activeVideo.vimeoId) {\n\t\t\treturn (\n\t\t\t\t<Vimeo\n\t\t\t\t\tref={ref => this.player = ref}\n\t\t\t\t\tvideoId={activeVideo.vimeoId}\n\t\t\t\t\tvideoHash={activeVideo.vimeoHash}\n\t\t\t\t\tautoplay={autoplay}\n\t\t\t\t\tonEnded={onEnded}\n\t\t\t\t\tonPlayerReady={this.onReady}\n\t\t\t\t\tisShowtimesMessage={isShowtimesMessage}\n\t\t\t\t\tisTrailerOverlay={isTrailerOverlay}\n\t\t\t\t\tisTrailer={activeVideo.isTrailer}\n\t\t\t\t\tkey={`vimeo-${activeVideo.vimeoId}`}\n\t\t\t\t\tmuted={muted}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif (activeVideo.videoSrc) {\n\t\t\treturn (\n\t\t\t\t<NativeVideo\n\t\t\t\t\tref={ref => this.player = ref}\n\t\t\t\t\tactiveVideo={activeVideo}\n\t\t\t\t\tautoplay={autoplay}\n\t\t\t\t\tonEnded={onEnded}\n\t\t\t\t\tcanPlayCallback={this.onReady}\n\t\t\t\t\tisShowtimesMessage={isShowtimesMessage}\n\t\t\t\t\tisTrailerOverlay={isTrailerOverlay}\n\t\t\t\t\tisTrailer={activeVideo.isTrailer}\n\t\t\t\t\tkey={`nativeVideo-${activeVideo.videoSrc}`}\n\t\t\t\t\toverrideStyles={overrideStyles}\n\t\t\t\t\tmuted={muted}\n\t\t\t\t\tuseTracking\n\t\t\t\t/>\n\t\t\t);\n\t\t} else if (activeVideo.disneySrc) {\n\t\t\treturn (\n\t\t\t\t<Matterhorn\n\t\t\t\t\tref={ref => this.player = ref}\n\t\t\t\t\tactiveVideo={activeVideo}\n\t\t\t\t\tautoplay={autoplay}\n\t\t\t\t\tisShowtimesMessage={isShowtimesMessage}\n\t\t\t\t\tisTrailerOverlay={isTrailerOverlay}\n\t\t\t\t\tisTrailer={activeVideo.isTrailer}\n\t\t\t\t\tonPlayerReady={this.onReady}\n\t\t\t\t\tkey={`matterhorn-${activeVideo.disneySrc}`}\n\t\t\t\t\tmuted={muted}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\trender(props) {\n\t\tlet { overrideStyles, hiddenPlaylist, extraClass } = props;\n\t\tlet { showLoader } = this.state;\n\n\t\treturn (\n\t\t\t<div class={joinClasses(!overrideStyles && s.container, hiddenPlaylist && s.hiddenPlaylist, extraClass)}>\n\t\t\t\t<div class={s.keepAspectRatio}>\n\t\t\t\t\t<div class={joinClasses(s.loader, showLoader && s.visible)} ref={ref => this.loader = ref}>\n\t\t\t\t\t\t<div class={s.spinner} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.renderVideo()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\nimport { once } from 'utils/utils';\nimport Store from 'store/store';\nimport s from 'components/bolt/vimeo/vimeo.sss';\n\nexport default class Vimeo extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onLoad = once(this.onLoad.bind(this));\n\t\tthis.onEnded = once(this.onEnded.bind(this));\n\t\tthis.onProgress = this.onProgress.bind(this);\n\n\t\tthis.progressTracking = {};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { videoId } = this.props;\n\t\tthis.initVimeo(videoId);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (!this.player) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.player.off('loaded');\n\t\tthis.player.off('timeupdate');\n\t\tthis.player.off('ended');\n\t\tthis.player.destroy();\n\t}\n\n\tinitVimeo(videoId) {\n\t\tif (typeof window === 'undefined') {\n\t\t\treturn;\n\t\t}\n\t\tif (window.Vimeo && window.Vimeo.Player) {\n\t\t\treturn this.loadPlayer(videoId);\n\t\t}\n\t\tif (!window.VimeoLoader) {\n\t\t\twindow.VimeoLoader = new Promise((resolve, reject) => {\n\t\t\t\tconst tag = document.createElement('script');\n\t\t\t\ttag.src = 'https://player.vimeo.com/api/player.js';\n\t\t\t\tdocument.body.appendChild(tag);\n\t\t\t\ttag.onload = resolve;\n\t\t\t\ttag.onerror = reject;\n\t\t\t});\n\t\t}\n\t\treturn window.VimeoLoader.then(() => {\n\t\t\tthis.loadPlayer(videoId);\n\t\t});\n\t}\n\n\tloadPlayer(videoId) {\n\t\tconst vimeoIframe = document.getElementById(videoId);\n\n\t\tif(!vimeoIframe) return;\n\n\t\tthis.player = new window.Vimeo.Player(vimeoIframe);\n\t\tthis.player.on('loaded', this.onLoad);\n\t\tthis.player.on('ended', this.onEnded);\n\t\tthis.player.on('timeupdate', this.onProgress);\n\t}\n\n\tonLoad() {\n\t\tconst { autoplay, onPlayerReady } = this.props;\n\t\tif (typeof onPlayerReady === 'function') {\n\t\t\tonPlayerReady();\n\t\t}\n\t\tif (autoplay) {\n\t\t\tthis.player.play();\n\t\t}\n\t}\n\n\tonEnded() {\n\t\tconst { onEnded } = this.props;\n\t\tif (onEnded) {\n\t\t\tonEnded();\n\t\t}\n\t}\n\n\tonProgress({ percent }) {\n\t\tlet step = [0, 25, 50, 75, 95].find(step => percent > (step / 100) && !this.progressTracking[step]);\n\n\t\tif (step || step === 0) {\n\t\t\tthis.progressTracking[step] = true;\n\t\t\tStore.emit('VIDEO_PLAYER_PROGRESS', {\n\t\t\t\tstep,\n\t\t\t\tvideo: this.props.videoId,\n\t\t\t\tplatform: 'vimeo',\n\t\t\t\tisShowtimesMessage: this.props.isShowtimesMessage,\n\t\t\t\tisTrailerOverlay: this.props.isTrailerOverlay,\n\t\t\t\tisTrailer: this.props.isTrailer\n\t\t\t});\n\t\t}\n\t}\n\n\trender(props) {\n\t\tconst { videoId, videoHash } = props;\n\n\t\treturn (\n\t\t\t<iframe\n\t\t\t\tid={videoId}\n\t\t\t\thash={videoHash}\n\t\t\t\tsrc={`https://player.vimeo.com/video/${videoId}?h=${videoHash}`}\n\t\t\t\tframeborder=\"0\"\n\t\t\t\tallow=\"autoplay\"\n\t\t\t\tfullscreen\n\t\t\t\tallowfullscreen\n\t\t\t/>\n\t\t);\n\t}\n}","import { h, Component } from 'preact';\nimport { joinClasses, accessNested } from 'utils/utils';\nimport Store from 'store/store';\nimport * as oneTrust from 'utils/gdpr/oneTrust';\nimport s from 'components/bolt/youtube/youtube.sss';\n\nclass Youtube extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.progressTracking = {};\n\t\tthis.updateInstanceCounter = 0;\n\t\tthis.started = false;\n\t\tthis.getProgress = this.getProgress.bind(this);\n\t\tthis.onPlayerReady = this.onPlayerReady.bind(this);\n\t\tthis.onPlayerStateChange = this.onPlayerStateChange.bind(this);\n\n\t\tlet appData = Store.get().appData;\n\t\tthis.usesEvidon = appData?.options?.requireUserConsent?.companyId;\n\t\tthis.usesOneTrust = appData?.options?.oneTrustCookieConsent?.scripts || appData?.options?.oneTrustCookieConsent?.configuredFromExternalScript;\n\t\tthis.usesPowCookieBanner = appData?.options?.cookiesModal?.enableModal;\n\t\tthis.needsCookieCheck = this.usesEvidon || this.usesOneTrust || this.usesPowCookieBanner;\n\t\t// if (this.props.noCookies) {\n\t\t// \tthis.usesOneTrust = false;\n\t\t// \tthis.usesPowCookieBanner = false;\n\t\t// \tthis.needsCookieCheck = false;\n\t\t// }\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.blocked = this.shouldBlockRender();\n\t\tif (!this.blocked) {\n\t\t\tthis.initYoutube();\n\t\t} else {\n\t\t\tthis.props.onPlayerReady();\n\t\t}\n\t}\n\t\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst wasBlockedBefore = this.blocked;\n\t\tthis.blocked = this.shouldBlockRender();\n\n\t\t// blocked -> unblocked (or video change while unblocked)\n\t\tconst videoIdChanged = prevProps.videoId !== this.props.videoId;\n\t\tif (!this.blocked && (wasBlockedBefore || videoIdChanged)) {\n\t\t\tthis.initYoutube();\n\t\t}\n\n\t\t// unblocked -> blocked\n\t\tif (this.blocked && !wasBlockedBefore && this.player) {\n\t\t\tthis.player.destroy();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.progressUpdate);\n\t\tclearInterval(this.readyTimeout);\n\t\tthis.unmounted = true;\n\t\tif (this.player) {\n\t\t\tthis.player.destroy();\n\t\t}\n\t}\n\n\tshouldBlockRender() {\n\t\treturn this.needsCookieCheck && !this.state.oneTrustAllowed;\n\t}\n\n\tplay() {\n\t\tif (this.player && this.player.playVideo) {\n\t\t\tthis.player.playVideo();\n\t\t}\n\t}\n\n\tpause() {\n\t\tif (this.player && this.player.pauseVideo) {\n\t\t\tthis.player.pauseVideo();\n\t\t}\n\t}\n\n\tget duration() {\n\t\tif (this.player && this.player.getDuration) {\n\t\t\treturn this.player.getDuration();\n\t\t}\n\t\treturn 0;\n\t}\n\n\tinitYoutube() {\n\t\tconst { videoId } = this.props;\n\t\tif (typeof window === 'undefined') {\n\t\t\treturn;\n\t\t}\n\t\tif (window.YT && (window.YT.Player || window.YT.loaded === 0)) {\n\t\t\treturn window.YT.ready(() => this.loadPlayer(videoId));\n\t\t}\n\t\tif (!window.YTLoader) {\n\t\t\twindow.YTLoader = new Promise(resolve => {\n\t\t\t\t// window.onYouTubeIframeAPIReady = () => setTimeout(resolve, 0);\n\t\t\t\twindow.onYouTubeIframeAPIReady = () => window.YT.ready(resolve);\n\t\t\t\tconst tag = document.createElement('script');\n\t\t\t\ttag.src = 'https://www.youtube.com/iframe_api';\n\t\t\t\tdocument.body.appendChild(tag);\n\t\t\t});\n\t\t}\n\n\t\tlet instanceCounter = ++this.updateInstanceCounter;\n\n\t\treturn window.YTLoader.then(() => {\n\t\t\tif (this.unmounted || instanceCounter !== this.updateInstanceCounter) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.loadPlayer(videoId);\n\t\t});\n\t}\n\n\tloadPlayer(videoId) {\n\t\tif (!videoId || !this.$ytPlayer) {\n\t\t\treturn;\n\t\t}\n\t\tlet existingTarget = document.querySelector('.elementForYTiframe');\n\t\tif (existingTarget) {\n\t\t\texistingTarget.parentNode.removeChild(existingTarget);\n\t\t}\n\n\t\tlet target = document.createElement('div');\n\t\ttarget.setAttribute('key', videoId);\n\t\ttarget.setAttribute('class', 'elementForYTiframe');\n\t\tthis.$ytPlayer.appendChild(target);\n\n\t\tlet ready = false;\n\t\tconst onReady = () => {\n\t\t\tif (ready) return;\n\t\t\tready = true;\n\t\t\tthis.onPlayerReady();\n\t\t};\n\t\t// We sometimes don't get the ready event for some reason - add a timeout\n\t\tclearTimeout(this.readyTimeout);\n\t\tthis.readyTimeout = setTimeout(onReady, 5000);\n\t\tthis.player = new window.YT.Player(target, {\n\t\t\theight: '100%',\n\t\t\twidth: '100%',\n\t\t\tvideoId: videoId,\n\t\t\thost: this.props.noCookies && 'https://www.youtube-nocookie.com',\n\t\t\tevents: {\n\t\t\t\tonReady: onReady,\n\t\t\t\tonStateChange: this.onPlayerStateChange\n\t\t\t},\n\t\t\tplayerVars: {\n\t\t\t\trel: 0,\n\t\t\t\tenablejsapi: 1\n\t\t\t}\n\t\t});\n\t}\n\n\tonPlayerReady() {\n\t\tconst { autoplay, muted } = this.props;\n\t\tthis.progressUpdate = setInterval(this.getProgress, 50);\n\t\tif (autoplay) {\n\t\t\tthis.player?.playVideo?.();\n\t\t}\n\t\tif (typeof this.props.onPlayerReady === 'function') {\n\t\t\tthis.props.onPlayerReady();\n\t\t}\n\t\tif (muted) {\n\t\t\tthis.player?.mute();\n\t\t} else {\n\t\t\tthis.player?.unMute?.();\n\t\t}\n\t}\n\n\tgetProgress() {\n\t\tif (!this.player?.getCurrentTime) {\n\t\t\treturn;\n\t\t}\n\t\tconst currentTime = this.player.getCurrentTime();\n\t\tconst videoLength = this.player.getDuration();\n\t\tconst progress = currentTime / videoLength;\n\n\t\tlet step = [0, 25, 50, 75, 95, 100].find(step => progress >= (step / 100) && !this.progressTracking[step]);\n\t\tif (step || step === 0) {\n\t\t\tthis.progressTracking[step] = true;\n\t\t\tconst videoData = this.player.getVideoData();\n\n\t\t\tStore.emit('VIDEO_PLAYER_PROGRESS', {\n\t\t\t\tplatform: 'youtube',\n\t\t\t\tvideo: this.props.videoId,\n\t\t\t\tstep,\n\t\t\t\ttime: currentTime,\n\t\t\t\tvideoLength,\n\t\t\t\tisShowtimesMessage: this.props.isShowtimesMessage,\n\t\t\t\tisTrailerOverlay: this.props.isTrailerOverlay,\n\t\t\t\tisTrailer: this.props.isTrailer,\n\t\t\t\tvideoTitle: videoData?.title\n\t\t\t});\n\t\t}\n\n\t\tif (typeof this.props.onProgress === 'function') {\n\t\t\tthis.props.onProgress(progress, currentTime, videoLength);\n\t\t}\n\t}\n\n\tonPlayerStateChange(e) {\n\t\tconst { onEnded, onStart, onPause, onPlay, onStateChange } = this.props;\n\t\tif (typeof onStateChange === 'function') {\n\t\t\tonStateChange(e);\n\t\t}\n\t\tif (e.data === 0 && typeof onEnded === 'function') {\n\t\t\tonEnded();\n\t\t}\n\t\tif (e.data === 1) {\n\t\t\tif (!this.started && typeof onStart === 'function') {\n\t\t\t\tonStart();\n\t\t\t}\n\t\t\tif (typeof onPlay === 'function') {\n\t\t\t\tonPlay();\n\t\t\t}\n\t\t\tthis.started = true;\n\t\t}\n\t\tif (e.data === 2) {\n\t\t\tif (typeof onPause === 'function') {\n\t\t\t\tonPause();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetShowCookieSettingsFunction() {\n\t\tif (this.usesEvidon) return () => window.evidon.notice.showPreferencesDialog();\n\t\tif (this.usesOneTrust) return () => Store.emit('ONETRUST_SHOW');\n\t\tif (this.usesPowCookieBanner) return () => Store.emit('COOKIE_PREFERENCES_OPEN');\n\t}\n\n\n\trenderBlocked() {\n\t\tconst copy = Store.get().appData?.copy?.baseCopy;\n\t\tlet prompt = (this.props.noCookies && copy.$VIDEOS_COOKIES_FUNCTIONAL) || copy.$VIDEOS_COOKIES;\n\t\tlet showCookieSettings = this.getShowCookieSettingsFunction();\n\n\t\treturn (\n\t\t\t<div class={joinClasses(s.wrapper, this.props.responsiveResize && s.responsiveResize)} key=\"blocked-wrapper\">\n\t\t\t\t<div class={s.prompt}>{prompt}</div>\n\t\t\t\t{showCookieSettings && <button id=\"youtubeCookieSettings\" class={s.cta} onClick={showCookieSettings}>{copy.$VIDEOS_COOKIES_SETTINGS}</button>}\n\t\t\t</div>\n\t\t);\n\t}\n\trenderPlayer() {\n\t\treturn <div className={this.props.responsiveResize && s.responsiveResize} ref={$ref => this.$ytPlayer = $ref} key=\"player\" />;\n\t}\n\trender() {\n\t\treturn this.shouldBlockRender() ? this.renderBlocked() : this.renderPlayer();\n\t}\n}\n\nexport default oneTrust.connectToOneTrust(props => props.disableCookieCheck || (props.noCookies ? oneTrust.FUNCTIONAL : oneTrust.TARGETING), Youtube);\n","import { h, Component } from 'preact';\nimport pure from 'utils/pure';\nimport { marked } from 'marked';\n\nconst getNewTabRenderer = (() => {\n\tlet newTabRenderer;\n\treturn () => {\n\t\tif (newTabRenderer) {\n\t\t\treturn newTabRenderer;\n\t\t}\n\t\tnewTabRenderer = new marked.Renderer();\n\t\tlet defaultLinkRenderer = newTabRenderer.link;\n\t\tnewTabRenderer.link = (href, title, text) => {\n\t\t\tlet html = defaultLinkRenderer.call(newTabRenderer, href, title, text);\n\t\t\tif (html) {\n\t\t\t\thtml = html.replace(/^<a /, '<a target=\"_blank\" ');\n\t\t\t}\n\t\t\treturn html;\n\t\t};\n\t\treturn newTabRenderer;\n\t};\n})();\n\nexport default @pure class HTML extends Component {\n\n\trender(props) {\n\t\tlet {\n\t\t\ttag: HTMLTag = 'div',\n\t\t\tcontent,\n\t\t\tmarkdown,\n\t\t\tmarkdownOptions,\n\t\t\tchildren,\n\t\t\t// removeComments,\n\t\t\tforceNewTabLinks,\n\t\t\t...extraProps\n\t\t} = props;\n\n\t\tcontent = (content || children[0] || '') + '';\n\t\t// if (removeComments) {\n\t\t// \t// This regex will look for any single comments starting with '//'\n\t\t// \t// and replace all characters up to the end of that line with an empty string.\n\t\t// \t// It will also search for multiline comments (wrapped with /* */) and remove them as well\n\t\t// \t// Bit risky in case we want to actually use /* or // in a copy. No way to escape it\n\t\t// \tcontent = content.replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(^\\/\\/(.*)$)/gm, '');\n\t\t// }\n\n\t\tif (markdown) {\n\t\t\tlet options = { ...markdownOptions };\n\t\t\tif (forceNewTabLinks) {\n\t\t\t\toptions.renderer = getNewTabRenderer();\n\t\t\t}\n\t\t\tcontent = marked(content, options);\n\t\t}\n\n\t\treturn <HTMLTag {...extraProps} dangerouslySetInnerHTML={{ __html: content }} />;\n\t}\n\n}\n","import { h, Component } from 'preact';\nimport * as transitionStates from './transitionStates';\n// import isShallowEqual from 'shallow-equals';\nimport { joinClasses } from 'utils/utils';\nimport pendingPromise from 'utils/pendingPromise';\n\nimport s from 'components/core/transition/transition.sss';\n\nconst isServer = typeof window === 'undefined';\n\n/**\n* Transition between children changing\n* All the children involved should have an id or key set as a property!\n* @prop {string} class - The class on the transitionWrapper\n* @prop {Number} duration[!] - The duration for the whole transitionWrapper\n* @prop {string} enteringClass - Extra class added when child is entering\n* @prop {string} leavingClass - Extra class added when child is leaving\n* @prop {string} visibleClass - Extra class added when child is visible\n* @prop {string} emptyClass - Extra class added once child has left\n*/\nexport default class Transition extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet childGenerator = this.getChildGenerator(props);\n\t\t// let children = childGenerator();\n\n\t\tlet initialState = {\n\t\t\tfirstChild: childGenerator,\n\t\t\tfirstChildState: transitionStates.STATE_CHILD_ENTERING,\n\t\t\tsecondChild: null,\n\t\t\tsecondChildState: transitionStates.STATE_CHILD_EMPTY,\n\t\t\tupcomingChild: childGenerator\n\t\t};\n\n\t\tlet disableInit = this.props.noInitialTransition;\n\t\tif (disableInit) {\n\t\t\tinitialState.firstChildState = transitionStates.STATE_CHILD_VISIBLE;\n\t\t}\n\t\tthis.state = initialState;\n\n\t\tif (!disableInit) {\n\t\t\tthis.setTimer(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tfirstChildState: this.getNextStep('firstChild', this.state.firstChildState)\n\t\t\t\t});\n\t\t\t}, props.duration / 2);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps({ waitBeforeNext, ...props }) {\n\t\tlet childGenerator = this.getChildGenerator(props);\n\t\tlet child = childGenerator();\n\n\t\tconst newChildId = this.getId(child);\n\t\tconst oldChildId = this.getId(this.state.upcomingChild());\n\n\t\tif (newChildId !== oldChildId) {\n\t\t\tthis.setState({ upcomingChild: childGenerator });\n\t\t\tlet firstVisible = this.state.firstChildState === transitionStates.STATE_CHILD_VISIBLE;\n\t\t\tlet secondVisible = this.state.secondChildState === transitionStates.STATE_CHILD_VISIBLE;\n\t\t\tif (!waitBeforeNext || firstVisible || secondVisible) {\n\t\t\t\tthis.goToNextPage();\n\t\t\t} else {\n\t\t\t\tthis.afterTimer = this.goToNextPage;\n\t\t\t}\n\t\t} else {\n\t\t\t// Update the current child so it gets it new props\n\t\t\tif (this.state.firstChild && this.getId(this.state.firstChild()) === newChildId) {\n\t\t\t\tthis.setState({ firstChild: childGenerator });\n\t\t\t}\n\t\t\tif (this.state.secondChild && this.getId(this.state.secondChild()) === newChildId) {\n\t\t\t\tthis.setState({ secondChild: childGenerator });\n\t\t\t}\n\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.renderDone?.resolve();\n\t\tthis.renderDone = null;\n\t}\n\n\tgetChildGenerator(props) {\n\t\treturn typeof props.renderChildren === 'function' ? props.renderChildren : () => props.children[0];\n\t}\n\n\tgetId(vNode) {\n\t\treturn vNode?.attributes?.id || vNode?.attributes?.key;\n\t}\n\n\tgetStyles = () => {\n\t\treturn {\n\t\t\t'transition-duration': (this.props.duration / 2) + 'ms',\n\t\t\t'animation-duration': (this.props.duration / 2) + 'ms'\n\t\t};\n\t};\n\n\tasync goToNextPage() {\n\t\tthis.endTimer();\n\n\t\tconst {\n\t\t\tfirstChild,\n\t\t\tsecondChild,\n\t\t\tupcomingChild,\n\t\t\tfirstChildState,\n\t\t\tsecondChildState\n\t\t} = this.state;\n\n\t\t// Ugly quickfix to prevent same -> same transition\n\t\tconst firstChildVisible = firstChildState === transitionStates.STATE_CHILD_VISIBLE;\n\t\tconst secondChildVisible = secondChildState === transitionStates.STATE_CHILD_VISIBLE;\n\n\n\t\tif (firstChildVisible && this.getId(upcomingChild()) === this.getId(firstChild()) ||\n\t\t\tsecondChildVisible && this.getId(upcomingChild()) === this.getId(secondChild())) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tfirstChildState: this.getNextStep('firstChild', firstChildState),\n\t\t\tsecondChildState: this.getNextStep('secondChild', secondChildState)\n\t\t});\n\t\tlet next = () => {\n\t\t\tthis.setState({\n\t\t\t\tfirstChildState: this.getNextStep('firstChild', this.state.firstChildState),\n\t\t\t\tsecondChildState: this.getNextStep('secondChild', this.state.secondChildState)\n\t\t\t});\n\t\t};\n\n\t\tthis.renderDone?.resolve();\n\t\tthis.renderDone = pendingPromise();\n\t\tawait this.renderDone;\n\t\tthis.setTimer(next, this.props.duration / 2);\n\t}\n\n\tgetNextStep(childType, currentState) {\n\t\tlet newState = {};\n\n\t\tswitch (currentState) {\n\t\t\tcase transitionStates.STATE_CHILD_ENTERING:\n\t\t\t\treturn transitionStates.STATE_CHILD_VISIBLE;\n\n\t\t\tcase transitionStates.STATE_CHILD_VISIBLE:\n\t\t\t\treturn transitionStates.STATE_CHILD_LEAVING;\n\n\t\t\tcase transitionStates.STATE_CHILD_LEAVING:\n\t\t\t\tnewState[childType] = null;\n\t\t\t\tthis.setState(newState);\n\t\t\t\treturn transitionStates.STATE_CHILD_EMPTY;\n\n\t\t\tcase transitionStates.STATE_CHILD_EMPTY:\n\t\t\t\tnewState[childType] = this.state.upcomingChild;\n\t\t\t\tthis.setState(newState);\n\t\t\t\treturn transitionStates.STATE_CHILD_ENTERING;\n\t\t}\n\t}\n\n\tgetActiveClass(currentState) {\n\t\tlet { enteringClass, visibleClass, leavingClass, emptyClass } = this.props;\n\t\tlet entering = currentState === transitionStates.STATE_CHILD_ENTERING;\n\t\tlet visible = currentState === transitionStates.STATE_CHILD_VISIBLE;\n\t\tlet leaving = currentState === transitionStates.STATE_CHILD_LEAVING;\n\t\tlet empty = currentState === transitionStates.STATE_CHILD_EMPTY;\n\t\treturn joinClasses(\n\t\t\tthis.props.baseClass,\n\t\t\tentering && enteringClass,\n\t\t\tvisible && visibleClass,\n\t\t\tleaving && leavingClass,\n\t\t\tempty && emptyClass,\n\t\t\t{\n\t\t\t\ts,\n\t\t\t\tentering,\n\t\t\t\tvisible,\n\t\t\t\tleaving,\n\t\t\t\tempty\n\t\t\t}\n\t\t);\n\t}\n\n\tsetTimer = (f, d) => {\n\t\tthis.endTimer();\n\t\tthis.timerFunc = f;\n\t\tthis.timer = setTimeout(() => {\n\t\t\tf();\n\t\t\tthis.timer = null;\n\t\t\tif (this.afterTimer) {\n\t\t\t\tthis.afterTimer();\n\t\t\t\tthis.afterTimer = null;\n\t\t\t}\n\t\t}, d);\n\t};\n\n\tendTimer = (preventExecution) => {\n\t\tif (!this.timer) return;\n\t\tclearTimeout(this.timer);\n\n\t\t// Call the function early\n\t\tif (!preventExecution) {\n\t\t\tthis.timerFunc();\n\t\t}\n\n\t\tthis.timer = null;\n\t\tif (this.afterTimer) {\n\t\t\tthis.afterTimer();\n\t\t\tthis.afterTimer = null;\n\t\t}\n\t};\n\n\trender({ duration, ...props }, { firstChild, firstChildState, secondChild, secondChildState }) {\n\t\t// let child = this.getChildGenerator(props)();\n\t\tlet firstChildNode;\n\t\tlet secondChildNode;\n\n\t\tlet styles = this.getStyles();\n\n\t\tfirstChild = firstChild && firstChild();\n\t\t// Set the current state\n\t\tif (firstChild?.attributes && typeof firstChild?.nodeName !== 'string') {\n\t\t\tfirstChild.attributes.transitionState = isServer ? transitionStates.STATE_CHILD_VISIBLE : firstChildState;\n\t\t}\n\n\t\tsecondChild = secondChild && secondChild();\n\t\tif (secondChild?.attributes && typeof secondChild?.nodeName !== 'string') {\n\t\t\tsecondChild.attributes.transitionState = secondChildState;\n\t\t}\n\n\t\tlet firstChildClass = this.getActiveClass(isServer ? transitionStates.STATE_CHILD_VISIBLE : firstChildState);\n\t\tfirstChildNode = <div class={firstChildClass} style={styles}>{firstChild}</div>;\n\n\t\tlet secondChildClass = this.getActiveClass(secondChildState);\n\t\tsecondChildNode = <div class={secondChildClass} style={styles}>{secondChild}</div>;\n\n\t\treturn (\n\t\t\t<div class={props.class} id={props.id}>\n\t\t\t\t{firstChildNode}\n\t\t\t\t{secondChildNode}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n","export const STATE_CHILD_ENTERING = 'STATE_CHILD_ENTERING';\nexport const STATE_CHILD_VISIBLE  = 'STATE_CHILD_VISIBLE';\nexport const STATE_CHILD_LEAVING  = 'STATE_CHILD_LEAVING';\nexport const STATE_CHILD_EMPTY    = 'STATE_CHILD_EMPTY';\n","import { h, Component } from 'preact';\nimport Loader from 'components/shared/dynamicPageLoader/loader';\nimport { joinClasses, isEmptyObject } from 'utils/utils';\n\nimport s from 'components/shared/dynamicPageLoader/dynamicPageLoader.sss';\n\nexport const pageTypesCache = {};\n\nexport default class DynamicPageLoader extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.activeRequest = 0;\n\t\tthis.componentKey = 1;\n\t\tthis.state.components = [];\n\t\tthis.usePage(props.page, props.data, props.props);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!this.pagesEqual(nextProps.page, this.props.page)) {\n\t\t\tthis.usePage(nextProps.page, nextProps.data, nextProps.props);\n\t\t} else {\n\t\t\tthis.updateCurrentPageProps(nextProps.props);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unmounted = true;\n\t}\n\n\tpagesEqual(page1, page2) {\n\t\tif (page1 === page2) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!page1 || !page2) {\n\t\t\treturn false;\n\t\t}\n\t\tif (page1.id !== page2.id) {\n\t\t\treturn false;\n\t\t}\n\t\tif (page1.page && page2.page && page1.page === page2.page) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tupdateActiveComponent(component, data, props) {\n\t\tlet key = this.componentKey++;\n\t\tlet components = this.state.components;\n\t\tthis.state.components.forEach(el => {\n\t\t\tif (el.removeTimer) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet removed = false;\n\t\t\tconst remove = () => {\n\t\t\t\tif (this.unmounted || removed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tremoved = true;\n\t\t\t\tthis.setState({ components: this.state.components.filter(e => e !== el) });\n\t\t\t};\n\t\t\tel.rendered?.transitionOut?.(remove);\n\t\t\t// How should removeDelay be specified ?\n\t\t\tconst desiredDelay = el.rendered?.removeDelay;\n\t\t\tlet delay = Number.isFinite(desiredDelay) ? desiredDelay : 500;\n\t\t\tel.removeTimer = setTimeout(remove, delay);\n\t\t});\n\t\tcomponents = components.concat({\n\t\t\tcomponent,\n\t\t\tkey,\n\t\t\tdata,\n\t\t\tprops\n\t\t});\n\t\tthis.setState({ components, activeKey: key });\n\t}\n\n\tupdateCurrentPageProps(props) {\n\t\tthis.activeProps = props;\n\t\tif (!this.state.components.length) {\n\t\t\treturn;\n\t\t}\n\t\tlet currentComponent = this.state.components[this.state.components.length - 1];\n\t\tcurrentComponent.props = props;\n\t}\n\n\tasync usePage(page, data, props) {\n\t\tif (!page || !page.getter) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof page.getter !== 'function') {\n\t\t\tconst component = page.getter?.default || page.getter;\n\t\t\treturn this.updateActiveComponent(component, data, props);\n\t\t}\n\t\tif (pageTypesCache[page.id]) {\n\t\t\treturn this.updateActiveComponent(pageTypesCache[page.id], data, props);\n\t\t}\n\t\tlet activeRequest = ++this.activeRequest;\n\t\tthis.activeProps = props;\n\t\tthis.updateActiveComponent(page.loader || Loader, { loader: true });\n\t\tconst raw = await page.getter();\n\t\tconst component = raw?.default || raw;\n\n\t\ttry {\n\t\t\tthis.props.onLoad?.();\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t}\n\n\t\tpageTypesCache[page.id] = component;\n\t\tif (this.activeRequest !== activeRequest) {\n\t\t\treturn;\n\t\t}\n\t\tthis.updateActiveComponent(component, data, this.activeProps);\n\t}\n\n\trender(props, state) {\n\t\treturn (\n\t\t\t<div class={joinClasses(s.container, props.containerClass)}>\n\t\t\t\t{state.components.map(el => {\n\t\t\t\t\tconst Page = el.component;\n\t\t\t\t\tconst active = state.activeKey === el.key;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass={joinClasses({\n\t\t\t\t\t\t\t\ts, component: true, active,\n\t\t\t\t\t\t\t\tloader: el.data?.loader\n\t\t\t\t\t\t\t}, props.class)}\n\t\t\t\t\t\t\tkey={el.key}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Page page={el.data} ref={e => (el.rendered = e)} {...el.props} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import { h, Component } from 'preact';\n\nimport s from 'components/shared/dynamicPageLoader/loader.sss';\n\nexport default class Loader extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div class={s.loader}>Loading...</div>\n\t\t);\n\t}\n}\n","import { handleApiResponse } from '../utils/handleApi';\nconst isServer = typeof window === 'undefined';\n\nconst serviceYoutubeEndpoint = 'https://youtube.s-prod.pow.io';\n\nexport const getPlaylistData = async (playlistId) => {\n\tif (isServer) {\n\t\tthrow new Error('Trying to call service-youtube server-side');\n\t}\n\n\tif (!playlistId) {\n\t\tthrow new Error('No playlist id given');\n\t}\n\n\treturn fetch(`${serviceYoutubeEndpoint}/getPlaylistData?playlistId=${playlistId}`)\n\t\t.then(handleApiResponse);\n};\n","/* Action Types\n-----------------------*/\n\nexport const UPDATE_STORE      = 'UPDATE_STORE';\nexport const BEFORE_LOAD       = 'BEFORE_LOAD';\nexport const PAGE_STATE_LOADED = 'PAGE_STATE_LOADED';\nexport const START_API         = 'START_API';\nexport const GMAPS_LOADED      = 'GMAPS_LOADED';\nexport const URL_CHANGED       = 'URL_CHANGED';\nexport const API_ERROR         = 'API_ERROR';\n\nexport const CLOSE_APP = 'CLOSE_APP';\n\n// Loader\nexport const UPDATE_LOADER = 'UPDATE_LOADER';\n\n// Bg Status\nexport const SET_BG_STATUS   = 'SET_BG_STATUS';\nexport const SET_ACTIVE_PAGE = 'SET_ACTIVE_PAGE';\n\n// App Dimensions/Browser Stats\nexport const SET_CLIENT_SIZE                = 'SET_CLIENT_SIZE';\nexport const START_FORCE_CLIENT_ORIENTATION = 'START_FORCE_CLIENT_ORIENTATION';\nexport const STOP_FORCE_CLIENT_ORIENTATION  = 'STOP_FORCE_CLIENT_ORIENTATION';\n\n// Background\nexport const SET_BACKGROUND_VIDEO_PLAYING = 'SET_BACKGROUND_VIDEO_PLAYING';\nexport const SET_BACKGROUND_VIDEO_ENABLED = 'SET_BACKGROUND_VIDEO_ENABLED';\nexport const SET_BACKGROUND_VIDEO_MUTED   = 'SET_BACKGROUND_VIDEO_MUTED';\nexport const SET_BACKGROUND_ELEMENT       = 'SET_BACKGROUND_ELEMENT';\nexport const UPDATE_BACKGROUND_SETTINGS   = 'UPDATE_BACKGROUND_SETTINGS';\n\n// Home page\nexport const CALENDAR_CLICKED       = 'CALENDAR_CLICKED';\nexport const MESSENGER_CLICKED      = 'MESSENGER_CLICKED';\nexport const HOMEPAGE_TRAILER_ENDED = 'HOMEPAGE_TRAILER_ENDED';\nexport const CLICKED_FOLLOW         = 'CLICKED_FOLLOW';\nexport const HOME_BUTTON_CLICKED    = 'HOME_BUTTON_CLICKED';\n\n// Gallery\nexport const GALLERY_VIEW_IMAGE            = 'GALLERY_VIEW_IMAGE';\nexport const GALLERY_VIEW_IMAGE_FULLSCREEN = 'GALLERY_VIEW_IMAGE_FULLSCREEN';\nexport const GALLERY_DOWNLOAD_IMAGE        = 'GALLERY_DOWNLOAD_IMAGE';\n\n// Videos\nexport const VIDEO_PLAYER_PROGRESS = 'VIDEO_PLAYER_PROGRESS';\nexport const VIMEO_VIDEO_PROGRESS  = 'VIMEO_VIDEO_PROGRESS';\nexport const VIDEOS_TICKET_CLICK   = 'VIDEOS_TICKET_CLICK';\nexport const KALTURA_VIDEO = 'KALTURA_VIDEO';\nexport const MATTERHORN_VIDEO = 'MATTERHORN_VIDEO';\nexport const JW_PLAYER_PROGRESS = 'JW_PLAYER_PROGRESS';\n\n// Home Ent\nexport const HOMEENT_VENDOR_CLICKED     = 'HOMEENT_VENDOR_CLICKED';\nexport const SMART_HOMEENT_SELECT       = 'SMART_HOMEENT_SELECT';\nexport const SMART_HOMEENT_LINK_CLICKED = 'SMART_HOMEENT_LINK_CLICKED';\n\n// Menu\nexport const SET_SIDE_NAV_OPEN     = 'SET_SIDE_NAV_OPEN';\nexport const SET_SIDE_NAV_ACTIVE   = 'SET_SIDE_NAV_ACTIVE';\nexport const CLICKED_SHARE         = 'CLICKED_SHARE';\nexport const LINK_CLICKED          = 'LINK_CLICKED';\nexport const EXTERNAL_LINK_CLICKED = 'EXTERNAL_LINK_CLICKED';\nexport const HEADER_HIDDEN         = 'HEADER_HIDDEN';\n\n// Footer\n// export const FOOTER_SIZE = 'FOOTER_SIZE';\n\n// Client Geo\nexport const SET_CLIENT_GEO = 'SET_CLIENT_GEO';\nexport const GET_SCREENINGS = 'GET_SCREENINGS';\n\n// Dynamic Data\nexport const UPDATE_DYNAMIC_DATA = 'UPDATE_DYNAMIC_DATA';\n\n// Theaters\nexport const SET_THEATERS                       = 'SET_THEATERS';\nexport const ADD_THEATERS                       = 'ADD_THEATERS';\nexport const SELECT_THEATER                     = 'SELECT_THEATER';\nexport const SELECT_MACCS_THEATER               = 'SELECT_MACCS_THEATER';\nexport const VISIBLE_MACCS_THEATER              = 'VISIBLE_MACCS_THEATER';\n// export const SELECT_FIRST_THEATER               = 'SELECT_FIRST_THEATER';\nexport const SET_MAP_OPEN                       = 'SET_MAP_OPEN';\nexport const SET_CITIES                         = 'SET_CITIES';\nexport const SET_CITY_SHOW_COUNT                = 'SET_CITY_SHOW_COUNT';\nexport const SELECT_NEARBY_CITY                 = 'SELECT_NEARBY_CITY';\nexport const UPDATE_THEATER_FILTERED_SCREENINGS = 'UPDATE_THEATER_FILTERED_SCREENINGS';\nexport const AFTER_THEATERS_UPDATE              = 'AFTER_THEATERS_UPDATE';\nexport const EXTRA_THEATERS                     = 'EXTRA_THEATERS';\nexport const DO_LOCATION_SEARCH                 = 'DO_LOCATION_SEARCH';\nexport const FIRST_DATA_LOADED                  = 'FIRST_DATA_LOADED';\nexport const SCREENINGS_LOADED                  = 'SCREENINGS_LOADED';\nexport const SELECT_ST_DATE                     = 'SELECT_ST_DATE';\nexport const SELECT_PROVIDER                    = 'SELECT_PROVIDER';\nexport const SELECT_TIME                        = 'SELECT_TIME'; // DON'T USE FOR TRACKING, use SELECT_SCREENING INSTEAD\nexport const SELECT_SCREENING                   = 'SELECT_SCREENING';\nexport const TICKET_LINK_CLICKED                = 'TICKET_LINK_CLICKED';\nexport const SHOW_SCREENING_AUTH                = 'SHOW_SCREENING_AUTH';\n\n// Ticketing\nexport const OPEN_TICKETING               = 'OPEN_TICKETING';\nexport const REOPEN_TICKETING             = 'REOPEN_TICKETING';\nexport const GO_TICKETING_TYPES           = 'GO_TICKETING_TYPES';\nexport const UPDATE_TICKET_TYPE_QUANTITY  = 'UPDATE_TICKET_TYPE_QUANTITY';\nexport const CREATE_OR_UPDATE_ORDER       = 'CREATE_OR_UPDATE_ORDER';\nexport const UPDATE_ORDER_TICKETS         = 'UPDATE_ORDER_TICKETS';\nexport const GO_TICKETING_SEATING         = 'GO_TICKETING_SEATING';\nexport const PICK_OR_UNPICK_SEATS         = 'PICK_OR_UNPICK_SEATS';\nexport const UPDATE_TICKETING_SEATS       = 'UPDATE_TICKETING_SEATS';\nexport const FLUSH_SEAT_LAYOUT            = 'FLUSH_SEAT_LAYOUT';\nexport const GO_TICKETING_REVIEW          = 'GO_TICKETING_REVIEW';\nexport const GO_TICKETING_CONTACT_DETAILS = 'GO_TICKETING_CONTACT_DETAILS';\nexport const GO_TICKETING_PAYMENT         = 'GO_TICKETING_PAYMENT';\nexport const OPEN_PAYMENT                 = 'OPEN_PAYMENT';\nexport const PAYMENT_MESSAGE_RECEIVED     = 'PAYMENT_MESSAGE_RECEIVED';\nexport const CLOSE_PAYMENT                = 'CLOSE_PAYMENT';\nexport const TICKET_PURCHASE_COMPLETE     = 'TICKET_PURCHASE_COMPLETE';\nexport const SET_TICKETING_MESSAGE        = 'SET_TICKETING_MESSAGE';\nexport const CLEAR_TICKETING_MESSAGE      = 'CLEAR_TICKETING_MESSAGE';\nexport const GO_TICKETING_TIMEOUT         = 'GO_TICKETING_TIMEOUT';\nexport const CLOSE_TICKETING              = 'CLOSE_TICKETING';\nexport const MAP_REQUEST_DIRECTIONS       = 'MAP_REQUEST_DIRECTIONS';\n\n// Filters\nexport const CHECK_FILTERS         = 'CHECK_FILTERS';\nexport const RELOAD_FILTERS        = 'RELOAD_FILTERS';\nexport const TOGGLE_FILTER         = 'TOGGLE_FILTER';\nexport const FILTER_EXCLUDE        = 'FILTER_EXCLUDE';\nexport const FILTER_DISABLE        = 'FILTER_DISABLE';\nexport const SET_FILTER_VISIBILITY = 'SET_FILTER_VISIBILITY';\nexport const RESET_FILTER          = 'RESET_FILTER';\nexport const RESET_FILTERS         = 'RESET_FILTERS';\nexport const APPLY_FILTERS         = 'APPLY_FILTERS';\nexport const SEARCH_NEW_CITY       = 'SEARCH_NEW_CITY';\n\n// Modal\nexport const SHOW_MODAL          = 'SHOW_MODAL';\nexport const HIDE_MODAL          = 'HIDE_MODAL';\nexport const UPDATE_MODAL        = 'UPDATE_MODAL';\nexport const SHOW_COOKIES_MODAL  = 'SHOW_COOKIES_MODAL';\n// MODAL RESULTS (should probably move that somewhere else)\nexport const MODAL_RESULT_OK     = 'OK';\nexport const MODAL_RESULT_CANCEL = 'CANCEL';\n\nexport const APP_LIST_SCROLLED        = 'APP_LIST_SCROLLED';\nexport const MOVIES_LIST_SCROLLED     = 'MOVIES_LIST_SCROLLED';\nexport const SCREENINGS_LIST_SCROLLED = 'SCREENINGS_LIST_SCROLLED';\nexport const EVENT_DATA_LIST_SCROLLED = 'EVENT_DATA_LIST_SCROLLED';\n\n// QUIZ\nexport const QUIZ_STARTED = 'QUIZ_STARTED';\nexport const RIGHT_OR_WRONG_QUIZ_FINISHED = 'RIGHT_OR_WRONG_QUIZ_FINISHED';\n\n// USER\nexport const SET_USER = 'SET_USER';\nexport const SET_USER_REGION_MODAL_DISMISSED = 'SET_USER_REGION_MODAL_DISMISSED';\n\nexport const SET_IOSFIXEDFIX = 'SET_IOSFIXEDFIX';\n\n// YOUTUBE\nexport const YOUTUBE_READY    = 'YOUTUBE_READY';\nexport const YOUTUBE_PROGRESS = 'YOUTUBE_PROGRESS';\nexport const YOUTUBE_ENDED    = 'YOUTUBE_ENDED';\nexport const YOUTUBE_PAUSE    = 'YOUTUBE_PAUSE';\nexport const YOUTUBE_PLAY     = 'YOUTUBE_PLAY';\nexport const YOUTUBE_START    = 'YOUTUBE_START';\n\n// VR\nexport const VR_SET_MODE = 'VR_SET_MODE';\n\n// SCROLL CONTROLS\nexport const SCROLL_LOCK   = 'SCROLL_LOCK';\nexport const SCROLL_UNLOCK = 'SCROLL_UNLOCK';\n\n// TRACKING\nexport const ONETRUST_SHOW   = 'ONETRUST_SHOW';\nexport const ENABLE_STORAGE  = 'ENABLE_STORAGE';\nexport const DISABLE_STORAGE = 'DISABLE_STORAGE';\nexport const ENABLE_PIXELS   = 'ENABLE_PIXELS';\nexport const DISABLE_PIXELS  = 'DISABLE_PIXELS';\nexport const POWSTER_GA_EVENT_TRACK = 'POWSTER_GA_EVENT_TRACK';\nexport const POWSTER_GA_PAGE_VIEW_TRACK = 'POWSTER_GA_PAGE_VIEW_TRACK';\nexport const LOAD_STATIC_PIXELS = 'LOAD_STATIC_PIXELS';\nexport const LINK_CLICK_OUT = 'LINK_CLICK_OUT';\n\n// AUTHENTICATION\nexport const AUTH_RESPONSE = 'AUTH_RESPONSE';\nexport const AUTH_CLEAR    = 'AUTH_CLEAR';\n\n// CLOSABLE TRAILER\nexport const CLOSABLE_TRAILER_OPEN   = 'CLOSABLE_TRAILER_OPEN';\nexport const CLOSABLE_TRAILER_CLOSED = 'CLOSABLE_TRAILER_CLOSED';\n\n// NETFLIX BOOKMARKS\nexport const DOWNLOAD_WORKBOOK = 'DOWNLOAD_WORKBOOK';\n\n// SCROLLSITE\nexport const SCROLLSITE_BUTTON_CLICK = 'SCROLLSITE_BUTTON_CLICK';\nexport const SCROLLSITE_GALLERY_ITEM_CLICK = 'SCROLLSITE_GALLERY_ITEM_CLICK';\nexport const SCROLLSITE_RESOURCE_CLICK = 'SCROLLSITE_RESOURCE_CLICK';\n\n// SIGN UP\nexport const SIGN_UP_SUBMIT = 'SIGN_UP_SUBMIT';\n","import Store from 'store/store';\n\nimport { getCookie, setCookie } from 'utils/cookies';\nimport { waitForOneTrust } from 'utils/gdpr/oneTrust';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nasync function loadExtraOneTrust() {\n\tconst oneTrustData = Store.get().appData?.options?.oneTrustCookieConsent;\n\tconst oneTrustScripts = oneTrustData?.scripts;\n\n\t// Only add the scripts if we were waiting for the age gate\n\tif (!oneTrustScripts || !oneTrustData.waitForAgeGate) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\t// Ensure we show the banner by removing the closed banner cookie\n\t\tdocument.cookie = 'OptanonAlertBoxClosed=; expires=' + (new Date(0).toUTCString());\n\t} catch (e) {}\n\n\tawait Promise.all(Object.values(oneTrustScripts).map(async script => {\n\t\tif (script.inlineContent) {\n\t\t\tlet el = document.createElement('script');\n\t\t\tel.text = script.inlineContent;\n\t\t\tdocument.body.appendChild(el);\n\t\t\treturn;\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet el = document.createElement('script');\n\t\t\tel.onload = resolve;\n\t\t\tel.onerror = reject;\n\t\t\tif (script.integrity) {\n\t\t\t\tel.integrity = script.integrity;\n\t\t\t}\n\t\t\tif (script.crossOrigin && script.crossOrigin !== 'none') {\n\t\t\t\tel.crossOrigin = script.crossOrigin;\n\t\t\t}\n\t\t\tif (script.dataDomainScript) {\n\t\t\t\tel.setAttribute('data-domain-script', script.dataDomainScript);\n\t\t\t}\n\t\t\tif (script.async) {\n\t\t\t\tel.async = true;\n\t\t\t}\n\t\t\tel.src = script.src;\n\t\t\tdocument.body.appendChild(el);\n\t\t});\n\t}));\n}\n\nStore.on('AGEGATE_OPEN', () => {\n\tconst { deviceSize } = Store.get().client;\n\tif (deviceSize !== 'mobile') {\n\t\tconst page = document.getElementById('bolt');\n\t\tdisableBodyScroll(page);\n\t}\n\tStore.get().set({ ageGateOpen: true });\n});\n\nStore.on('AGEGATE_CLOSE', () => {\n\tconst { deviceSize } = Store.get().client;\n\tif (deviceSize !== 'mobile') {\n\t\tconst page = document.getElementById('bolt');\n\t\tenableBodyScroll(page);\n\t}\n\tStore.get().set({ ageGateOpen: false });\n});\n\nStore.on('AGEGATE_CONSENT', async (consentGiven) => {\n\tStore.get().client.set({ ofAge: !!consentGiven });\n\t// Note (BaliBalo): not sure why we are resetting cookie consent here\n\tStore.emit('ACCEPT_COOKIES', [], { doNotSetCookie: true });\n\n\tconst ageGate = Store.get().appData?.options?.ageGate;\n\n\tconst cookieName = ageGate?.cookieName || 'pow-agegate';\n\tconst cookieExpiry = +ageGate?.expiry || 365;\n\tif (!getCookie(cookieName)) {\n\t\tsetCookie(cookieName, +consentGiven, cookieExpiry);\n\t}\n\n\t// TODO remove and move to new implementation\n\tif (!consentGiven) {\n\t\tStore.emit('CHECK_ACTIVE_PAGE_AGE_RESTRICTION');\n\t\tawait waitForOneTrust();\n\t\twindow.Optanon?.RejectAll();\n\t} else {\n\t\tawait loadExtraOneTrust();\n\t\tawait waitForOneTrust();\n\t\t// const domainData = window.Optanon?.GetDomainData();\n\t\t// if (domainData?.ForceConsent) {\n\t\t// \twindow.Optanon?.AllowAll();\n\t\t// }\n\t\t// If we want to ensure the banner does not show:\n\t\t// window.Optanon?.Close();\n\t\t// Or to show the \"manage consent\" modal:\n\t\t// window.Optanon?.ToggleInfoDisplay();\n\t}\n});","import Store from 'store/store';\nimport { addClass, removeClass } from 'utils/utils';\n\nfunction prevDef(evt) {\n\tevt.preventDefault();\n}\n\nStore.on('SHOW_CAL_REMIND', () => {\n\tStore.get().set({ calRemindOpen: true });\n\n\tStore.emit('SET_HEADER_ACTION', {\n\t\ticon: 'close',\n\t\taction: () => Store.emit('CLOSE_CAL_REMIND'),\n\t\ttag: 'closeCalRemind'\n\t});\n\n\taddClass(document.body, 'locked');\n\tdocument.body.addEventListener('touchmove', prevDef, { passive: false });\n});\n\nStore.on('CLOSE_CAL_REMIND', () => {\n\tStore.get().set({ calRemindOpen: false });\n\n\tStore.emit('REMOVE_HEADER_ACTIONS', 'closeCalRemind');\n\n\tremoveClass(document.body, 'locked');\n\tdocument.body.removeEventListener('touchmove', prevDef, { passive: false });\n});\n\nStore.on('CLOSE_ALL_OVERLAYS', () => {\n\tStore.emit('CLOSE_CAL_REMIND');\n});\n","import Store from 'store/store';\nimport * as categories from 'utils/gdpr/categories';\nimport { dispatchEvent } from 'utils/gdpr/dispatchEvent';\nimport * as constants from 'utils/gdpr/constants';\nimport { oneTrust } from 'utils/gdpr';\n// import { arrayContains } from 'utils/bolt';\nimport Cookies from 'js-cookie';\n\nconst POWSTER_COOKIE = 'pow-cookie-cats-';\n\nStore.on('SET_COOKIE_BAR_HEIGHT', (val) => {\n\tStore.get().cookies.set({ height: val });\n});\n\nStore.on('COOKIE_BANNER_OPEN', () => {\n\tStore.get().cookies.set({ cookieBannerOpen: true });\n});\n\nStore.on('COOKIE_BANNER_CLOSE', () => {\n\tconst store = Store.get();\n\tconst cookiesStore = store.cookies;\n\tif (cookiesStore.cookieBannerOpen && cookiesStore.pushDown && cookiesStore.height && store.homeActivePercentage < .5) {\n\t\tlet mainScroll = document.getElementById('mainScroll');\n\t\tif (mainScroll) {\n\t\t\tlet destination = mainScroll.scrollTop + cookiesStore.height;\n\t\t\t// Some automatic scroll adjustment happening from some browser, so setTimeout to wait for a render\n\t\t\tsetTimeout(() => {\n\t\t\t\t// Refetch in case the element has changed during the render\n\t\t\t\tlet mainScroll = document.getElementById('mainScroll');\n\t\t\t\tif (mainScroll) {\n\t\t\t\t\tmainScroll.scrollTop = destination;\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}\n\t}\n\tcookiesStore.set({ cookieBannerOpen: false });\n\tStore.emit('SET_COOKIE_BAR_HEIGHT', 0);\n});\n\nStore.on('COOKIE_PREFERENCES_OPEN', () => {\n\tconst { deviceSize } = Store.get().client;\n\tif (deviceSize !== 'mobile') {\n\t\tStore.emit('ENABLE_SCROLLING_LOCK');\n\t}\n\tStore.get().cookies.set({ cookiePreferencesOpen: true });\n});\n\nStore.on('COOKIE_PREFERENCES_CLOSE', () => {\n\tconst { deviceSize } = Store.get().client;\n\tif (deviceSize !== 'mobile') {\n\t\tStore.emit('DISABLE_SCROLLING_LOCK');\n\t}\n\tStore.get().cookies.set({ cookiePreferencesOpen: false });\n});\n\nStore.on('ACCEPT_COOKIES', (cats = [], options) => {\n\tStore.emit('COOKIE_BANNER_CLOSE');\n\tcategories.set(cats);\n\tif (!options?.doNotSetCookie) {\n\t\tStore.emit('SET_COOKIES', cats);\n\t}\n});\n\nStore.on('ACCEPT_ALL_COOKIES', (options) => {\n\tconst allCats = [...Object.keys(constants), 'UNCATEGORIZED'];\n\tStore.emit('ACCEPT_COOKIES', allCats, options);\n});\n\nStore.on('SET_COOKIES', (cats = []) => {\n\tCookies.set(POWSTER_COOKIE + Store.get().appData?.meta?.id, JSON.stringify(cats), { expires: 30 });\n});\n\nStore.on('CHECK_COOKIES', () => {\n\tlet cookieCategories;\n\ttry {\n\t\tcookieCategories = JSON.parse(Cookies.get(POWSTER_COOKIE + Store.get().appData?.meta?.id));\n\t} catch (err) {}\n\tconst allowedCategories = cookieCategories || categories.get();\n\tconst autoOptIn = Store.get().appData?.options?.cookiesModal?.autoOptIn || '';\n\tconst autoOptInCategories = autoOptIn.split(',').filter(x => x);\n\n\tif (allowedCategories.length > 0) {\n\t\tStore.emit('ACCEPT_COOKIES', allowedCategories, { doNotSetCookie: true });\n\t} else if (autoOptInCategories.length > 0) {\n\t\tcategories.set(autoOptInCategories);\n\t} else {\n\t\tcategories.set([]);\n\t}\n});\n\nStore.on('ONETRUST_SHOW', () => oneTrust.displayModal());\n\nStore.on('DELETE_ALL_COOKIES', ({ reload }) => {\n\tconst cookies = Cookies.get();\n\tObject.keys(cookies).map(cookie => {\n\t\tif (!cookie.startsWith(POWSTER_COOKIE)) {\n\t\t\tCookies.remove(cookie);\n\t\t}\n\t});\n\n\tif (reload) {\n\t\twindow.location.reload();\n\t}\n});\n\ncategories.addChangeListener((allowedCategories) => {\n\tdispatchEvent('categoriesUpdated', { categories: allowedCategories });\n});\n","import Store from 'store/store';\nimport { accessNested } from 'utils/utils';\n\nfunction $(selector) { return document.querySelector(selector); }\n\nlet resizeObserver, cookieHeight;\n\nif (typeof window !== 'undefined' && window.ResizeObserver) {\n\tif (window.ResizeObserver) {\n\t\tresizeObserver = new ResizeObserver(entries => {\n\t\t\tcookieHeight = entries[0].contentRect.height;\n\t\t\tupdateCookieBanner(cookieHeight);\n\t\t});\n\t}\n\tlookForCookieBanner();\n}\n\nfunction lookForCookieBanner() {\n\tlet start = Date.now();\n\tlet check = () => {\n\t\tif ($('#_evidon_banner') && $('#_evidon_banner').offsetHeight) {\n\t\t\tif (resizeObserver) {\n\t\t\t\treturn resizeObserver.observe($('#_evidon_banner'));\n\t\t\t}\n\n\t\t\treturn setTimeout(() => updateCookieBanner($('#_evidon_banner').offsetHeight), 800);\n\t\t}\n\t\tif ($('#onetrust-banner-sdk') && $('#onetrust-banner-sdk').offsetHeight) {\n\t\t\tif (resizeObserver) {\n\t\t\t\treturn resizeObserver.observe($('#onetrust-banner-sdk'));\n\t\t\t}\n\n\t\t\treturn setTimeout(() => updateCookieBanner($('#onetrust-banner-sdk').offsetHeight), 800);\n\t\t}\n\t\t\n\t\t// After 20 seconds, give up\n\t\tif (Date.now() - start < 20000) {\n\t\t\tsetTimeout(check, 100);\n\t\t}\n\t};\n\tcheck();\n}\n\nfunction updateCookieBanner(height) {\n\tconst store = Store.get();\n\tconst evidonPushDown = accessNested(store, 'appData.options.requireUserConsent.position', '') === 'pushdown';\n\tconst oneTrustPushDown = accessNested(store, 'appData.options.oneTrustCookieConsent.position', '') === 'pushdown';\n\t\n\tif (!evidonPushDown && !oneTrustPushDown) {\n\t\treturn;\n\t}\n\n\tconst bannerContainer = document.createElement('div');\n\tbannerContainer.style.position = 'fixed';\n\tbannerContainer.style.top = 0;\n\tbannerContainer.style.width = '100%';\n\tbannerContainer.style.zIndex = 2147000001;\n\tdocument.body.insertBefore(bannerContainer, document.body.firstChild);\n\n\tif ($('#_evidon_banner')) {\n\t\tbannerContainer.appendChild($('#_evidon_banner'));\n\t} else if ($('#onetrust-consent-sdk')) {\n\t\tbannerContainer.appendChild($('#onetrust-consent-sdk'));\n\t}\n\n\tStore.get().set({\n\t\texternalCookieBanner: {\n\t\t\tbannerOpen: height > 0,\n\t\t\theight: height\n\t\t}\n\t});\n}\n\n","import Store from 'store/store';\nimport { visibleRatio } from 'utils/visibilityChecks';\n\nStore.on('FOOTER_AUTO_EXPANDED', () => {\n\tStore.get().footer.set({ allowAutoExpand: false });\n});\n\nStore.on('UPDATE_FOOTER_ACTIVE_PERCENTAGE', () => {\n\tlet footerElem = document.querySelector('[data-section=boltFooter]');\n\tlet percentage = visibleRatio(footerElem);\n\tif (percentage === undefined) return;\n\tlet footerStore = Store.get().footer;\n\tlet rounded = Math.ceil(percentage * 10) / 10;\n\tif (rounded !== footerStore.footerActivePercentage) {\n\t\tfooterStore.set({ activePercentage: rounded });\n\t}\n});\n\nStore.on('UPDATE_VISIBILITY_PERCENTAGES', () => Store.emit('UPDATE_FOOTER_ACTIVE_PERCENTAGE'));\n","import Store from 'store/store';\nimport { imageShareApi } from 'utils/bolt/api';\nimport { joinPaths, toQueryString } from 'utils/utils';\n\nStore.on('CHANGE_ACTIVE_IMAGE', ({ image, pageId }) => {\n\tconst gallery = Store.get().gallery;\n\tif (!gallery) Store.get().set({ gallery: {} });\n\n\tif (!pageId) {\n\t\tStore.get().gallery.set({ activeImage: image });\n\t} else {\n\t\tStore.get().gallery.set({\n\t\t\t[pageId]: {\n\t\t\t\tactiveImage: image\n\t\t\t}\n\t\t});\n\t}\n});\n\nStore.on('GALLERY_SHARE_IMAGE', async ({ imageUrl, siteUrl, metaOverrides }) => {\n\tconst shareBaseUrl = 'https://share.s-prod.pow.io/';\n\tconst hash = await imageShareApi('generateHashFromQuery', { imageUrl, siteUrl, metaOverrides });\n\tconst imageShareLink = shareBaseUrl + toQueryString({ imageUrl, siteUrl, metaOverrides, hash });\n\tif (typeof navigator?.share === 'function') {\n\t\tnavigator.share({\n\t\t\turl: imageShareLink\n\t\t});\n\t} else {\n\t\tStore.get().gallery.set({\n\t\t\timageShareLink\n\t\t});\n\t}\n});\n\nStore.on('CLOSE_GALLERY_SHARE', () => {\n\tStore.get().gallery.set({\n\t\timageShareLink: false\n\t});\n});\n","import Store from 'store/store';\nimport pendingPromise from 'utils/pendingPromise';\n\nlet currentLocationRequest = 0;\nStore.on('SET_USER_LOCATION', async (location, source, ticketType) => {\n\tlet geo = Store.get().client.geo;\n\tlet promise = geo.loading;\n\tif (!promise) {\n\t\tpromise = pendingPromise();\n\t\tgeo.set({ loading: promise }).now();\n\t}\n\tlet requestId = ++currentLocationRequest;\n\ttry {\n\t\tlocation = await (typeof location === 'function' ? location() : location);\n\t} catch (e) {\n\t\t// Error while getting location\n\t\tconsole.log('Error while getting location', e);\n\t}\n\n\tif (requestId !== currentLocationRequest) {\n\t\treturn;\n\t}\n\tlet storeGeo = Store.get().client.geo.set({ loading: null });\n\tif (!location || !location.lat || !location.lon) {\n\t\treturn promise.resolve();\n\t}\n\tlet newValue = { ...location };\n\tif (!newValue.countryCode && newValue.country) {\n\t\tnewValue.countryCode = newValue.country;\n\t\tdelete newValue.country;\n\t}\n\t// Note: this only replaces the values in the new location object. We should clear the previous fields here as well\n\t//  (either by using .reset or by making sure the newValue contains all the keys we want - with undefined if they're not in the location object)\n\tstoreGeo.set(newValue).now();\n\tStore.emit('USER_LOCATION_UPDATED', { geo: newValue, source, ticketType });\n\tpromise.resolve(newValue);\n});\n","import Store from 'store/store';\nimport { addClass, removeClass, accessNested, toQueryString } from 'utils/utils';\n\nStore.on('OPEN_NAV_MENU', () => {\n\tStore.get().header.set({ open: true });\n\taddClass(document.body, 'locked');\n\t// commented for now as it breaks the scrolling in the region selector\n\t// document.body.addEventListener('touchmove', preventDefault, { passive: false });\n\tStore.emit('SET_HEADER_ACTION', {\n\t\ticon: 'close',\n\t\taction: () => Store.emit('CLOSE_NAV_MENU'),\n\t\ttag: 'closeNavMenu'\n\t});\n});\n\nconst toCommaSeparated = val => val && Array.isArray(val) ? val.join(',') : null;\nStore.on('TOGGLE_SHARE_OPEN', () => {\n\tconst store = Store.get();\n\tconst shareOpen = store.header.shareOpen;\n\n\tconst onesheetExpanded = store.header.onesheetExpanded;\n\n\tif (shareOpen) {\n\t\tStore.get().header.set({ shareOpen: false });\n\t}\n\n\tif (!shareOpen && onesheetExpanded) {\n\t\tStore.emit('CLOSE_ALL_OVERLAYS');\n\t\tStore.get().header.set({ shareOpen: true });\n\t}\n\n\tif (shareOpen || onesheetExpanded) {\n\t\treturn;\n\t}\n\n\tlet path = accessNested(store, ['appData', 'pages', store.activePage, 'path']) || '/';\n\tlet qs = {};\n\n\tif (store.showtimes && store.showtimes.show) {\n\t\tconst geo = (store.client && store.client.geo) || {};\n\t\tconst filters = store.showtimes.filters.selected || {};\n\t\tqs = {\n\t\t\tlat: geo.lat,\n\t\t\tlon: geo.lon,\n\t\t\tlocation: geo.city,\n\t\t\tcountry: geo.countryCode,\n\t\t\tdate: toCommaSeparated(filters.date),\n\t\t\tformat: toCommaSeparated(filters.format),\n\t\t\ttime: toCommaSeparated(filters.time),\n\t\t};\n\t} else if (store.videos && store.videos.overlayOpen) {\n\t\tconst activeVideo = store.videos.activeVideo;\n\t\tqs = { v: activeVideo && (activeVideo.youtubeId || activeVideo.key) };\n\t}\n\n\tlet shareDetails = path + toQueryString(qs);\n\tStore.get().header.set({ shareOpen: true, shareDetails });\n});\n\nStore.on('CLOSE_ALL_OVERLAYS', () => {\n\tStore.get().header.set({\n\t\topen: false,\n\t\tshareOpen: false\n\t});\n});\n\nStore.on('CLOSE_NAV_MENU', () => {\n\tStore.get().header.set({ open: false });\n\tremoveClass(document.body, 'locked');\n\t// document.body.removeEventListener('touchmove', preventDefault, { passive: false });\n\tStore.emit('REMOVE_HEADER_ACTIONS', 'closeNavMenu');\n});\n\nStore.on('CLOSE_ALL_OVERLAYS', () => {\n\tStore.emit('CLOSE_NAV_MENU');\n});\n\nStore.on('SET_HEADER_ACTION', (data) => {\n\tif (!data || !data.action) {\n\t\tconsole.error('Trying to set the header action without a function');\n\t\treturn;\n\t}\n\tStore.get().header.actions.push(data);\n});\n\nStore.on('POP_HEADER_ACTION', () => {\n\tStore.get().header.actions.pop();\n});\n\nStore.on('REMOVE_HEADER_ACTIONS', (tag) => {\n\tlet headerState = Store.get().header;\n\tlet remaining = headerState.actions.filter(action => action.tag !== tag);\n\theaderState.set({ actions: remaining });\n});\n\nStore.on('TOGGLE_INTERSTITIAL_OPEN', open => {\n\tStore.get().header.set({ interstitialOpen: open });\n});\n","import Store from 'store/store';\nimport 'store/bolt/geo';\nimport { accessNested, isEmpty } from 'utils/utils';\n// import { closestToCenter } from 'utils/visibilityChecks';\nimport { getRelativePageUrl, getHeaderHeight, navigateInternally, getMainPage, getPageTitle, getPageFromVideoId } from 'utils/bolt/index';\nimport { getDeviceInfo } from 'utils/bolt/client';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\nimport { getBaseFilters } from 'utils/bolt/showtimesLoader';\nimport { sections } from 'pages/bolt_pages';\nimport geoFencing from 'utils/geoFencing';\nimport { geoFromIP } from 'utils/bolt/geo';\nimport getAppRegions from 'utils/bolt/appRegions';\nimport { smoothScrollTo } from 'utils/smoothScroll';\nimport hooks from 'utils/hooks';\n\nStore.on('UPDATE_CLIENT', () => {\n\tconst client = Store.get().client;\n\tconst newClient = getDeviceInfo();\n\tStore.get().set({ client: { ...client, ...newClient } });\n});\n\nStore.on('SET_ACTIVE_PAGE', async (newPage, queryString, options) => {\n\tnewPage = await hooks.call('setActivePage.newPage', newPage, { options });\n\n\tif (!newPage) {\n\t\treturn;\n\t}\n\n\tlet store = Store.get();\n\tlet activePage = store.activePage;\n\tlet newPageData = store.appData?.pages?.[newPage];\n\n\tconst groupBookingsEnabled = store.appData?.pages?.boltShowtimes?.data?.groupBookings?.isEnabled;\n\tif ((newPage === activePage || !newPageData) && !(newPage === 'boltShowtimes' && groupBookingsEnabled)) {\n\t\tif (options?.hashInPage && !options?.noUrlUpdate) {\n\t\t\tlocation.hash = '';\n\t\t\tlocation.hash = options.hashInPage;\n\t\t}\n\t\treturn;\n\t}\n\n\tlet header = Store.get().header;\n\tif (newPage !== header.activeSection) {\n\t\theader.set({ activeSection: newPage });\n\t}\n\n\t// retro-compatibility\n\tif (queryString === true) {\n\t\tqueryString = '';\n\t}\n\tif (!options?.noUrlUpdate) {\n\t\tlet newUrl = getRelativePageUrl(newPage, queryString, options?.hashInPage);\n\t\thistory.pushState({ activePage: newPage }, '', newUrl);\n\t\tdocument.title = getPageTitle({ store, page: newPage });\n\t}\n\n\tStore.get().set({ activePage: newPage });\n\n\tif (!newPageData.section && newPage !== 'boltHome' && !window.disableAutoScrollReset) {\n\t\tStore.get().set({ ignoreScroll: true });\n\t\tdocument.getElementById('mainScroll')?.scrollTo(0, 0);\n\t\twindow.setTimeout(() => {\n\t\t\tStore.get().set({ ignoreScroll: false });\n\t\t}, 100);\n\t\tStore.emit('SET_SECTION_UNDER_HEADER', null);\n\t}\n\n\tStore.emit('ACTIVE_PAGE_UPDATED', newPage);\n\tStore.emit('CHECK_ACTIVE_PAGE_AGE_RESTRICTION');\n});\n\nStore.on('CHECK_ACTIVE_PAGE_AGE_RESTRICTION', () => {\n\tlet store = Store.get();\n\tlet activePage = store.appData?.pages[store.activePage];\n\tif (activePage?.ageRestricted && store.client?.ofAge === false) {\n\t\t// TODO: improve how to decide which page gets priority\n\t\tlet destination = [\n\t\t\t'boltHome',\n\t\t\t'boltSynopsis',\n\t\t\t'boltGallery',\n\t\t\t'boltVideos',\n\t\t\t...Object.keys(store.appData?.pages)\n\t\t].find(page => {\n\t\t\tlet data = store.appData?.pages?.[page];\n\t\t\treturn data && !data.ageRestricted;\n\t\t});\n\t\tStore.emit('CLOSE_AND_NAVIGATE', destination);\n\t}\n});\n\nStore.on('SET_SECTION_UNDER_HEADER', (section) => {\n\tlet header = Store.get().header;\n\tif (header.sectionUnderHeader !== section) {\n\t\theader.set({ sectionUnderHeader: section });\n\t}\n});\n\nfunction getDesktopOffset(store, id) {\n\tconst hasSonyHeader = accessNested(store, 'appData.options.sonyFeatures.sonyHeader', false);\n\tconst isHubPage = accessNested(store, `appData.pages.${id}.component`, '') === 'hub';\n\n\tif (hasSonyHeader || isHubPage) {\n\t\treturn 34;\n\t} else {\n\t\treturn 0;\n\t}\n}\nfunction getMobileOffset(store) {\n\tconst hasSonyHeader = accessNested(store, 'appData.options.sonyFeatures.sonyHeader', false);\n\n\tif (hasSonyHeader) {\n\t\treturn 58;\n\t} else {\n\t\treturn getHeaderHeight();\n\t}\n}\n\nfunction getSectionElement(id) {\n\tconst store = Store.get();\n\tconst noSlug = store.appData?.pages?.[id];\n\tif (!noSlug) {\n\t\tconst pages = accessNested(store, 'appData.pages', null);\n\t\tconst parentSection = pages && Object.keys(pages).filter(page => pages[page].slug === id)[0];\n\t\tid = parentSection || id;\n\t}\n\ttry {\n\t\treturn document.querySelector(`[data-section=\"${id}\"]`);\n\t} catch (e) {\n\t\treturn null;\n\t}\n}\n\nlet sectionLoadVersion = 0;\nStore.on('CHANGE_ACTIVE_SECTION', (id, options) => {\n\toptions = options || {};\n\tif (options.mainPage && !getSectionElement(options.mainPage)) {\n\t\toptions.instant = false;\n\t}\n\tconst store = Store.get();\n\n\tlet toElem = getSectionElement(id);\n\n\tconst isDesktop = accessNested(store, 'client.isDesktopSize', false);\n\tconst hasUarHeader = accessNested(store, 'appData.header.uarHeader');\n\tlet scrollOffset = isDesktop ? getDesktopOffset(store, id) : getMobileOffset(store);\n\tif (id === 'boltHome') {\n\t\tscrollOffset = 0;\n\t}\n\n\tif (hasUarHeader) {\n\t\tscrollOffset = isDesktop ? 80 : 64;\n\t}\n\n\t// for creative projects and whatnot\n\tconst forceScrollOffsetDesktop = store?.appData?.options?.forceScrollOffsetForSection?.[id]?.desktop || store?.appData?.options?.forceScrollOffsetDesktop;\n\tconst forceScrollOffsetMobile = store?.appData?.options?.forceScrollOffsetForSection?.[id]?.mobile || store?.appData?.options?.forceScrollOffsetMobile;\n\tif (forceScrollOffsetMobile) {\n\t\tscrollOffset = +forceScrollOffsetMobile;\n\t}\n\tif (isDesktop && forceScrollOffsetDesktop) {\n\t\tscrollOffset = +forceScrollOffsetDesktop;\n\t}\n\n\tlet ignoreNextScroll = false;\n\tconst go = toElem => {\n\t\tif (!toElem) {\n\t\t\treturn;\n\t\t}\n\t\tconst scroller = document.getElementById('mainScroll');\n\t\tignoreNextScroll = true;\n\t\tsmoothScrollTo(scroller, toElem, options.instant ? 0 : (options.scrollDuration || 400), {\n\t\t\t...options,\n\t\t\toffset: scrollOffset,\n\t\t\tforce: true,\n\t\t\tcallback: () => Store.emit('CLOSE_ALL_OVERLAYS')\n\t\t});\n\t};\n\n\tlet version = ++sectionLoadVersion;\n\tconst listener = (loadedId, dom) => {\n\t\tif (version !== sectionLoadVersion) {\n\t\t\tsetTimeout(() => Store.off('SECTION_LOADED', listener), 0);\n\t\t\treturn;\n\t\t}\n\t\tif (!options.instant) {\n\t\t\tif (loadedId !== id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetTimeout(() => Store.off('SECTION_LOADED', listener), 0);\n\t\t}\n\t\tgo(loadedId === id ? dom : getSectionElement(id));\n\t};\n\n\t// If section has already loaded scroll to it, otherwise try to load it\n\tif (toElem) {\n\t\tgo(toElem);\n\t\tStore.off('SECTION_LOADED', listener);\n\t} else {\n\t\tif (id === options.mainPage) {\n\t\t\tdocument.getElementById('mainScroll')?.scrollTo(0, 0);\n\t\t}\n\t\tStore.on('SECTION_LOADED', listener);\n\t\tStore.emit('LOAD_SECTION', id);\n\t}\n\tif (options.instant) {\n\t\t// Remove the automatic scrolling to the desired section once the user has scrolled\n\t\tlet scrollListener = () => {\n\t\t\tif (ignoreNextScroll) {\n\t\t\t\tignoreNextScroll = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tStore.off('SECTION_LOADED', listener);\n\t\t\twindow.removeEventListener('scroll', scrollListener, true);\n\t\t};\n\t\twindow.addEventListener('scroll', scrollListener, true);\n\t}\n});\n\nStore.on('POP_STATE', (newPage) => {\n\tStore.emit('CLOSE_ALL_OVERLAYS', { animate: true });\n\t// noUrlUpdate since the URL already gets updated from the native browser behaviour\n\tStore.emit('SET_ACTIVE_PAGE', newPage, undefined, { noUrlUpdate: true });\n\tupdateSiteContent(newPage, { instant: true });\n});\n\nlet getRegionURL = async countryCode => {\n\ttry {\n\t\tlet regions = await getAppRegions();\n\t\treturn regions[countryCode] && regions[countryCode].url;\n\t} catch (e) { }\n};\n\nStore.on('LANDING', async ({ page }) => {\n\tupdateSiteContent(page, { instant: true });\n\n\tlet limitlessKey = false;\n\ttry {\n\t\tlimitlessKey = localStorage.getItem('limitlessKey');\n\t} catch (e) { }\n\n\tif (limitlessKey) {\n\t\tuseLimitlessKey();\n\t}\n\n\tconst store = Store.get();\n\tconst socialInterstitialEnabled = accessNested(store, 'appData.options.socialInterstitial', false);\n\tlet pageType = store.appData?.pages?.[page]?.type;\n\tconst pageNeedsApi = pageType === 'showtimes' || pageType === 'homeEnt';\n\tconst disableGeo = pageNeedsApi && store.limitExceeded && socialInterstitialEnabled;\n\n\tif (!disableGeo) {\n\t\tawait geoFencing(geoFromIP, { getRegionURL });\n\t}\n});\n\nStore.on('CLOSE_AND_NAVIGATE', (id, e, opts) => {\n\tif (e && e.preventDefault) {\n\t\te.preventDefault();\n\t}\n\n\tStore.emit('CLOSE_NAV_MENU');\n\n\tnavigateInternally(id, opts);\n});\n\nfunction updateSiteContent(newPage, options) {\n\tconst page = accessNested(Store.get(), ['appData', 'pages', newPage]);\n\tif (page?.type === 'showtimes') {\n\t\tStore.emit('SHOWTIMES_SHOW', undefined, undefined, newPage);\n\t} else if (page?.type === 'homeEnt') {\n\t\tStore.emit('HOMEENT_SHOW', undefined, undefined, newPage);\n\t} else if (page?.type === 'pressKit') {\n\t\tStore.emit('PRESSKIT_SHOW', undefined, undefined, newPage);\n\t} else if (page?.type === 'videos') {\n\t\tStore.emit('OPEN_VIDEO_OVERLAY', newPage);\n\t} else {\n\t\tconst isSection = sections.some(p => p.id === newPage);\n\t\tconst isMainScrollPage = newPage === getMainPage();\n\t\tif (isSection || isMainScrollPage) {\n\t\t\tStore.emit('CHANGE_ACTIVE_SECTION', newPage, options);\n\t\t}\n\t}\n}\n\nStore.on('LANDING_QUERY', (query = {}) => {\n\tconst store = Store.get();\n\n\tif (query.v && store.videos && !store.videos.preSelected) {\n\t\tStore.get().videos.set({ preSelected: query.v });\n\t}\n\n\tif (query.debug) {\n\t\tStore.get().set({ debugMode: true });\n\t}\n});\n\n\nStore.on('DISABLE_SCROLLING_LOCK', () => {\n\tconst page = document.getElementById('bolt');\n\tconst app = document.getElementById('app');\n\tenableBodyScroll(page);\n\tif (app) {\n\t\tapp.style.pointerEvents = '';\n\t}\n});\n\nStore.on('ENABLE_SCROLLING_LOCK', (disablePointerEvents) => {\n\tconst page = document.getElementById('bolt');\n\tconst app = document.getElementById('app');\n\t// disableBodyScroll(page);\n\n\tdisableBodyScroll(page, {\n\t\tallowTouchMove: el => {\n\t\t\twhile (el && el !== document.body) {\n\t\t\t\tif (el.getAttribute('body-scroll-lock-ignore') !== null) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tel = el.parentElement;\n\t\t\t}\n\t\t},\n\t});\n\n\tif (disablePointerEvents && app) {\n\t\tapp.style.pointerEvents = 'none';\n\t}\n});\n\nStore.on('SAFARI_MOBILE_LOCATION_SEARCH_FOCUS', () => {\n\tdocument.body.style.height = '5000px';\n});\n\nStore.on('SAFARI_MOBILE_LOCATION_SEARCH_BLUR', () => {\n\tdocument.body.style.height = '100%';\n});\n\nconst requestedSections = [];\nStore.on('LOAD_SECTION', id => requestedSections.push(id));\nStore.on('GET_REQUESTED_SECTIONS', () => requestedSections);\n\nStore.on('OPEN_RESERVED_VARIABLE_LINK', async link => {\n\tconst lines = link?.split('\\n') || [];\n\tfor (let line of lines) {\n\t\tif (!line?.startsWith('@')) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [type, ...args] = line.slice(1).split('::');\n\t\t// @date::YYYY-MM-DD as a shortcut for @filter::date::YYYY-MM-DD\n\t\tif (['date', 'format', 'time', 'exhibitor'].includes(type.toLowerCase())) {\n\t\t\targs.unshift(type);\n\t\t\ttype = 'filter';\n\t\t}\n\t\tlet qs = args[0];\n\n\t\tconst store = Store.get();\n\n\t\tswitch (type.toLowerCase()) {\n\t\t\tcase 'subscriberpopup':\n\t\t\t\tconst mailchimpData = accessNested(store, 'appData.options.formEmbeds.popup');\n\t\t\t\treturn Store.emit('SUBSCRIBER_POPUP', mailchimpData, false);\n\t\t\tcase 'calendarreminder':\n\t\t\t\treturn Store.emit('SHOW_CAL_REMIND');\n\t\t\tcase 'newsletterbanner':\n\t\t\t\treturn Store.emit('TOGGLE_NEWSLETTER_BANNER', false);\n\t\t\tcase 'preferencecentre':\n\t\t\t\treturn Store.emit('COOKIE_PREFERENCES_OPEN');\n\t\t\tcase 'otcookiesettings':\n\t\t\t\twindow.OneTrust?.ToggleInfoDisplay();\n\t\t\t\tbreak;\n\t\t\tcase 'dynamicpriority':\n\t\t\t\tconst hasShowtimesPage = accessNested(store, 'appData.pages.boltShowtimes');\n\t\t\t\tconst dualViewEnabled = accessNested(store, 'appData.options.dualView');\n\t\t\t\tif (hasShowtimesPage && dualViewEnabled) {\n\t\t\t\t\tconst hasShowtimes = accessNested(store, 'showtimes.data', []);\n\t\t\t\t\tconst hasHomeEntPage = accessNested(store, 'appData.pages.boltHomeEnt');\n\t\t\t\t\tStore.emit((hasHomeEntPage && isEmpty(hasShowtimes)) ? 'HOMEENT_SHOW' : 'SHOWTIMES_SHOW');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'openshowtimes':\n\t\t\t\tStore.emit('SHOWTIMES_SHOW', false, qs);\n\t\t\t\tlet selectedFilters = Store.get().showtimes?.filters?.selected;\n\t\t\t\tif (qs && selectedFilters) {\n\t\t\t\t\tselectedFilters.set(await getBaseFilters(qs));\n\t\t\t\t\tif (store.activePage === 'boltShowtimes') {\n\t\t\t\t\t\tStore.emit('SHOWTIMES_REFRESH');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'filter':\n\t\t\t\t// ensure the showtimes store functions are loaded (not great)\n\t\t\t\t// await import(/* webpackChunkName: \"showtimes\" */ `components/bolt/showtimes/showtimes`);\n\t\t\t\t// console.log('imported');\n\t\t\t\tconst [filterType, ...filterValues] = args;\n\t\t\t\tStore.emit('FILTER_SET', filterType, filterValues, filterType !== 'date');\n\t\t\t\tStore.emit('SHOWTIMES_REFRESH');\n\t\t\t\tbreak;\n\t\t\tcase 'openhomeent':\n\t\t\t\tStore.emit('HOMEENT_SHOW', true, qs);\n\t\t\t\tbreak;\n\t\t\tcase 'videooverlay':\n\t\t\t\tconst [videoId] = args;\n\t\t\t\tif (videoId) {\n\t\t\t\t\tStore.get().videos.set({ activeVideo: null, preSelected: videoId });\n\t\t\t\t}\n\t\t\t\tconst pageId = getPageFromVideoId(videoId);\n\t\t\t\tStore.emit('OPEN_VIDEO_OVERLAY', pageId);\n\t\t}\n\t}\n});\n\nfunction useLimitlessKey() {\n\tconst limitlessKey = accessNested(Store.get(), 'appData.meta.powApiLimitlessKey') || 'K4xhuBoeYm59LMIDRkqIz6KKCoIV1Ikq5rLdoe3I';\n\n\tStore.get().set({\n\t\tapiKey: limitlessKey,\n\t\tusingLimitlessKey: true,\n\t\tlimitExceeded: false\n\t});\n}\n\nStore.on('UPDATE_API_KEY', async () => {\n\tuseLimitlessKey();\n\ttry {\n\t\tlocalStorage.setItem('limitlessKey', true);\n\t} catch (e) { }\n});\n","// import { h } from 'preact';\nimport { accessNested, asList, parseDate } from 'utils/utils';\nimport { maybeHandle } from 'utils/gdpr/maybeHandle';\nimport formatDateTime from 'utils/formatDateTime';\nimport Store from 'store/store';\nimport * as actions from 'store/actions';\n// import { getStaticData } from 'utils/staticData';\n// import { staticPixels } from 'pages/bolt_features';\nimport cached from 'utils/cached';\n\nconst tealiumTheaterData = (theater) => {\n\tif (!theater || typeof theater !== 'object') {\n\t\tlet predicate = () => true;\n\t\tif (typeof theater === 'string') {\n\t\t\tpredicate = t => t.id === theater;\n\t\t}\n\t\ttheater = Store.get().showtimes.data.find(predicate);\n\t}\n\tif (!theater) {\n\t\treturn;\n\t}\n\treturn {\n\t\tcinemaName: theater.name,\n\t\tcinemaChain: accessNested(theater, 'chain.name'),\n\t\tlocation: accessNested(theater, 'address.intl.city') || accessNested(theater, 'address.local.city')\n\t};\n};\n\nif (USE_LEGACY_TRACKING) {\n\tconst isProd = () => {\n\t\tif (typeof window === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\t\t// Not checking for stage - stage should behave as much like prod as possible\n\t\t// if (__IS_LOCAL__ || __IS_DEMO__ || window.location.href.includes('stage.showtimes-static')) {\n\t\tif (__IS_LOCAL__ || __IS_DEMO__) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t//\n\t// Tealium tracking\n\t//\n\n\tif (typeof window !== 'undefined') {\n\t\twindow.tealiumTrackingAllowed = function () {\n\t\t\twindow.preventCookies = false;\n\n\t\t\t// Update  the firstVisit value in the store\n\t\t\ttry {\n\t\t\t\tlet isFirstVisit = localStorage.getItem('isFirstVisit') !== 'false';\n\t\t\t\tif (isFirstVisit) {\n\t\t\t\t\tlocalStorage.setItem('isFirstVisit', 'false');\n\t\t\t\t} else {\n\t\t\t\t\tconst user = Store.get().user;\n\t\t\t\t\tif (user) user.set({ isFirstVisit: false });\n\t\t\t\t}\n\t\t\t} catch (err) { }\n\t\t};\n\t}\n\n\tlet tealiumTrackingBase = {};\n\tconst getTealiumTrackingData = (data) => {\n\t\treturn Object.assign({}, tealiumTrackingBase, data);\n\t};\n\n\tconst tealiumPageViewTrack = () => {\n\t\tif (!window.utag || typeof window.utag.view !== 'function') {\n\t\t\treturn;\n\t\t}\n\t\twindow.utag.view(getTealiumTrackingData());\n\t};\n\tconst tealiumActionTrack = (data) => {\n\t\tif (!window.utag || typeof window.utag.link !== 'function') {\n\t\t\treturn;\n\t\t}\n\t\twindow.utag.link(getTealiumTrackingData(data));\n\t};\n\n\tconst languages = {\n\t\tgb: 'en',\n\t\tus: 'en',\n\t\tau: 'en'\n\t};\n\tconst tealiumProfiles = {\n\t\t'au-powster': ['au'],\n\t\t'emea-powster': [\n\t\t\t'ad', 'ae', 'al', 'ao', 'at', 'ba', 'be', 'bf', 'bg', 'bh', 'bi', 'bj', 'bw', 'by', 'cd', 'cf',\n\t\t\t'ch', 'ci', 'cm', 'cv', 'cy', 'cz', 'de', 'dj', 'dk', 'dz', 'ee', 'eg', 'eh', 'er', 'es', 'et',\n\t\t\t'fi', 'fo', 'fr', 'ga', 'gb', 'ge', 'gg', 'gh', 'gi', 'gm', 'gn', 'gq', 'gr', 'gw', 'hr', 'hu',\n\t\t\t'ie', 'il', 'im', 'iq', 'ir', 'is', 'it', 'je', 'jo', 'ke', 'km', 'kw', 'lb', 'li', 'lr', 'ls',\n\t\t\t'lt', 'lu', 'lv', 'ly', 'ma', 'mc', 'md', 'me', 'mde', 'mg', 'mk', 'ml', 'mr', 'mt', 'mu', 'mw',\n\t\t\t'mz', 'na', 'ne', 'ng', 'nl', 'no', 'om', 'pl', 'ps', 'pt', 'qa', 'ro', 'rs', 'rw', 'sa', 'sd',\n\t\t\t'se', 'si', 'sk', 'sm', 'sn', 'so', 'st', 'sy', 'sz', 'td', 'tg', 'tn', 'tr', 'tz', 'ua', 'ug',\n\t\t\t'va', 'xm', 'ye', 'za', 'zm', 'zw', 'intl'\n\t\t]\n\t};\n\n\t//\n\t// Other tracking\n\t//\n\n\tconst getPowsterCustomGA = cached(() => {\n\t\tlet powsterCustomGA = Store.get().appData?.apis?.tracking?.powsterGATracking;\n\t\treturn asList(powsterCustomGA).filter(id => id.startsWith('UA-') || id.startsWith('G-'));\n\t});\n\n\t// Powster Custom GA Tracking\n\n\tconst firePowsterCustomEvent = (action, category, label, options) => {\n\t\tif (typeof powsterGtag !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tlet tagIds = getPowsterCustomGA();\n\n\t\tif (!tagIds || !tagIds.length) return;\n\n\t\tconst store = Store.get();\n\t\tconst region = accessNested(store, 'appData.meta.region.slug', '');\n\t\tconst title = accessNested(store, 'appData.meta.title.locale', '');\n\t\tconst studio = accessNested(store, 'appData.meta.studio.slug');\n\t\tconst app = title + ' - ' + region.toUpperCase();\n\t\tconst debug_mode = !isProd();\n\n\t\tconst args = {\n\t\t\tsend_to: tagIds,\n\t\t\tevent_stream: app,\n\t\t\tevent_category: category,\n\t\t\tevent_label: label,\n\t\t\tevent_region: region,\n\t\t\tevent_studio: studio,\n\t\t\tregion: region,\n\t\t\tallow_google_signals: false,\n\t\t\tdebug_mode: debug_mode\n\t\t};\n\n\t\tObject.assign(args, options);\n\t\tconst powGtagCat = accessNested(store, 'appData.apis.tracking.powsterGATracking.trackingCategory', 'PERFORMANCE');\n\t\tmaybeHandle(powGtagCat, () => window.powsterGtag('event', action, args), true);\n\t};\n\n\tconst firePowsterGtagPageView = (pageId) => {\n\t\tif (typeof powsterGtag !== 'function') {\n\t\t\treturn;\n\t\t}\n\t\tlet tagIds = getPowsterCustomGA();\n\t\tif (!tagIds) return;\n\n\t\tconst store = Store.get();\n\t\tconst region = accessNested(store, 'appData.meta.region.slug', '');\n\t\tconst title = accessNested(store, 'appData.meta.title.locale', '');\n\t\tconst studio = accessNested(store, 'appData.meta.studio.slug');\n\t\tconst app = title + ' - ' + region.toUpperCase();\n\n\t\tpageId = pageId.toLowerCase();\n\n\t\tif (pageId.startsWith('bolt')) {\n\t\t\tpageId = pageId.substring(4);\n\t\t}\n\n\t\tif (pageId === 'showtimes') {\n\t\t\tpageId = 'tickets';\n\t\t}\n\n\t\tconst debug_mode = !isProd();\n\n\t\tconst powGtagCat = accessNested(store, 'appData.apis.tracking.powsterGATracking.trackingCategory', 'PERFORMANCE');\n\n\t\tmaybeHandle(powGtagCat, () => {\n\t\t\ttagIds.forEach(tagId => {\n\t\t\t\twindow.powsterGtag('config', tagId, {\n\t\t\t\t\tpage_title: pageId,\n\t\t\t\t\tpage_path: pageId,\n\t\t\t\t\tanonymize_ip: 'true',\n\t\t\t\t\tcustom_map: {\n\t\t\t\t\t\tdimension1: 'region'\n\t\t\t\t\t},\n\t\t\t\t\tevent_stream: app,\n\t\t\t\t\tevent_region: region,\n\t\t\t\t\tevent_studio: studio,\n\t\t\t\t\tallow_google_signals: false,\n\t\t\t\t\tregion: region,\n\t\t\t\t\tdebug_mode: debug_mode,\n\t\t\t\t\tcookie_flags: (typeof window !== 'undefined' && window !== window.top) ? 'SameSite=None; Secure' : ''\n\t\t\t\t});\n\t\t\t});\n\t\t}, true);\n\n\t\tif (pageId === 'gallery') {\n\t\t\tStore.emit(actions.GALLERY_VIEW_IMAGE, 1);\n\t\t}\n\t};\n\n\tconst firePowsterGtagLoad = () => {\n\t\tfirePowsterCustomEvent('timing_complete', 'pageLoad', '', { name: 'load', value: Math.round(window.startLoadTime) });\n\t};\n\n\tconst updateDataLayerPageView = (pageId) => {\n\t\tlet cleanId = pageId.replace(/^bolt(.)/, (m, c) => c.toLowerCase());\n\n\t\tlet params = {\n\t\t\tevent: 'page_load',\n\t\t\tpageId: cleanId\n\t\t};\n\t\tif (pageId === 'videos') {\n\t\t\tparams.event = 'trailer-view';\n\t\t}\n\t\tlet store = Store.get();\n\t\tlet sonyDataLayer = store.appData?.options?.sonyFeatures?.sonyDataLayer;\n\t\tif (sonyDataLayer) {\n\t\t\tlet movieTitle = sonyDataLayer.pageTitle || (store.appData?.meta?.title?.slug || '').replace(/-/g, '');\n\t\t\tlet currentPageSlug = pageId.replace(/^bolt/, '');\n\t\t\tparams.page_title = `${movieTitle} ${currentPageSlug}`;\n\t\t}\n\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push(params);\n\t};\n\n\tconst fireLionsgateTracking = () => {\n\t\tconst store = Store.get();\n\t\tconst lionsgateAdswerve_Old = accessNested(store, 'appData.apis.tracking.lionsgateAdswerve');\n\t\tconst lionsgateAdswerve = accessNested(store, 'appData.options.lionsgateAdswerve');\n\t\tif (!lionsgateAdswerve_Old || !lionsgateAdswerve) return;\n\n\t\tconst locale = accessNested(store, 'appData.meta.title.locale', '');\n\t\tconst { dxNumber, genres, distributionWindow } = lionsgateAdswerve_Old ? lionsgateAdswerve_Old : lionsgateAdswerve;\n\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'dataLayer-initialized',\n\t\t\ttitleName: locale,\n\t\t\tdxNumbers: dxNumber,\n\t\t\tgenre: genres,\n\t\t\tenvironment: 'prod',\n\t\t\tdistributionWindow: distributionWindow,\n\t\t\tpageContentType: 'movie',\n\t\t\tsiteType: 'standalone movie site'\n\t\t});\n\t};\n\n\tconst fireLionsgateTicketClick = (screening, theater) => {\n\t\tconst store = Store.get();\n\t\tconst lionsgateAdswerve_Old = accessNested(store, 'appData.apis.tracking.lionsgateAdswerve');\n\t\tconst lionsgateAdswerve = accessNested(store, 'appData.options.lionsgateAdswerve');\n\t\tif (!lionsgateAdswerve_Old || !lionsgateAdswerve) return;\n\n\t\tconst locale = accessNested(store, 'appData.meta.title.locale', '');\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'movie_time_click',\n\t\t\tcontent_title: locale,\n\t\t\ttheater_name: theater.name,\n\t\t\tshowtime_date: screening.date,\n\t\t\tshowtime_time: screening.time\n\t\t});\n\t};\n\n\tconst fireLionsgateSelectTheater = (name) => {\n\t\tconst store = Store.get();\n\t\tconst lionsgateAdswerve_Old = accessNested(store, 'appData.apis.tracking.lionsgateAdswerve');\n\t\tconst lionsgateAdswerve = accessNested(store, 'appData.options.lionsgateAdswerve');\n\t\tif (!lionsgateAdswerve_Old || !lionsgateAdswerve) return;\n\n\t\tconst locale = accessNested(store, 'appData.meta.title.locale', '');\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'theater_click',\n\t\t\tcontent_title: locale,\n\t\t\ttheater_name: name\n\t\t});\n\t};\n\n\tconst fireLionsgateConversion = (data) => {\n\t\tconst locale = accessNested(Store.get(), 'appData.meta.title.locale', '');\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'aggregator_click',\n\t\t\tcontent_title: locale,\n\t\t\tclick_text: data.provider,\n\t\t\ttheater_name: data.theater.name,\n\t\t\tshowtime_date: data.date,\n\t\t\tshowtime_time: data.time\n\t\t});\n\t};\n\n\t// TODO: move that function to a separate to be able to override at studio level (cleaner sony/lionsgate handling)\n\tconst updateDataLayerConversion = (data) => {\n\t\tlet store = Store.get();\n\t\tconst lionsgateAdswerve_Old = store.appData?.apis?.tracking?.lionsgateAdswerve;\n\t\tconst lionsgateAdswerve = store.appData?.options?.lionsgateAdswerve;\n\t\tif (lionsgateAdswerve_Old || lionsgateAdswerve) {\n\t\t\tfireLionsgateConversion(data);\n\t\t\treturn;\n\t\t}\n\t\tconst sonyDataLayer = store.appData?.options?.sonyFeatures?.sonyDataLayer;\n\t\tif (sonyDataLayer) {\n\t\t\t// handling in sony override (sonypictures and sonypicturesclassics)\n\t\t\treturn;\n\t\t}\n\n\t\tconst theaterCity = accessNested(data, 'theater.address.local.city') || accessNested(data, 'theater.address.intl.city') || '';\n\t\tconst theaterState = accessNested(data, 'theater.address.local.state') || accessNested(data, 'theater.address.intl.state') || '';\n\t\tconst theaterStreet = accessNested(data, 'theater.address.local.street') || accessNested(data, 'theater.address.intl.street') || '';\n\t\tconst theaterCountry = accessNested(data, 'theater.address.local.country') || accessNested(data, 'theater.address.intl.country') || '';\n\t\tconst theaterFullAddress = theaterStreet + ', ' + theaterCity;\n\t\tconst theaterUrl = accessNested(data, 'theater.url', '');\n\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'ticket_click',\n\t\t\tcity: theaterCity,\n\t\t\tlocation: {\n\t\t\t\tcountry: theaterCountry,\n\t\t\t\tfullAddress: theaterFullAddress,\n\t\t\t\taddress: theaterStreet,\n\t\t\t\tcity: theaterCity,\n\t\t\t\tstate: theaterState\n\t\t\t},\n\t\t\ttheatre: data.theater.name,\n\t\t\texhibitor: theaterUrl,\n\t\t\tday: data.date,\n\t\t\ttime: data.time\n\t\t});\n\t};\n\n\tconst updateDataLayerShare = (label) => {\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'social-share-click',\n\t\t\tsocialSite: label\n\t\t});\n\t};\n\n\tconst updateDataLayerCitySearch = (data) => {\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'city_changed',\n\t\t\tcity: data.city\n\t\t});\n\t};\n\n\tconst updateDataLayerFilters = (filters) => {\n\t\twindow.dataLayer = window.dataLayer || [];\n\t\tconst timeOfDay = filters.time && filters.time.join(', ') || 'all';\n\t\tconst format = filters.format && filters.format.join(', ') || 'all';\n\t\twindow.dataLayer.push({\n\t\t\tevent: 'session_change',\n\t\t\tfilterDate: filters.date?.join('') || '',\n\t\t\tfilterTimeOfDay: timeOfDay,\n\t\t\tfilterFormat: format\n\t\t});\n\t};\n\n\t// Flooglight tracking\n\n\tconst fireGtag = (action, data = {}) => {\n\t\tif (!window.gtag) return;\n\n\t\tif (typeof data.allow_custom_scripts === 'undefined') {\n\t\t\tdata.allow_custom_scripts = true;\n\t\t}\n\n\t\twindow.gtag('event', action, data);\n\t};\n\n\t// Event listeners\n\tStore.on('LANDING', ({ page }) => {\n\t\tsetTimeout(() => {\n\t\t\tconst disableDefaultPageView = accessNested(Store.get(), 'appData.options.disablePageViewTracking');\n\t\t\tif (!disableDefaultPageView) {\n\t\t\t\tfirePowsterGtagPageView(page);\n\t\t\t}\n\t\t\tfirePowsterGtagLoad();\n\t\t}, 0);\n\t});\n\n\tStore.on('LANDING', () => {\n\t\tlet appData = Store.get().appData;\n\t\tlet code = appData?.meta?.title?.alternateSlug || appData?.meta?.title?.slug;\n\t\tlet tealium = appData?.options?.enableTealium;\n\t\tif (!code || !tealium) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet regionData = accessNested(appData, 'meta.region.slug', '').split('_');\n\t\tlet country = regionData[0];\n\t\tif (country === 'mde') {\n\t\t\tcountry = 'xm';\n\t\t}\n\t\tlet language = regionData.pop();\n\t\t// Check if the region code has a listed language\n\t\tlanguage = languages[language] || language;\n\t\ttealiumTrackingBase = {\n\t\t\tmovieName: accessNested(appData, 'meta.title.en'),\n\t\t\tcountry: country,\n\t\t\tlanguage: language,\n\t\t\tpropertyCode: code\n\t\t};\n\n\t\twindow.utag_data = { propertyCode: code };\n\t\tlet type = 'dev';\n\t\tif (!__IS_LOCAL__ && !__IS_DEMO__) {\n\t\t\ttype = location.href.indexOf('stage.showtimes-static') !== -1 ? 'qa' : 'prod';\n\t\t}\n\n\t\tlet profile = Object.keys(tealiumProfiles).find(profile => tealiumProfiles[profile].includes(country));\n\t\tif (!profile) {\n\t\t\treturn;\n\t\t}\n\t\tlet scriptUrl = '//tags.disneyinternational.com/tealium/' + profile + '/' + type + '/utag.js';\n\n\t\tlet script = document.createElement('script');\n\t\tscript.onload = tealiumPageViewTrack;\n\t\tscript.async = true;\n\t\tscript.src = scriptUrl;\n\t\tdocument.body.appendChild(script);\n\t});\n\n\tStore.on('LANDING', () => {\n\t\tlet store = Store.get();\n\t\tconst lionsgateAdswerve_Old = accessNested(store, 'appData.apis.tracking.lionsgateAdswerve');\n\t\tconst lionsgateAdswerve = accessNested(store, 'appData.options.lionsgateAdswerve');\n\t\tif (lionsgateAdswerve_Old || lionsgateAdswerve) {\n\t\t\tfireLionsgateTracking();\n\t\t}\n\n\t\tconst gtm = accessNested(store, 'appData.apis.tracking.googleTagManager', {});\n\t\tif (gtm.uaId && gtm.landingConversion) {\n\t\t\tfireGtag('conversion', {\n\t\t\t\tsend_to: gtm.landingConversion\n\t\t\t});\n\t\t}\n\t});\n\n\tStore.on('SET_ACTIVE_PAGE', (activePage) => {\n\t\tconst disableDefaultPageView = accessNested(Store.get(), 'appData.options.disablePageViewTracking');\n\t\tif (!disableDefaultPageView) {\n\t\t\tfirePowsterGtagPageView(activePage);\n\t\t}\n\t\tupdateDataLayerPageView(activePage);\n\t});\n\n\tStore.on('CALENDAR_CLICKED', ({ label }) => {\n\t\tfirePowsterCustomEvent('calendar' + '-reminder_click', 'calendar-reminder', label);\n\t});\n\n\tStore.on('CLICKED_SHARE', ({ label }) => {\n\t\tfirePowsterCustomEvent('social-share', 'social', label);\n\t\tupdateDataLayerShare(label);\n\t});\n\n\tStore.on('CLICKED_MOBILE_NATIVE_SHARE', () => {\n\t\tfirePowsterCustomEvent('social-share', 'social', 'mobile-native');\n\t});\n\n\tStore.on('CLICKED_FOLLOW', (name) => {\n\t\tfirePowsterCustomEvent('social-follow', 'social', name);\n\t});\n\n\tStore.on('SYNOPSIS_DOWNLOAD_IMAGE', (imageName = 'onesheet.jpg') => {\n\t\tfirePowsterCustomEvent('synopsis-download_image', 'synopsis', imageName);\n\t});\n\n\tStore.on('SYNOPSIS_ENLARGE_IMAGE', (imageName = 'onesheet.jpg') => {\n\t\tfirePowsterCustomEvent('synopsis-enlarge_image', 'synopsis', imageName);\n\t});\n\n\tStore.on('GALLERY_VIEW_IMAGE', (imageName) => {\n\t\tfirePowsterCustomEvent('gallery-view_image', 'gallery', imageName);\n\t});\n\n\tStore.on('GALLERY_DOWNLOAD_IMAGE', (imageName) => {\n\t\tfirePowsterCustomEvent('gallery-image_download', 'gallery', imageName);\n\t});\n\n\tStore.on('GALLERY_DOWNLOAD_ALL', (page) => {\n\t\tfirePowsterCustomEvent('gallery-image_download_all', 'gallery', `${page ? page : '-'}`);\n\t});\n\n\tStore.on('VIDEO_PLAYER_PROGRESS', ({ platform, video, step, time, isShowtimesMessage, isTrailerOverlay }) => {\n\t\tconst progress = step === 95 ? 100 : step;\n\t\tlet category = isTrailerOverlay ? 'trailer' : 'videos';\n\t\tlet action = `${category}${isShowtimesMessage ? '-empty' : ''}-watch`;\n\t\tlet label = video + '_' + platform + '_' + progress;\n\t\tfirePowsterCustomEvent(action, category, label);\n\n\t\tlet event = 'video_milestone';\n\t\tif (step === 0) {\n\t\t\tevent = 'video_start';\n\t\t} else if (step === 100) {\n\t\t\tevent = 'video_complete';\n\t\t}\n\t\ttealiumActionTrack({\n\t\t\ttealium_event: event,\n\t\t\tvideo_playhead: time,\n\t\t\tvideo_id: video,\n\t\t\tvideo_platform: 'YouTube'\n\t\t});\n\t});\n\n\tStore.on('MAP_REQUEST_DIRECTIONS', (travelMode) => {\n\t\tfirePowsterCustomEvent('map-request_direction', 'map', travelMode.toLowerCase());\n\t});\n\n\tStore.on('SELECT_THEATER', (theater, source, ticketType = 'tickets') => {\n\t\tconst name = theater.name || '';\n\t\tconst chain = accessNested(theater, 'chain.name', '');\n\t\tconst concatChainName = name + '-' + chain;\n\n\t\tfirePowsterCustomEvent(ticketType + '-select-theatre_chain', ticketType, concatChainName);\n\t\tfireLionsgateSelectTheater(name);\n\t\ttealiumActionTrack({\n\t\t\taction: source === 'map' ? 'placeSelectFromMap' : 'cinemaSelect',\n\t\t\t...tealiumTheaterData(theater)\n\t\t});\n\t});\n\n\tStore.on('GROUP_BOOKINGS_INQUIRE', theater => {\n\t\tconst name = theater.name || '';\n\t\tconst chain = accessNested(theater, 'chain.name', '');\n\t\tconst concatChainName = name + '-' + chain;\n\n\t\tfirePowsterCustomEvent('groupbookings-inquire', 'groupbookings', concatChainName);\n\t});\n\n\tStore.on('GROUP_BOOKINGS_NAVIGATE_STAGES', direction => {\n\t\tfirePowsterCustomEvent('groupbookings-navigate-stages', 'groupbookings', direction);\n\t});\n\n\tStore.on('GROUP_BOOKINGS_SUBMIT', theater => {\n\t\tconst name = theater.name || '';\n\t\tconst chain = accessNested(theater, 'chain.name', '');\n\t\tconst concatChainName = name + '-' + chain;\n\t\tfirePowsterCustomEvent('groupbookings-submit', 'groupbookings', concatChainName);\n\t});\n\n\tStore.on('GROUP_BOOKINGS_INQUIRE', theater => {\n\t\tconst name = theater.name || '';\n\t\tconst chain = accessNested(theater, 'chain.name', '');\n\t\tconst concatChainName = name + '-' + chain;\n\n\t\tfirePowsterCustomEvent('groupbookings-inquire', 'groupbookings', concatChainName);\n\t});\n\n\t// Click on a time (either open interstitial or link out if only one provider available)\n\t// Use ticket conversion for all link outs - interstitial or not\n\tStore.on('SELECT_TIME', (data, page) => {\n\t\tif (!page) page = 'tickets';\n\t\tconst { screening, theater } = data;\n\t\tif (!screening || !theater) {\n\t\t\treturn;\n\t\t}\n\t\tfirePowsterCustomEvent('tickets-interstitial', page, `${theater.name}_${theater.chain?.name}_${screening.date}_${screening.time}_${screening.format}`);\n\n\t\tlet dateTime = null;\n\t\tif (screening.date) {\n\t\t\tdateTime = parseDate(screening.date);\n\t\t\tdateTime.setHours(...screening.time.split(':'));\n\t\t}\n\t\ttealiumActionTrack({\n\t\t\taction: 'timeSelect',\n\t\t\t...tealiumTheaterData(theater),\n\t\t\ttargetLink: screening.link.direct,\n\t\t\tformat: screening.format,\n\t\t\tshowDateTime: dateTime?.toISOString(),\n\t\t\tdateSelected: screening.date\n\t\t});\n\n\t\tfireLionsgateTicketClick(screening, theater);\n\t});\n\n\tStore.on('TICKET_CONVERSION', (data, page) => {\n\t\tlet parsedDate = parseDate(data.date);\n\t\tif (!page) page = 'tickets';\n\t\tconst { ticketType = 'tickets' } = data;\n\t\t// Keeping this for now for legacy reasons\n\t\tfirePowsterCustomEvent(ticketType + '-select-calendar_date', page, data.date);\n\n\t\t// firePowsterCustomEvent('tickets-select-calendar_day', page, formatDateTime(parsedDate, 'dddd'));\n\t\t// firePowsterCustomEvent('tickets-select-calendar_time', page, data.time);\n\t\t// firePowsterCustomEvent('tickets-select-format', page, data.format);\n\t\t// firePowsterCustomEvent('tickets-select-provider', page, data.provider);\n\t\t// firePowsterCustomEvent('tickets-conversion', page, data.conversion);\n\t\t// firePowsterCustomEvent('tickets-source', page, data.source);\n\n\t\tfirePowsterCustomEvent(ticketType + '-conversion', 'tickets', data.conversion, {\n\t\t\tdate: data.date,\n\t\t\tday: formatDateTime(parsedDate, 'dddd'),\n\t\t\ttime: data.time,\n\t\t\tformat: data.format,\n\t\t\tprovider: data.provider,\n\t\t\tsource: data.source,\n\t\t});\n\t\tupdateDataLayerConversion(data);\n\t});\n\n\tStore.on('PREVIEW_PANEL_THEATER_CLICK', (theater, chain) => {\n\t\tfirePowsterCustomEvent('theater-click', 'previewpanel', theater + '_' + chain);\n\t});\n\n\tStore.on('PREVIEW_PANEL_MORE_SHOWTIMES_CLICK', () => {\n\t\tfirePowsterCustomEvent('more-showtimes-click', 'previewpanel', '-');\n\t});\n\n\tStore.on('PREVIEW_PANEL_MORE_MERCHANTS_CLICK', () => {\n\t\tfirePowsterCustomEvent('more-ways-to-watch-click', 'previewpanel', '-');\n\t});\n\n\tStore.on('PREVIEW_PANEL_TOGGLE_VIEW', (view) => {\n\t\tfirePowsterCustomEvent('toggle-view', 'previewpanel', view);\n\t});\n\n\tStore.on('PREVIEW_PANEL_EXTRA_BUTTON_CLICK', (label) => {\n\t\tfirePowsterCustomEvent('extra-button-click', 'previewpanel', label);\n\t});\n\n\tStore.on('WRONG_REGION', (region, ticketType = 'tickets') => {\n\t\tfirePowsterCustomEvent(ticketType + '-redirect_origin', ticketType, region);\n\t});\n\n\tStore.on('SHOWTIMES_ERROR', (ticketType = 'tickets') => {\n\t\tfirePowsterCustomEvent(ticketType + '-error', ticketType, '-');\n\t});\n\n\tStore.on('SHOWTIMES_EMPTY', (region, ticketType = 'tickets') => {\n\t\tconst location = `${region.countryCode || 'X'}-${region.city || 'X'}`;\n\n\t\tfirePowsterCustomEvent(ticketType + '-no_showtimes', ticketType, location);\n\t});\n\n\tStore.on('FILTER_SELECTED_TIME', (times, ticketType = 'tickets') => {\n\t\tif (times) {\n\t\t\ttimes.split(',').forEach(time => {\n\t\t\t\tfirePowsterCustomEvent(ticketType + '-filter_time', ticketType, time);\n\t\t\t});\n\t\t} else {\n\t\t\tfirePowsterCustomEvent(ticketType + 'filter_time', ticketType, 'Any time');\n\t\t}\n\t});\n\n\tStore.on('FILTER_SELECTED_DAY', (date, ticketType = 'tickets') => {\n\t\tconst formattedDate = date.split('-').reverse().join('/');\n\n\t\tfirePowsterCustomEvent(ticketType + 'filter_date', ticketType, formattedDate);\n\t});\n\n\tStore.on('FILTER_SELECTED_FORMAT', (formats, ticketType = 'tickets') => {\n\t\tif (formats) {\n\t\t\tformats.split(',').forEach(format => {\n\t\t\t\tfirePowsterCustomEvent(ticketType + '-filter_format', ticketType, format);\n\t\t\t});\n\t\t} else {\n\t\t\tfirePowsterCustomEvent(ticketType + '-filter_format', ticketType, 'Any format');\n\t\t}\n\t});\n\n\tStore.on('GEO_FROM_IP', (geo, ticketType = 'tickets') => {\n\t\tconst location = `${geo.city || 'X'}-${geo.countryCode || 'X'}`;\n\n\t\tfirePowsterCustomEvent(ticketType + '-location-origin', ticketType, location);\n\t});\n\n\tStore.on('REGION_SELECTOR_CLICKED', (origin, destination) => {\n\t\tconst label = origin.toLowerCase() + '-' + destination.toLowerCase();\n\t\tfirePowsterCustomEvent('origin', 'region', label);\n\t});\n\n\tStore.on('SET_USER_LOCATION', (data, source, ticketType = 'tickets') => {\n\t\tif (source !== 'landing') {\n\t\t\tfirePowsterCustomEvent(ticketType + '-search', ticketType, '-');\n\t\t\tupdateDataLayerCitySearch(data);\n\t\t}\n\t\tif (source === 'suggestion') {\n\t\t\ttealiumActionTrack({\n\t\t\t\taction: 'cinemaSearch',\n\t\t\t\tsearchPhrase: data && data.city\n\t\t\t});\n\t\t}\n\t});\n\tStore.on('USER_LOCATION_UPDATED', async ({ geo, source, ticketType = 'tickets' }) => {\n\t\tif (source === 'landing' || !geo) {\n\t\t\treturn;\n\t\t}\n\n\t\tfirePowsterCustomEvent(ticketType + '-location-update', ticketType, `${geo.city || 'X'}_${geo.countryCode || 'X'}`);\n\t\tif (source === 'nearby') {\n\t\t\ttealiumActionTrack({\n\t\t\t\taction: 'moreShowTimes',\n\t\t\t\tlocation: geo.city\n\t\t\t});\n\t\t}\n\t});\n\n\tStore.on('MOVIE_DETAILS_BUTTON_CLICK', (page, label) => {\n\t\tfirePowsterCustomEvent(page + '-button-click', page, label);\n\t});\n\n\tStore.on('HEADER_PERSISTENT_BUTTON_CLICK', (action, category, label, options) => {\n\t\tfirePowsterCustomEvent(action, category, label, options);\n\t});\n\n\tStore.on('TOUT_CLICK', (toutType, category, label, options) => {\n\t\tfirePowsterCustomEvent('tout-click-' + toutType, category, label, options);\n\t});\n\n\tStore.on('NOTIFICATION_BANNER_CLICK', (action, category, label, options) => {\n\t\tfirePowsterCustomEvent(action, category, label, options);\n\t});\n\n\tStore.on('TEXT_LIST_CLICK', (label) => {\n\t\tfirePowsterCustomEvent('textlistitem-click', 'textlistitem', label);\n\t});\n\n\tStore.on('POWSTER_GA_EVENT_TRACK', (action, category, label, options) => {\n\t\tfirePowsterCustomEvent(action, category, label, options);\n\t});\n\n\tStore.on('POWSTER_GA_PAGE_VIEW_TRACK', (pageId) => {\n\t\tfirePowsterGtagPageView(pageId);\n\t});\n\n\tStore.on('FILTER_SET', (filter, value) => {\n\t\tif (filter === 'date') {\n\t\t\ttealiumActionTrack({\n\t\t\t\taction: 'dateSelect',\n\t\t\t\tdateSelected: value\n\t\t\t});\n\t\t}\n\t});\n\tStore.on('FILTER_TOGGLE', (filter, value) => {\n\t\tif (filter === 'format') {\n\t\t\ttealiumActionTrack({\n\t\t\t\taction: 'formatSelect',\n\t\t\t\tformat: value\n\t\t\t});\n\t\t}\n\t});\n\n\tStore.on('TRACK_FILTERS_CHANGE', (filters) => {\n\t\tupdateDataLayerFilters(filters);\n\t});\n\n\tStore.on('TRACK_NAV_LINK_CLICK', (linkName) => {\n\t\tif (linkName) {\n\t\t\ttealiumActionTrack({\n\t\t\t\taction: 'menuSelect',\n\t\t\t\tactionValue: linkName\n\t\t\t});\n\t\t}\n\t});\n\n\t// HOME ENT\n\tStore.on('HOME_ENT_CONVERSION', (data, page) => {\n\t\tif (!page) page = 'homeent';\n\t\tconst { merchant, selectedFormat, availability, product, dataProvider, region } = data;\n\t\tfirePowsterCustomEvent('homeent-provider', page, dataProvider);\n\t\tfirePowsterCustomEvent('homeent-availability_select', page, `${region}-${availability}`);\n\t\tfirePowsterCustomEvent('homeent-conversion', page, `${region}_${selectedFormat}_${availability}_${merchant}_${product.edition || 'absent'}_${product.price || 'absent'}`);\n\t});\n\n\tStore.on('HOME_ENT_FORMAT_SELECT', (format) => {\n\t\tfirePowsterCustomEvent('homeent-format_select', 'homeent', format);\n\t});\n\n\tStore.on('HOME_ENT_MERCHANT_SELECT', (data, page) => {\n\t\tconst cat = page || 'homeent';\n\t\tconst { region, merchant } = data;\n\t\tif (!region || region === 'loading') return;\n\t\tfirePowsterCustomEvent('homeent-merchant_select', cat, `${region}-${merchant}`);\n\t});\n\n\tStore.on('HOME_ENT_PROVIDER_ATTRIBUTION_CLICK', (provider) => {\n\t\tfirePowsterCustomEvent('homeent-dynamic_attribution_select', 'homeent', provider);\n\t});\n}\n\n//\n// Ensighten tracking\n//\nif (typeof window !== 'undefined' && window.__INITIAL_STATE__?.appData?.options?.enableEnsighten) {\n\tconst ensightenPageViewTrack = (pageId) => {\n\t\tif (!window.__dataLayer) {\n\t\t\treturn;\n\t\t}\n\t\tif (pageId.startsWith('bolt')) {\n\t\t\tpageId = pageId.substring(4);\n\t\t}\n\n\t\tif (pageId === 'showtimes') {\n\t\t\tpageId = 'tickets';\n\t\t}\n\n\t\tconst appData = Store.get().appData;\n\t\tconst siteName = appData.meta?.title?.slug;\n\t\tlet country = appData.meta?.region?.slug;\n\n\t\tconst pageName = _dl.page.page.replace(`:${country === 'uk' ? 'gb' : country}`, '');\n\t\t\n\t\tif (country === 'gb') {\n\t\t\tcountry = 'uk';\n\t\t}\n\n\t\twindow.__dataLayer.page.page_name = _dl.site.region + \":\" + _dl.site.country + \":\" + _dl.site.site + \":\" + pageName + pageId.toLowerCase();\n\t\twindow.__dataLayer.trackPage();\n\t};\n\n\tconst ensightenActionTrack = eventData => {\n\t\tif (!window.__dataLayer || (typeof window.__dataLayer.publish !== 'function')) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = {\n\t\t\tevent_name: 'click',\n\t\t\tactionName: eventData.action,\n\t\t\t...eventData\n\t\t};\n\n\t\tdelete data.action;\n\n\t\twindow.__dataLayer.publish('click', {\n\t\t\tevent_name: 'click',\n\t\t\t...eventData\n\t\t});\n\t};\n\n\tStore.on('LANDING', ({ page }) => {\n\t\tensightenPageViewTrack(page);\n\t});\n\n\tStore.on('SET_ACTIVE_PAGE', activePage => {\n\t\tensightenPageViewTrack(activePage);\n\t});\n\n\tStore.on('POWSTER_GA_PAGE_VIEW_TRACK', pageId => {\n\t\tensightenPageViewTrack(pageId);\n\t});\n\n\tStore.on('VIDEO_PLAYER_PROGRESS', ({ video, step, time }) => {\n\t\tlet event = 'video_milestone';\n\t\tif (step === 0) {\n\t\t\tevent = 'video_start';\n\t\t} else if (step === 100) {\n\t\t\tevent = 'video_complete';\n\t\t}\n\t\tensightenActionTrack({\n\t\t\ttealium_event: event,\n\t\t\tvideo_playhead: time,\n\t\t\tvideo_id: video,\n\t\t\tvideo_platform: 'YouTube'\n\t\t});\n\t});\n\n\tStore.on('SELECT_THEATER', (theater, source) => {\n\t\tensightenActionTrack({\n\t\t\taction: source === 'map' ? 'placeSelectFromMap' : 'cinemaSelect',\n\t\t\t...tealiumTheaterData(theater)\n\t\t});\n\t});\n\n\tStore.on('SELECT_TIME', (data, page) => {\n\t\tif (!page) page = 'tickets';\n\t\tconst { screening, theater } = data;\n\t\tif (!screening || !theater) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet dateTime = null;\n\t\tif (screening.date) {\n\t\t\tdateTime = parseDate(screening.date);\n\t\t\tdateTime.setHours(...screening.time.split(':'));\n\t\t}\n\t\tensightenActionTrack({\n\t\t\taction: 'timeSelect',\n\t\t\t...tealiumTheaterData(theater),\n\t\t\ttargetLink: screening.link.direct,\n\t\t\tformat: screening.format,\n\t\t\tshowDateTime: dateTime?.toISOString(),\n\t\t\tdateSelected: screening.date\n\t\t});\n\t});\n\n\tStore.on('SET_USER_LOCATION', (data, source) => {\n\t\tif (source === 'suggestion') {\n\t\t\tensightenActionTrack({\n\t\t\t\taction: 'cinemaSearch',\n\t\t\t\tsearchPhrase: data && data.city\n\t\t\t});\n\t\t}\n\t});\n\n\tStore.on('USER_LOCATION_UPDATED', async ({ geo, source }) => {\n\t\tif (source === 'landing' || !geo) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (source === 'nearby') {\n\t\t\tensightenActionTrack({\n\t\t\t\taction: 'moreShowTimes',\n\t\t\t\tlocation: geo.city\n\t\t\t});\n\t\t}\n\t});\n\n\tStore.on('FILTER_SET', (filter, value) => {\n\t\tif (filter === 'date') {\n\t\t\tensightenActionTrack({\n\t\t\t\taction: 'dateSelect',\n\t\t\t\tdateSelected: value\n\t\t\t});\n\t\t}\n\t});\n\n\tStore.on('FILTER_TOGGLE', (filter, value) => {\n\t\tif (filter === 'format') {\n\t\t\tensightenActionTrack({\n\t\t\t\taction: 'formatSelect',\n\t\t\t\tformat: value\n\t\t\t});\n\t\t}\n\t});\n\n\tStore.on('TRACK_NAV_LINK_CLICK', (linkName) => {\n\t\tif (linkName) {\n\t\t\tensightenActionTrack({\n\t\t\t\taction: 'menuSelect',\n\t\t\t\tactionValue: linkName\n\t\t\t});\n\t\t}\n\t});\n}\n\nStore.on('ENSIGHTEN_VIDEO_PLAY', (data) => {\n\tif (!window.__dataLayer || (typeof window.__dataLayer.publish !== 'function')) {\n\t\treturn;\n\t}\n\n\tconst showName = Store.get().appData.meta.title.slug;\n\n\tlet eventData = {\n\t\t'mediaItem.show.name': showName,\n\t\t'mediaItem.title': data.videoTitle,\n\n\t};\n\twindow.__dataLayer.publish('dtci.media', ['dtci.play', eventData, null]);\n});","import Store from 'store/store';\nimport { getCookie, setCookie } from 'utils/cookies';\n\nconst cookies = {\n\tclosed: 'MCPopupClosed',\n\tsubscribed: 'MCPopupSubscribed',\n};\n\nconst showMailchimpPopup = (mailchimpData, isLanding) => {\n\ttry {\n\t\tconst { baseUrl, lid, uuid, landingDelay, ignoreClosedCookie, ignoreSubscribedCookie } = mailchimpData;\n\t\t\n\t\tif (ignoreClosedCookie) {\n\t\t\tsetCookie(cookies.closed, '', -1000);\n\t\t}\n\t\tif (ignoreSubscribedCookie) {\n\t\t\tsetCookie(cookies.subscribed, '', -1000);\n\t\t}\n\t\t\n\t\tconst cookiePopupClosed = getCookie(cookies.closed);\n\t\tconst cookieSubscribed = getCookie(cookies.subscribed);\n\n\t\tif (isLanding) {\n\t\t\tif (!cookiePopupClosed) {\n\t\t\t\tsetTimeout(() => triggerPopup(baseUrl, lid, uuid), landingDelay * 1000);\n\t\t\t}\n\t\t} else {\n\t\t\tif (cookiePopupClosed) {\n\t\t\t\tsetCookie(cookies.closed, '', -1000);\n\t\t\t}\n\t\t\tif (cookieSubscribed) {\n\t\t\t\tsetCookie(cookies.subscribed, '', -1000);\n\t\t\t}\n\t\t\ttriggerPopup(baseUrl, lid, uuid);\n\t\t}\n\t} catch (e) {}\n};\n\nconst triggerPopup = (baseUrl, lid, uuid) => {\n\tif (typeof window.dojoRequire !== undefined) {\n\t\tmailchimpPopup(baseUrl, lid, uuid);\n\t} else {\n\t\tconst untilDojoRequireIs = setInterval(() => {\n\t\t\tif (typeof window.dojoRequire !== undefined) {\n\t\t\t\tclearInterval(untilDojoRequireIs);\n\t\t\t\tmailchimpPopup(baseUrl, lid, uuid);\n\t\t\t}\n\t\t}, 200);\n\t}\n};\n\nconst mailchimpPopup = (baseUrl, lid, uuid) => {\n\twindow.dojoRequire(\n\t\t['mojo/signup-forms/Loader'],\n\t\tL => L.start({\n\t\t\tbaseUrl,\n\t\t\tuuid,\n\t\t\tlid,\n\t\t\tuniqueMethods: true\n\t\t})\n\t);\n};\n\nStore.on('SUBSCRIBER_POPUP', (mailchimpData, isLanding) => {\n\tshowMailchimpPopup(mailchimpData, isLanding);\n});","import Store from 'store/store';\nimport cached from 'utils/cached';\nimport * as categories from 'utils/gdpr/categories';\nimport runHTMLScripts from 'utils/runHTMLScripts';\nimport { escapeObjectValues } from 'utils/utils';\n\nconst isProd = !__IS_LOCAL__ && !__IS_DEMO__;\nconst showLogs = typeof window !== 'undefined' && /[?&]powdebug([&=]|$)/i.test(location.search);\n\nfunction log(...args) {\n\tif (!showLogs) {\n\t\treturn;\n\t}\n\t// Note: logs will not show up on prod because of the drop_console terser option in webpack\n\t// Is there a way to bypass that for this line specifically ?\n\tconsole.log('[PowDebug]', ...args);\n}\nfunction logPixel(icon, message, pixel, code) {\n\tlog(...[\n\t\ticon,\n\t\tpixel.static && 'static', pixel.type, 'pixel',\n\t\tpixel.id && '[' + pixel.id + ']',\n\t\tpixel.category && '(' + pixel.category + ')',\n\t\tmessage,\n\t\tcode && '\\nExecuted Code:',\n\t\t// Converting code to string hides things in the case of bound functions, but passing it to console.log shows the source\n\t\tcode\n\t].filter(e => e));\n}\n\nlet _init;\nlet _getStaticPixels;\nlet _register;\nlet _fire;\nlet _getVariables;\nif (USE_TRACKING_V2) {\n\tconst pixels = {};\n\tconst queues = {};\n\n\tconst shouldUsePixel = pixel => pixel?.code && !(pixel.prodOnly && (__IS_LOCAL__ || __IS_DEMO__));\n\n\tconst register = (pixel, id) => {\n\t\tif (!shouldUsePixel(pixel) || !pixel.trigger || pixel.static) {\n\t\t\treturn;\n\t\t}\n\t\tif (!pixel.id && id) {\n\t\t\tpixel.id = id;\n\t\t}\n\t\tlet trigger = pixel.trigger;\n\t\tif (trigger === 'pageView' && pixel.page) {\n\t\t\ttrigger += ':' + pixel.page;\n\t\t}\n\t\tif (!pixels[trigger]) {\n\t\t\tpixels[trigger] = [];\n\t\t}\n\t\tpixels[trigger].push(pixel);\n\t};\n\tconst addToQueue = (category, code) => {\n\t\tif (!queues[category]) {\n\t\t\tqueues[category] = [];\n\t\t}\n\t\tqueues[category].push(code);\n\t};\n\n\tconst withVariables = (code, variables) => {\n\t\tif (!variables) {\n\t\t\treturn code;\n\t\t}\n\t\tif (typeof code === 'function') {\n\t\t\treturn code.bind(null, variables);\n\t\t}\n\t\treturn code?.replace?.(/(\\\\)?\\{\\{(.+?)\\}\\}/g, (match, escaped, variable) => {\n\t\t\tif (escaped) {\n\t\t\t\treturn '{{' + variable + '}}';\n\t\t\t}\n\t\t\tlet raw = false;\n\t\t\tif (variable[0] === '=') {\n\t\t\t\traw = true;\n\t\t\t\tvariable = variable.slice(1);\n\t\t\t}\n\t\t\t// TODO: add way to specify default value (e.g. {{variable:default}})\n\t\t\tif (!Object.prototype.hasOwnProperty.call(variables, variable)) {\n\t\t\t\treturn match;\n\t\t\t}\n\t\t\tif (raw || typeof variables[variable] !== 'string') {\n\t\t\t\treturn variables[variable];\n\t\t\t}\n\t\t\treturn JSON.stringify(variables[variable])\n\t\t\t\t.slice(1, -1)\n\t\t\t\t.replace(/\\\\\"/g, '\"')\n\t\t\t\t.replace(/'/g, '\\\\\\'')\n\t\t\t\t.replace(/<\\/script>/ig, '<\\\\/script>')\n\t\t\t\t.replace(/<!--/ig, '<\\\\!--');\n\t\t}) || '';\n\t};\n\n\tconst runCode = async (code) => {\n\t\ttry {\n\t\t\tif (typeof code === 'function') {\n\t\t\t\tawait code();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Handle HTML tags vs simple JS\n\t\t\t// Should this be checked in runHTMLScripts directly?\n\t\t\tif (/^\\s*</.test(code)) {\n\t\t\t\tawait runHTMLScripts(code);\n\t\t\t} else {\n\t\t\t\t// (0, eval) to run the code in the global context\n\t\t\t\t//   and make sure they cannot access/modify stuff like the \"queues\" variable\n\t\t\t\t(0, eval)(code);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t}\n\t};\n\n\t// Inserts the pixel code to the page\n\tconst fire = async (type, variables = {}) => {\n\t\tif (!pixels[type]) {\n\t\t\t// log(`no pixels fired for event: ${type}`);\n\t\t\treturn;\n\t\t}\n\t\tlog(`--- FIRING PIXELS FOR EVENT: ${type} ---`);\n\t\tfor (let pixel of pixels[type]) {\n\t\t\tif (pixel.once && pixel.triggered) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpixel.triggered = (pixel.triggered || 0) + 1;\n\t\t\tlet code = withVariables(pixel.code, variables);\n\t\t\tif (!pixel.category || categories.has(pixel.category)) {\n\t\t\t\tlogPixel('', 'fired', pixel, code);\n\t\t\t\tawait runCode(code);\n\t\t\t} else {\n\t\t\t\tlogPixel('', `stopped from firing. Pixel Category: ${pixel.category} not within accepted categories (${categories.toString()})${pixel.useQueue ? '. The pixel was queued and will fire if the desired category is accepted later' : ''}`, pixel);\n\t\t\t\tif (pixel.useQueue) {\n\t\t\t\t\taddToQueue(pixel.category, [pixel, code]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tcategories.addChangeListener(cats => {\n\t\tlog(` Accepted cookie categories changed. New accepted categories: ${cats.join(',')}`);\n\t\tcats.forEach(async category => {\n\t\t\tif (!queues[category]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (let [pixel, code] of queues[category]) {\n\t\t\t\tlogPixel('', 'fired from queue', pixel, code);\n\t\t\t\tawait runCode(code);\n\t\t\t}\n\t\t\tqueues[category].length = 0;\n\t\t});\n\t});\n\n\t// Cache the variables that will never change over time\n\tconst getStaticBaseVariables = cached(() => {\n\t\tlet appData = Store.get().appData;\n\t\tconst debug_mode = !isProd;\n\t\tconst movieTitle = appData?.meta?.title?.locale;\n\t\tconst app = movieTitle + ' - ' + __REGION__.toUpperCase();\n\t\treturn {\n\t\t\tmovieTitle,\n\t\t\tapp,\n\t\t\tmovie: __TITLE__,\n\t\t\tstudioName: appData?.meta?.studio?.name,\n\t\t\tstudio: __STUDIO__,\n\t\t\tregion: __REGION__,\n\t\t\treleaseDate: appData?.meta?.dates?.release,\n\t\t\tboxOfficeDate: appData?.meta?.dates?.boxOffice,\n\t\t\tvanityUrl: appData?.meta?.url,\n\t\t\tdomain: typeof window !== 'undefined' ? location.host : '',\n\t\t\tdebug_mode,\n\t\t};\n\t});\n\tlet customVariables = {};\n\tconst getVariables = (eventSpecific) => {\n\t\tconst store = Store.get();\n\t\tconst activePage = store.activePage;\n\t\tlet customExpanded = Object.fromEntries(Object.entries(customVariables).map(([name, value]) => {\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tif (value[0] === '@') {\n\t\t\t\t\tvalue = value.slice(1).split('.').reduce((r, p) => r?.[p], store);\n\t\t\t\t} else if (value[0] === '=') {\n\t\t\t\t\tvalue = value.slice(1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [name, value];\n\t\t}));\n\t\tconst result = {\n\t\t\t...getStaticBaseVariables(),\n\t\t\tpage: activePage,\n\t\t\tpageName: getPageName(activePage),\n\t\t\t...customExpanded,\n\t\t\t...eventSpecific,\n\t\t};\n\t\treturn escapeObjectValues(result);\n\t};\n\n\tconst getPageName = (pageId) => {\n\t\tconst appData = Store.get().appData;\n\t\tlet nameValue = appData?.pages?.[pageId]?.name;\n\t\tif (nameValue) {\n\t\t\treturn appData.copy?.baseCopy?.[nameValue] || nameValue;\n\t\t}\n\t\t// boltHomeEnt -> homeEnt\n\t\tconst pageWithoutBolt = pageId.replace(/^bolt([A-Z])/, (m, l) => l.toLowerCase());\n\t\t// homeEnt -> Home Ent\n\t\treturn pageWithoutBolt.replace(/^([a-z])|([a-z])([A-Z])/g, (m, first, wordEnd, nextWord) => first?.toUpperCase() || `${wordEnd} ${nextWord}`);\n\t};\n\n\t// -- TRIGGERS --\n\tconst firePageView = (page) => {\n\t\tlet variables = getVariables({ page, pageName: getPageName(page) });\n\t\tfire('pageView', variables);\n\t\tfire('pageView:' + page, variables);\n\t};\n\n\tStore.on('LANDING', ({ page }) => {\n\t\tconst loadTime = Math.round(window.startLoadTime);\n\t\tlet variables = getVariables({ page, pageName: getPageName(page), loadTime });\n\t\tfire('landing', variables);\n\t\tfirePageView(page);\n\t\tfire('timingComplete', variables);\n\t});\n\tStore.on('ACTIVE_PAGE_UPDATED', firePageView);\n\tStore.on('TICKET_CONVERSION', ({ date, time, format, provider, theater, source, conversion, day, url, movieTitle, movieSlug, ticketType = 'tickets' }) => (\n\t\tfire('ticket', getVariables({\n\t\t\ttheater: theater?.name,\n\t\t\tchain: theater?.chain?.name,\n\t\t\tscreeningDate: date,\n\t\t\tscreeningTime: time,\n\t\t\tformat,\n\t\t\tticketProvider: provider,\n\t\t\tsource,\n\t\t\tconversion,\n\t\t\tday,\n\t\t\turl,\n\t\t\tscreeningMovie: movieSlug,\n\t\t\tscreeningMovieTitle: movieTitle,\n\t\t\tticketType\n\t\t}))\n\t));\n\n\t/** Home Ent Events */\n\tStore.on('HOME_ENT_CONVERSION', ({ product, merchant, selectedFormat, region, availability, dataProvider }) => (\n\t\tfire('homeEntLinkOut', getVariables({\n\t\t\tmerchant,\n\t\t\tregion,\n\t\t\tavailability,\n\t\t\tformat: selectedFormat,\n\t\t\tedition: product.edition,\n\t\t\tprice: product.price,\n\t\t\tdataProvider\n\t\t}))\n\t));\n\tStore.on('HOME_ENT_MERCHANT_SELECT', ({ merchant, region }) => fire('homeEntMerchantSelection', getVariables({ merchant, region })));\n\tStore.on('HOME_ENT_FORMAT_SELECT', (format) => fire('homeEntFormatSelection', getVariables({ format })));\n\tStore.on('HOME_ENT_PROVIDER_ATTRIBUTION_CLICK', (provider) => fire('homeEntProviderClick', getVariables({ provider })));\n\n\t/** Social Events */\n\tStore.on('CLICKED_SHARE', ({ label }) => fire('socialShare', getVariables({ socialSharePlatform: label })));\n\tStore.on('CLICKED_FOLLOW', (label) => fire('socialFollow', getVariables({ socialFollowPlatform: label })));\n\n\t/* Synopsis Events */\n\tStore.on('SYNOPSIS_ENLARGE_IMAGE', (imageName) => fire('synopsisImageEnlarge', getVariables({ synopsisImage: imageName })));\n\tStore.on('SYNOPSIS_DOWNLOAD_IMAGE', (imageName) => fire('synopsisImageDownload', getVariables({ synopsisImage: imageName })));\n\n\t/* Gallery Events */\n\tStore.on('GALLERY_VIEW_IMAGE', (activeImage) => fire('galleryImageView', getVariables({ galleryImage: activeImage })));\n\tStore.on('GALLERY_DOWNLOAD_IMAGE', (activeImage) => fire('galleryImageDownload', getVariables({ galleryImage: activeImage })));\n\tStore.on('GALLERY_DOWNLOAD_ALL', () => fire('galleryImageDownloadAll', getVariables()));\n\n\t/* Showtimes / Tickets Maps Events */\n\tStore.on('MAP_REQUEST_DIRECTIONS', (travelMode) => fire('showtimeMapRequestDirections', getVariables({ travelMode: travelMode.toLowerCase() })));\n\n\t/* Region Selector Events */\n\tStore.on('REGION_SELECTOR_CLICKED', (origin, destination) => fire('regionSelectorClick', getVariables({ origin, destination })));\n\n\t/* Video Events */\n\n\t/* Tout Events */\n\tStore.on('TOUT_CLICK', (toutType, _, toutLabel) => fire('toutSelectionClick', getVariables({ toutType, toutLabel })));\n\n\t/* Expandable Text List */\n\tStore.on('TEXT_LIST_CLICK', name => fire('textListClick', getVariables({ name })));\n\n\t/* Notification Banner */\n\tStore.on('NOTIFICATION_BANNER_CLICK', (page, _, label) => fire('notificationBannerClick', getVariables({ page, label })));\n\n\t/* Landing Page Events */\n\tStore.on('MOVIE_DETAILS_BUTTON_CLICK', (page, label) => fire('movieDetailsButtonClick', getVariables({ page, label })));\n\tStore.on('HEADER_PERSISTENT_BUTTON_CLICK', (action, category, label) => fire('headerPersistentButtonClick', getVariables({ label })));\n\tStore.on('SHOW_CAL_REMIND', () => fire('showCalendarReminder', getVariables()));\n\tStore.on('TOGGLE_SHARE_OPEN', () => fire('openShareDialog', getVariables()));\n\n\tStore.on('SELECT_TIME', ({ screening, theater, ticketType = 'tickets'}) => {\n\t\tconst { date, time, format } = screening;\n\t\tconst { name, chain } = theater;\n\t\tconst chainName = chain?.name;\n\t\tfire('showtimeSelectTime', getVariables({ name, chainName, date, time, format, ticketType }));\n\t});\n\n\tStore.on('SELECT_THEATER', (theater, _, ticketType = 'tickets') => {\n\t\tconst name = theater.name || '';\n\t\tconst chain = theater?.chain?.name || '';\n\t\tconst theaterChainName = name + '-' + chain;\n\t\tfire('showtimeSelectTheater', getVariables({ theaterChainName, ticketType }));\n\t});\n\n\tStore.on('GROUP_BOOKINGS_INQUIRE', theater => {\n\t\tconst name = theater.name || '';\n\t\tconst chain = theater?.chain?.name || '';\n\t\tconst theaterChainName = name + '-' + chain;\n\t\tfire('groupBookingsInquire', getVariables({ theaterChainName }));\n\t});\n\n\tStore.on('GROUP_BOOKINGS_NAVIGATE_STAGES', direction => {\n\t\tfire('groupBookingsNavigateStages', getVariables({ direction }));\n\t});\n\n\tStore.on('GROUP_BOOKINGS_SUBMIT', theater => {\n\t\tconst name = theater.name || '';\n\t\tconst chain = theater?.chain?.name || '';\n\t\tconst theaterChainName = name + '-' + chain;\n\t\tfire('groupBookingsSubmit', getVariables({ theaterChainName }));\n\t});\n\n\tStore.on('WRONG_REGION', (region, ticketType) => fire('wrongRegion', getVariables({ region, ticketType })));\n\tStore.on('SHOWTIMES_ERROR', (ticketType) => fire('showtimesError', getVariables({ ticketType })));\n\tStore.on('SHOWTIMES_EMPTY', (region, ticketType) => {\n\t\tconst { countryCode = '', city = '' } = region;\n\t\tfire('showtimesEmpty', getVariables({ countryCode, city, ticketType }));\n\t});\n\n\tStore.on('FILTER_SELECTED_TIME', (times, ticketType = 'tickets') => fire('showtimesFilterSelectedTime', getVariables({ times, ticketType })));\n\tStore.on('FILTER_SELECTED_DAY', (date, ticketType = 'tickets') => fire('showtimesFilterSelectedDay', getVariables({ date, ticketType })));\n\tStore.on('FILTER_SELECTED_FORMAT', (formats, ticketType = 'tickets') => fire('showtimesFilterSelectedFormat', getVariables({ formats, ticketType })));\n\n\tStore.on('SET_USER_LOCATION', (_, source, ticketType) => fire('showtimesSetUserLocation', getVariables({ source, ticketType })));\n\tStore.on('GEO_FROM_IP', (geo, ticketType) => {\n\t\tconst { countryCode = '', city = '' } = geo;\n\t\tfire('showtimesGeoFromIP', getVariables({ countryCode, city, ticketType }));\n\t});\n\tStore.on('USER_LOCATION_UPDATED', ({ geo, source, ticketType = 'tickets' }) => {\n\t\tif (source === 'landing' || !geo) {\n\t\t\treturn;\n\t\t}\n\t\tconst { city = '', countryCode = '' } = geo;\n\t\tfire('showtimesUserLocationUpdated', getVariables({ city, countryCode, ticketType }));\n\t});\n\n\n\tStore.on('CALENDAR_CLICKED', ({ label }) => fire('calendarReminder', getVariables({ calendarLabel: label })));\n\n\t/* Video Events */\n\tStore.on('VIDEO_PLAYER_PROGRESS', ({ platform, video, step, isShowtimesMessage, isTrailerOverlay }) => {\n\t\tconst progress = step === 95 ? 100 : step;\n\t\tlet type = isTrailerOverlay ? 'trailer' : 'videos';\n\t\tfire('videoProgress', getVariables({ video, platform, progress, type, showtimesMessage: isShowtimesMessage ? 'true' : 'false' }));\n\t});\n\n\t/* Photobooth Events */\n\tStore.on('START_PHOTOBOOTH', () => fire('photoboothStart'));\n\tStore.on('PHOTOBOOTH_GRANT_CAMERA_ACCESS', () => fire('photoboothAllowCameraAccess'));\n\tStore.on('PHOTOBOOTH_DENY_CAMERA_ACCESS', () => fire('photoboothDenyCameraAccess'));\n\tStore.on('PHOTOBOOTH_USE_CAMERA', () => fire('photoboothUseCamera'));\n\tStore.on('PHOTOBOOTH_UPLOAD', () => fire('photoboothUpload'));\n\tStore.on('PHOTOBOOTH_PHOTO_CAPTURED', () => fire('photoboothPhotoCaptured'));\n\tStore.on('PHOTOBOOTH_IMAGE_UPLOADED', () => fire('photoboothImageUploaded'));\n\tStore.on('SHARE_PHOTOBOOTH_IMAGE', () => fire ('photoboothShare'));\n\tStore.on('DOWNLOAD_PHOTOBOOTH_IMAGE', () => fire('photoboothDownload'));\n\tStore.on('PHOTOBOOTH_SOCIAL_CLICK', ({ platform }) => fire('photoboothSocialClick', getVariables({ platform })));\n\tStore.on('PHOTOBOOTH_RESTART', () => fire('photoboothRestart'));\n\n\t/* QuizPhotobooth Events */\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_VIEW', (cat) => fire('view', cat, '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_NAME_CLICK', () => fire('name-click', 'name', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_START_CLICK', () => fire('start-button-click', 'name', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_ANSWER_CLICK', ({ questionNum, answer }) => fire('answer-click', 'quiz', `question-${questionNum}_${answer}`));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_RESULT_REVEAL', (result) => fire('result-reveal', 'results', result));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_RESULT_SHARE', () => fire('result-share-cta', 'results', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_UPLOAD_OR_TAKE_PHOTO', (action) => fire('photo-options-click', 'results', action));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_CAMERA_PERMISSIONS', (allowOrDeny) => fire('camera-permissions', 'camera', allowOrDeny));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_CAPTURE_PHOTO', () => fire('photo-capture-click', 'camera', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_FLIP_CAMERA', () => fire('flip-camera', 'camera', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_RETAKE_OR_CONTINUE', (retakeOrContinue) => fire('resize-button-click', 'resize', retakeOrContinue));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_PINCH_ZOOM', () => fire('pinch-zoom', 'resize', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_ZOOM_CLICK', (plusOrMinus) => fire('zoom-click', 'resize', plusOrMinus));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_ROTATE_TWIST', () => fire('rotate-twist', 'resize', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_ROTATE_CLICK', (dir) => fire('rotate-click', 'resize', dir));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_RESULT_REVEAL_NO_INTERSTITIAL', () => fire('result-share-cta', 'shareable', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_CAROUSEL_SWIPE', () => fire('share-card-carousel-swipe', 'shareable', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_SHARE_CARD_CLICK', () => fire('share-card-click', 'shareable', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_REDO_CLICK', () => fire('redo-click', 'shareable', '-'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_ERROR_BACK', (screen) => fire('error-screen-back', `${screen}-error`, 'back-home'));\n\t// Store.on('TRACK_QUIZPHOTOBOOTH_LOGO_CLICK', () => fire('logo-home', 'header', 'back-home'));\n\n\t/* Custom Event - for single app GA tracking */\n\tStore.on('CUSTOM_EVENT', ({ category, action, label }) => {\n\t\tfire('customEvent', getVariables({ category, action, label }));\n\t});\n\n\t_init = (data) => {\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\t\tif (data.variables) {\n\t\t\tcustomVariables = data.variables;\n\t\t}\n\t\tObject.entries(data).forEach(([id, pixel]) => register(pixel, id));\n\t};\n\n\t_getStaticPixels = (data) => {\n\t\tlet variables = getVariables();\n\t\treturn Object.values(data).filter(pixel => shouldUsePixel(pixel) && pixel.static).map(pixel => withVariables(pixel.code, variables));\n\t};\n\t_register = register;\n\t_fire = fire;\n\t_getVariables = getVariables;\n}\n\nexport function init(data) {\n\treturn _init?.(data);\n}\n\nexport function getStaticPixels(data) {\n\treturn _getStaticPixels?.(data);\n}\n\nexport function register(...args) {\n\treturn _register?.(...args);\n}\n\nexport function fire(...args) {\n\treturn _fire?.(...args);\n}\n\nexport function getVariables(...args) {\n\treturn _getVariables?.(...args);\n}","import Store from 'store/store';\n\nStore.on('ENABLE_TRAILER_OVERLAY', (video) => {\n\tStore.emit('TOGGLE_TRAILER_OVERLAY', !!video, video);\n});\n\nStore.on('TOGGLE_TRAILER_OVERLAY', (open, video) => {\n\tif (!Store.get().trailerOverlay) {\n\t\tStore.get().set({ trailerOverlay: {} });\n\t}\n\n\tif (typeof open !== 'boolean') {\n\t\topen = !Store.get().trailerOverlay.overlayOpen;\n\t}\n\n\tconst data = video ? { video } : Store.get().appData?.options?.videoOverlay;\n\tStore.get().trailerOverlay.set({ overlayOpen: open, data });\n\tif (open) {\n\t\tStore.get().trailerOverlay.set({ overlayTriggered: true });\n\t}\n\n\tStore.emit(open ? 'ENABLE_SCROLLING_LOCK' : 'DISABLE_SCROLLING_LOCK');\n\n\tif (open) {\n\t\tStore.emit('SET_HEADER_ACTION', {\n\t\t\ticon: 'close',\n\t\t\taction: () => Store.emit('TOGGLE_TRAILER_OVERLAY', false),\n\t\t\ttag: 'closeTrailerOverlay'\n\t\t});\n\t} else {\n\t\tStore.emit('REMOVE_HEADER_ACTIONS', 'closeTrailerOverlay');\n\t}\n});","import Freezer from 'freezer-js';\n\nconst Store = new Freezer({}, {\n\t// live: true\n});\n\nStore.on('afterAll', function (reactionName) {\n\t// UNCOMMENT THIS TO LOG EVENTS\n\t//   PLEASE COMMENT BACK BEFORE PUSHING\n\t// console.log(...arguments);\n\n\tif (reactionName === 'update') {\n\t\treturn;\n\t}\n\tdispatch(reactionName);\n});\n\n\nStore.on(undefined, () => {\n\t// console.trace();\n\tthrow new Error('Undefined action! Please define your actions!');\n});\n\nfunction dispatch(eventName) {\n\tif (typeof window === 'undefined' || typeof Event !== 'function' || !window.dispatchEvent) {\n\t\treturn;\n\t}\n\tconst event = new Event(eventName);\n\twindow.dispatchEvent(event);\n}\n\nif (typeof window !== 'undefined') {\n\twindow.Store = Store;\n\tdispatch('NEW_STORE');\n}\n\nexport default Store;\n","import Store from 'store/store';\n\nexport const IMAGE_REGION_ROOT_DYNAMIC = '%IMAGE_REGION_ROOT_DYNAMIC%';\n\nexport function useDynamicAssetFolder(path) {\n\tif (!path || typeof path !== 'string') {\n\t\treturn path;\n\t}\n\tconst store = Store.get();\n\tconst imageRegionRoot = store?.appData?.urls?.roots?.imageRegion;\n\tconst assetUpdateDateTime = store?.appData?.options?.useAssetUpdateDateTime;\n\tlet newRoot = imageRegionRoot;\n\tif (assetUpdateDateTime && (Date.now() > assetUpdateDateTime)) {\n\t\tnewRoot += '/updates';\n\t}\n\treturn path.replace(/%IMAGE_REGION_ROOT_DYNAMIC%/g, newRoot);\n}\n","import { toQueryString, joinPaths, accessNested } from 'utils/utils';\nimport Store from 'store/store';\nimport parseQueryString from 'utils/parseQueryString';\n\nexport async function api(endpoint, options = {}, fetchOptions = {}) {\n\tif (typeof window === 'undefined') {\n\t\tthrow new Error('Trying to request server-side');\n\t}\n\n\tfetchOptions.headers = fetchOptions.headers || {};\n\tif (!fetchOptions.headers['content-type']) {\n\t\tfetchOptions.headers['content-type'] = 'application/json';\n\t}\n\n\tfetchOptions.referrer = '';\n\n\t// Move lat/lon to headers\n\tif (options.lon && options.lat) {\n\t\tfetchOptions.headers['x-requested-lat'] = options.lat;\n\t\tfetchOptions.headers['x-requested-lon'] = options.lon;\n\t\toptions = { ...options, lat: undefined, lon: undefined };\n\t}\n\t// Move bounding regions to headers\n\tif (options.countries) {\n\t\tfetchOptions.headers['x-requested-countries'] = options.countries;\n\t\toptions = { ...options, countries: undefined };\n\t}\n\t// Move location approximation (used for caching - typically city name) to headers\n\tif (options.approxPos) {\n\t\tfetchOptions.headers['x-requested-approxpos'] = options.approxPos.replace(/[^ -~]/g, '');\n\t\toptions = { ...options, approxPos: undefined };\n\t}\n\n\tconst store = Store.get();\n\tlet topPages = Object.entries(store.appData.pages);\n\tlet pagesAndSubpages = topPages.concat(topPages?.flatMap(([id, p]) => p.type === 'filmPage' && Object.values(p?.data || {}).map(e => [id, e]))).filter(e => e);\n\tlet showtimesPages = pagesAndSubpages.filter(([, page]) => page.type === 'showtimes');\n\tlet [, showtimesPage] = showtimesPages.find(([id]) => id === store.activePage) || showtimesPages[0] || [];\n\n\tconst apiUsageInterstetialEnabled = store.appData?.options?.apiUsageInterstetial;\n\tconst spreadsheetId = showtimesPage?.data?.spreadsheetId;\n\tlet useV2 = showtimesPage?.data?.useV2 ?? true;\n\tif ('useV2' in fetchOptions) {\n\t\tuseV2 = fetchOptions.useV2;\n\t\tfetchOptions = { ...fetchOptions, useV2: undefined };\n\t}\n\n\tconst expandedTheater = store?.showtimes?.inCinemaDetailView;\n\n\tif (expandedTheater) {\n\t\toptions.include_theaters = expandedTheater;\n\t}\n\n\t// Create required rules\n\t// Note: rules should be added in utils/bolt/showtimes, like other options (avoids adding it to all endpoints)\n\tconst rules = accessNested(store, 'appData.pages.boltShowtimes.data.rules', {});\n\tif (rules.changesSheet?.id && rules.changesSheet?.name) {\n\t\toptions.rules_groups = [`manualEntry::${rules.changesSheet?.id}::${rules.changesSheet?.name}`].concat(options.rules_groups || []);\n\t}\n\tif (rules.customRule?.name) {\n\t\tconst parameters = rules.customRule.parameters;\n\t\tconst normParameters = parameters\n\t\t\t? `::${parameters.replace(/\\s*,\\s*/ig, '::')}`\n\t\t\t: '';\n\t\toptions.rules_groups = [`${rules.customRule.name}${normParameters}`].concat(options.rules_groups || []);\n\t}\n\tif (Object.keys(rules).length >= (rules.customRule ? 1 : 0)) {\n\t\tlet id = store.appData?.meta?.id;\n\t\tlet activePagePath = store.appData?.pages?.[store.activePage]?.path;\n\t\toptions.rules_groups = [['appId', id, activePagePath].join('::')].concat(options.rules_groups || []);\n\t}\n\n\t// backward compatibility for builds without API keys\n\tlet host = 'https://showtimes.s-prod.pow.io/v1.1';\n\tif (store.apiKey && apiUsageInterstetialEnabled) {\n\t\tfetchOptions.headers['X-API-Key'] = store.apiKey;\n\t\thost = 'https://showtimes.pow.io/v1.1';\n\t}\n\tif (useV2) {\n\t\thost = 'https://showtimes-v2.s-prod.pow.io/v2.0';\n\t}\n\n\n\tif (spreadsheetId) {\n\t\tconst isAltered = ['/filters', '/location', '/screenings/more', 'chain/more'].find(x => endpoint.indexOf(x) !== -1);\n\t\tif (__IS_LOCAL__ || __IS_DEMO__) endpoint = endpoint.replace('dummy/', '');\n\t\tif (isAltered) {\n\t\t\tdelete fetchOptions.headers['X-API-Key'];\n\t\t\thost = `https://geolocated-results.s-prod.pow.io/v1.0/${spreadsheetId}`;\n\t\t}\n\t}\n\n\tif (__IS_LOCAL__ || __IS_DEMO__) {\n\t\tlet qs = parseQueryString();\n\t\tif (qs.localserver) {\n\t\t\thost = host.endsWith('v1.1') ? 'http://localhost:3000/v1.1' : 'http://localhost:3300/v2.0';\n\t\t}\n\t\t//Only used for showtimes rules which are not impelemented yet\n\t\t// if (useV2 && !qs.regularCache) {\n\t\t// \tfetchOptions.headers['pow-cache-include'] = 'theatersCore';\n\t\t// \t// fetchOptions.headers['x-pow-cache-include'] = 'theatersCore';\n\t\t// }\n\t\tif (qs.serverDebugLogs) {\n\t\t\toptions.debugLogs = true;\n\t\t}\n\t}\n\t// host = 'http://localhost:3000/v1.1';\n\t// host = 'http://localhost:3000/v2.0';\n\t// host = 'https://showtimes-v2.s-test.pow.io/v2.0';\n\t// ^ to test with your local server\n\n\tif (store.limitExceeded) {\n\t\tStore.emit('LIMIT_EXCEEDED', true);\n\t\tthrow 429;\n\t}\n\n\t// let minimum = new Promise((resolve) => setTimeout(resolve, 250));\n\t// let [res] = await Promise.all([\n\t// \tfetch(joinPaths(`${host}`, endpoint) + toQueryString(options), fetchOptions),\n\t// \tminimum\n\t// ]);\n\tlet res = await fetch(joinPaths(host, endpoint) + toQueryString(options), fetchOptions);\n\n\tif (!res.ok) {\n\t\tif (res.status === 429 && !store.usingLimitlessKey) {\n\t\t\tlet limitlessKeyPreviouslyUsed = false;\n\t\t\ttry {\n\t\t\t\tlimitlessKeyPreviouslyUsed = localStorage.getItem('limitlessKey');\n\t\t\t} catch (e) {}\n\t\t\tif (limitlessKeyPreviouslyUsed) {\n\t\t\t\tStore.emit('UPDATE_API_KEY');\n\t\t\t} else {\n\t\t\t\tStore.get().set({ limitExceeded: true });\n\t\t\t\tStore.emit('LIMIT_EXCEEDED', true);\n\t\t\t}\n\t\t}\n\t\tthrow res.status || res.error || res;\n\t}\n\n\treturn res.json();\n}\n\nexport async function homeEntApi(dataToSend) {\n\tif (typeof window === 'undefined') {\n\t\tthrow new Error('Trying to request server-side');\n\t}\n\n\tconst { justWatchId, jwRegion, jwFilmIdType, fafId, thundrData, useDummyData } = dataToSend;\n\n\tconst baseUrl = 'https://homeent.s-prod.pow.io/bolt-home-ent';\n\tconst query = {};\n\n\tif (justWatchId && jwRegion) {\n\t\tquery.jwFilmId = justWatchId;\n\t\tquery.jwLocale = jwSupportedLocales[jwRegion.toLowerCase()];\n\t}\n\n\tif (jwRegion && useDummyData) {\n\t\tquery.jwLocale = jwSupportedLocales[jwRegion.toLowerCase()];\n\t}\n\n\tif (jwFilmIdType) {\n\t\tquery.jwFilmIdType = jwFilmIdType;\n\t}\n\n\tif (fafId) {\n\t\tquery.fafFilmId = fafId;\n\t}\n\n\tif (useDummyData) {\n\t\tquery.useDummyData = 'true';\n\t}\n\n\tconst res = await fetch(baseUrl + toQueryString(query), {\n\t\tmethod: 'post',\n\t\theaders: {\n\t\t\t'content-type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify(thundrData)\n\t});\n\tif (!res.ok) {\n\t\tthrow res.status || res.error || res;\n\t}\n\n\treturn res.json();\n}\n\n// We should probably have this mapping on the server-side instead to avoid bloating the app's JS with it\nconst jwSupportedLocales = {\n\tus: 'en_US', //united states\n\tgb: 'en_GB', //united kingdom\n\tfr: 'fr_FR', //france\n\tde: 'de_DE', //germany\n\tbr: 'pt_BR', //brazil\n\tau: 'en_AU', //Australia\n\tnz: 'en_NZ', //New Zealand\n\tca: 'en_CA', //Canada for both ca or ca_fr\n\tca_fr: 'en_CA', //Canada for both ca or ca_fr\n\tza: 'en_ZA', //South Africa\n\tie: 'en_IE', //Ireland\n\tmx: 'es_MX', //Mexico\n\tjp: 'ja_JP', //Japan\n\tnl: 'en_NL', //Netherlands\n\tbe: 'fr_BE', //Belgium for be, be_fr and be_nl\n\tbe_fr: 'fr_BE', //Belgium for be, be_fr and be_nl\n\tbe_nl: 'fr_BE', //Belgium for be, be_fr and be_nl\n\tse: 'sv_SE', //Sweden\n\tth: 'en_TH', //Thailand\n\tpt: 'pt_PT', //Portugal\n\tcz: 'cs_CZ', //Czech Republic\n\tno: 'en_NO', //Norway\n\tru: 'ru_RU', //Russia\n\tin: 'en_IN', //India\n\tch: 'de_CH', //Switzerland for ch, ch_ch and ch_fr\n\tch_ch: 'de_CH', //Switzerland for ch, ch_ch and ch_fr\n\tch_fr: 'de_CH', //Switzerland for ch, ch_ch and ch_fr\n\tat: 'de_AT', //Austria\n\tph: 'en_PH', //Philippines\n\tsg: 'en_SG', //Singapore\n\tpl: 'pl_PL', //Poland\n\tfi: 'fi_FI', //Finland\n\tgr: 'el_GR', //Greece\n\ttr: 'tr_TR', //Turkey\n\tco: 'es_CO', //Colombia\n\tdk: 'en_DK', //Denmark\n\tar: 'es_AR', //Argentina\n\tcl: 'es_CL', //Chile\n\tes: 'es_ES', //Spain\n\tkr: 'ko_KR', //South Korea\n\tit: 'it_IT', //Italy\n\tlt: 'en_LT', //Lithuania\n\tpe: 'es_PE', //Peru\n\tee: 'en_EE', //Estonia\n\tlv: 'en_LV', //Latvia\n\tmy: 'en_MY', //Malaysia\n\tid: 'en_ID', //Indonesia\n\thu: 'hu_HU', //Hungary\n\tve: 'es_VE', //Venezuela\n\tro: 'ro_RO', //Romania\n\tec: 'es_EC' //Ecuador\n};\n\nexport async function imageShareApi(endpoint, { imageUrl, siteUrl, metaOverrides }) {\n\tif (typeof window === 'undefined') {\n\t\tthrow new Error('Trying to request server-side');\n\t}\n\n\tconst baseUrl = 'https://share.s-prod.pow.io';\n\tconst query = {\n\t\timageUrl,\n\t\tsiteUrl,\n\t\tmetaOverrides\n\t};\n\n\tconst res = await fetch(joinPaths(baseUrl, endpoint) + toQueryString(query));\n\tif (!res.ok) {\n\t\tthrow res.status || res.error || res;\n\t}\n\n\treturn res.text();\n}\n\nexport async function userFeedbackApi({ method, path, query, body }) {\n\tif (typeof window === 'undefined') {\n\t\tthrow new Error('Trying to request server-side');\n\t}\n\n\tlet url = `https://user-feedback.s-prod.pow.io${path || '/'}`;\n\tif (query) {\n\t\turl += toQueryString(query);\n\t}\n\n\tconst fetchOptions = {\n\t\tmethod\n\t};\n\n\tif (body) {\n\t\tfetchOptions.headers = {\n\t\t\t'content-type': 'application/json'\n\t\t};\n\t\tfetchOptions.body = JSON.stringify(body);\n\t}\n\n\ttry {\n\t\tconst res = await fetch(url, fetchOptions);\n\t\tif (!res.ok) {\n\t\t\tthrow res.status || res.error || res;\n\t\t}\n\t\treturn res.json();\n\t} catch (err) {\n\t\treturn err;\n\t}\n}","import Store from 'store/store';\nimport cached from 'utils/cached';\nimport { api } from 'utils/bolt/api';\nimport { accessNested } from 'utils/utils';\n\nconst getAppRegions = cached(async () => {\n\tconst store = Store.get();\n\tconst slug = accessNested(store, 'appData.meta.title.slug');\n\ttry {\n\t\tconst result = await api('/app/regions', { slug });\n\t\treturn result.response;\n\t} catch (e) {\n\t\tconsole.error(e);\n\t\treturn null;\n\t}\n});\n\nexport default getAppRegions;\n","import Store from 'store/store';\nimport { accessNested } from 'utils/utils';\n\nexport function getDeviceInfo() {\n\tconst dimensions = getDims();\n\tconst device = getDevice();\n\tconst deviceSize = getSize(dimensions, device);\n\tconst deviceWidthSize = getSize(dimensions, device, true);\n\tconst orientation = getOrientation(dimensions);\n\tconst isIOS = getIsIOS();\n\tconst isEdge = getIsEdge();\n\tconst isSafari = getIsSafari();\n\tconst isDesktopSize = getIsDesktopSize();\n\tconst isDesktopWidth = getIsDesktopWidth();\n\tconst isSocialWebview = getIsSocialWebview();\n\treturn {\n\t\tdimensions,\n\t\tdevice,\n\t\tdeviceSize,\n\t\tdeviceWidthSize,\n\t\torientation,\n\t\tisIOS,\n\t\tisEdge,\n\t\tisSafari,\n\t\tisDesktopSize,\n\t\tisDesktopWidth,\n\t\tisSocialWebview\n\t};\n}\n\nexport function getDims() {\n\treturn { width: window.innerWidth, height: window.innerHeight };\n}\n\nexport function getDevice() {\n\tif (typeof window !== 'undefined') {\n\t\tconst agent = ('' + navigator.userAgent).toLowerCase();\n\t\tif (agent.indexOf('android') !== -1) {\n\t\t\treturn 'android';\n\t\t}\n\t\tif (agent.indexOf('iphone') !== -1) {\n\t\t\treturn 'iphone';\n\t\t}\n\t\tif (agent.indexOf('ipad') !== -1) {\n\t\t\treturn 'ipad'; //ipad no longer seems to always appear in user agent\n\t\t}\n\t}\n\treturn navigator.maxTouchPoints > 1 ? 'tablet' : 'desktop';\n}\n\nexport function getSize(dimensions = getDims(), device = getDevice(), byWidthOnly) {\n\t// Bypass checks for iPhone as iPhone X is large\n\tif (device == 'iphone') {\n\t\treturn 'mobile';\n\t}\n\n\tconst store = Store.get();\n\tconst breakTablet = accessNested(store, 'appData.styling.variables.breakTablet', '767').replace('px', '');\n\tconst breakSmallDesktop = accessNested(store, 'appData.styling.variables.breakSmallDesktop', '1024').replace('px', '');\n\tconst breakDesktop = accessNested(store, 'appData.styling.variables.breakDesktop', '1280').replace('px', '');\n\tconst breakLargeDesktop = accessNested(store, 'appData.styling.variables.breakLargeDesktop', '1600').replace('px', '');\n\n\t// List of breakpoints (used if width is stritcly lower than the value)\n\tconst breakpoints = [[+breakTablet, 'mobile'], [+breakSmallDesktop, 'tablet'], [+breakDesktop, 'smallDesktop'], [+breakLargeDesktop, 'desktop'], [Infinity, 'largeDesktop']];\n\n\tfor (let i = 0; i < breakpoints.length; i++) {\n\t\tlet [breakpoint, name] = breakpoints[i];\n\t\tif (dimensions.width >= breakpoint) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// return tablet if small desktop but portrait\n\t\tif (name === 'smallDesktop' && dimensions.width < dimensions.height && !byWidthOnly) {\n\t\t\treturn 'tablet';\n\t\t}\n\n\t\t// recognise a mobile when its long and in landscape mode\n\t\tif (name !== 'mobile' && device !== 'tablet' && device !== 'desktop' && getOrientation({ width: dimensions.width, height: dimensions.height }) === 'landscape' && (dimensions.height < breakTablet) && !byWidthOnly) {\n\t\t\treturn 'mobile';\n\t\t}\n\t\treturn name;\n\t}\n\n\treturn 'unknown';\n}\n\nexport function getOrientation({ width, height }) {\n\treturn width > height ? 'landscape' : 'portrait';\n}\n\nexport function getIsDesktopSize(size = getSize()) {\n\tconst orientation = getOrientation(getDims());\n\treturn (size === 'desktop' || size === 'largeDesktop' || (size === 'smallDesktop' && orientation === 'landscape'));\n}\n\nexport function getIsDesktopWidth(size = getSize(getDims(), getDevice(), true)) {\n\treturn size.toLowerCase().includes('desktop');\n}\n\nexport function getIsIOS() {\n\tif (typeof window === 'undefined') {\n\t\treturn false;\n\t}\n\tconst agent = ('' + navigator.userAgent).toLowerCase();\n\tconst isIpad = /Macintosh/i.test(navigator.userAgent) && navigator.maxTouchPoints && navigator.maxTouchPoints > 1;\n\treturn agent.indexOf('ipad') !== -1 || isIpad || agent.indexOf('iphone') !== -1;\n}\n\nexport function getIsEdge() {\n\tconst ua = navigator.userAgent || '';\n\t// Chromium edge uses \"Edg\" - but we might want to treat it differently because different engine\n\tconst edge = ua.match(/Edge\\/(\\d+)\\./);\n\tif (edge) {\n\t\treturn +edge[1];\n\t}\n\treturn false;\n}\n\nexport function getIsSafari() {\n\treturn /^((?!chrome|android|CriOS|fxios).)*safari/i.test(navigator.userAgent);\n}\n\nexport function isIframed() {\n\treturn window.top !== window.self || /[?&]iframe([=&]|$)/i.test(location.search);\n}\n\n// check if it is a standalone home ent / ticketing page iframed on another site.\n// should be iframed and also have the query string showbarebones\nexport function getIsSinglePageIframed() {\n\tif (accessNested(Store.get(), 'appData.options.bareboneShowtimesView', false)) {\n\t\treturn true;\n\t}\n\n\tif (typeof window === 'undefined') {\n\t\treturn false;\n\t}\n\tconst isSinglePage = /[?&]showbarebones([=&]|$)/i.test(location.search);\n\treturn isIframed() && isSinglePage;\n}\n\nexport function getIsShowtimesOnlyIframed() {\n\tif (accessNested(Store.get(), 'appData.options.bareboneShowtimesView', false)) {\n\t\treturn true;\n\t}\n\n\tif (typeof window === 'undefined') {\n\t\treturn false;\n\t}\n\tconst isSinglePage = /[?&]showbarebones=showtimes([&]|$)/i.test(location.search);\n\treturn isIframed() && isSinglePage;\n}\n\nexport function getIsSocialWebview() {\n\tconst agent = (navigator.userAgent || '').toLowerCase();\n\treturn ['instagram', 'webview', 'fban', 'fbav', 'tiktok'].some(type => agent.indexOf(type) !== -1);\n}\n\nexport function hideFooter() {\n\tif (typeof window === 'undefined') {\n\t\treturn false;\n\t}\n\tconst hideFooter = /[?&]hideFooter([=&]|$)/i.test(location.search);\n\treturn hideFooter;\n}","// import Store from 'store/store';\nimport cached from 'utils/cached';\nimport { api } from 'utils/bolt/api';\nimport { asList } from 'utils/utils';\nimport { getShowtimesData } from 'utils/bolt';\n\n// Not waiting, we just want whatever is available\nconst currentLocationOptions = async () => {\n\t// Should we use geo from ip or the current location?\n\t// let geo = accessNested(Store.get(), 'client.geo') || {};\n\t// return { lat: geo.lat, lon: geo.lon };\n\ttry {\n\t\tconst geo = await geoFromIP();\n\t\treturn { lat: geo.lat, lon: geo.lon };\n\t} catch (err) {\n\t\treturn {};\n\t}\n};\n\n// const getDefaultRegionBiasing = cached(() => {\n// \t// let region = (await geoFromIP()).countryCode;\n// \tlet region = __REGION__;\n// \t// Special cases (ccTLD, not ISO ; see https://developers.google.com/maps/documentation/geocoding/intro#RegionCodes)\n// \tif (region === 'gb') {\n// \t\tregion = 'uk';\n// \t}\n// \tif (!/^[a-z]{2}$/.test(region)) {\n// \t\treturn;\n// \t}\n// \treturn { region };\n// });\n\nexport const geoFromIP = cached(async () => {\n\tlet data = {};\n\ttry {\n\t\tlet result = await fetch('https://stdata.powster.com/geo');\n\t\tdata = await result.json();\n\t} catch (err) {}\n\tif (!data?.city) {\n\t\ttry {\n\t\t\tlet countryCode = data?.countryCode || __REGION__;\n\t\t\tlet capitalURL = new URL('https://stdata.powster.com/capital');\n\t\t\tcapitalURL.searchParams.set('country', countryCode.toLowerCase());\n\t\t\tlet capitalRes = await fetch(capitalURL);\n\t\t\tif (!capitalRes.ok) throw new Error();\n\t\t\tObject.assign(data, await capitalRes.json());\n\t\t} catch (err) {}\n\t}\n\tif (data?.countryCode) {\n\t\tdata.countryCode = data.countryCode.toLowerCase();\n\t}\n\treturn data;\n});\n\nexport async function geoSearch(options) {\n\tconst allAllowedRegions = [__REGION__, ...asList(getShowtimesData().boundingRegions)].map(s => s.toUpperCase());\n\n\toptions = Object.assign({\n\t\tregion: allAllowedRegions.join(',')\n\t}, await currentLocationOptions(), options);\n\tif (!options.search) {\n\t\tthrow new Error('Searching with empty value');\n\t}\n\n\tconst data = await api('/geo/search', options);\n\n\tif (!data?.response) {\n\t\tthrow new Error('Unable to search for ' + options.search);\n\t}\n\n\treturn data.response.sort((a, b) => {\n\t\tlet aAllowed = allAllowedRegions.includes(a.countryCode);\n\t\tlet bAllowed = allAllowedRegions.includes(b.countryCode);\n\t\tif (aAllowed && !bAllowed) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (!aAllowed && bAllowed) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t});\n}\nexport async function geoSearchOne(options) {\n\tlet res = await geoSearch(options);\n\tif (!res?.[0]) {\n\t\tthrow new Error('No results for ' + options.search);\n\t}\n\treturn res[0];\n}","import { accessNested } from 'utils/utils';\n\nexport function filterUnusedPages(props, items) {\n\tconst pages = accessNested(props, 'appData.pages');\n\treturn items.filter(item => pages[item.path] || item.path?.match(/^https?:\\/\\//i) || item.path?.startsWith('@') || item.path?.startsWith('mailto:') || item.forceShow);\n}\n","import Store from 'store/store';\nimport { getDeviceInfo } from 'utils/bolt/client';\nimport { accessNested, commaSeparatedList, parseDate, toQueryString } from 'utils/utils';\n// import cached from 'utils/cached';\nimport stringWithParams from 'utils/stringWithParams';\n\nexport function buildClientStoreData(state) {\n\tObject.assign(state.client, getDeviceInfo());\n\treturn state;\n}\n\nexport function getValueForClientSize(variable = {}, client, options = {}) {\n\tif (typeof variable === 'string' || !variable) {\n\t\treturn variable;\n\t}\n\n\tif (!client) {\n\t\tclient = Store.get().client;\n\t}\n\n\tlet {\n\t\tdeviceSize = 'mobile',\n\t\torientation = 'portrait'\n\t} = client;\n\n\tif (deviceSize === 'largeDesktop' || deviceSize === 'smallDesktop') deviceSize = 'desktop';\n\n\tlet deviceOrientation = `${deviceSize}${orientation[0].toUpperCase() + orientation.slice(1)}`;\n\n\tif (options.nullIfDisabled) {\n\t\t// if you want to return nothing when the relevant item in thundr is disabled,\n\t\t// instead of using the fallback logic.\n\t\t// ex: don't show TT on mobile landscape if \"mobileLanscape\" is disabled in \"variable\", but use the next\n\t\t// available asset if \"mobileLandscape\" is an empty string.\n\t\tif (variable[deviceOrientation] === undefined && variable[deviceSize] === undefined) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tif (deviceOrientation === 'mobileLandscape' && !variable.mobileLandscape) {\n\t\tdeviceOrientation = 'tabletLandscape';\n\t}\n\n\tif (deviceOrientation === 'tabletLandscape' && !variable.tabletLandscape) {\n\t\tdeviceOrientation = 'desktopLandscape';\n\t\tdeviceSize = 'desktop';\n\t}\n\n\treturn variable[deviceOrientation] || variable[deviceSize] || variable.desktop || variable.tablet || variable.mobile;\n}\n\nconst replaceVH = str => typeof str === 'string' ? str.replace(/\\b(\\d+)vh\\b/g, 'calc($1 * var(--vh))') : str;\n\nexport function getSizeOverride(data) {\n\tconst size = getValueForClientSize(data);\n\tif (!size) {\n\t\treturn size;\n\t}\n\tif (typeof size === 'string') {\n\t\treturn replaceVH(size);\n\t}\n\treturn Object.fromEntries(\n\t\tObject.entries(size).map(([key, value]) => [key, replaceVH(value)])\n\t);\n}\n\nexport function getTTSizeOverride(tt) {\n\treturn getSizeOverride(tt?.titleTreatmentSize) || {};\n}\n\nexport function normalizeRegion(region) {\n\tif (!region || typeof region !== 'string') {\n\t\treturn null;\n\t}\n\tregion = region.toUpperCase().replace(/^([A-Z]{2})_.+$/, '$1');\n\treturn region.length === 2 ? region : null;\n}\n\nexport function getPagePath(pageData) {\n\tlet path = pageData?.path || '/';\n\tlet hash = '';\n\tif (path.startsWith('#')) {\n\t\thash = path;\n\t\tpath = '/';\n\t\tif (pageData.section) {\n\t\t\tpath = Store.get().pages?.boltHome?.path || '/';\n\t\t}\n\t}\n\treturn { path, hash };\n}\n\nexport function getRelativePageUrl(page, queryString = typeof window !== 'undefined' ? location.search : '', hashInPage) {\n\tlet store = Store.get();\n\tlet activePage = store.activePage;\n\tlet newPageData = typeof page === 'string' ? store.appData?.pages?.[page] : page;\n\tif (!newPageData) {\n\t\treturn null;\n\t}\n\tif (typeof queryString === 'object') {\n\t\tqueryString = toQueryString(queryString);\n\t}\n\t// let qs = !ignoreQueryString && typeof window !== 'undefined' ? location.search : '';\n\n\tlet { path, hash } = getPagePath(newPageData);\n\thash = hash || hashInPage || '';\n\tif (hash && !hash.startsWith('#')) {\n\t\thash = '#' + hash;\n\t}\n\n\tlet currentPageData = accessNested(store, ['appData', 'pages', activePage]);\n\tif (!currentPageData) {\n\t\treturn path + queryString + hash;\n\t}\n\n\tlet relativeRoot = getPagePath(currentPageData).path.slice(1).split('/').slice(1).fill('../').join('');\n\treturn (relativeRoot + path.slice(1) + queryString + hash) || './';\n}\n\nexport function getPageIdFromURL(pages) {\n\tlet url = location.pathname + location.hash;\n\tif (__IS_LOCAL__) url = url.replace('/preview/', '/');\n\tlet top = Object.values(pages || Store.get().appData.pages || {}).flatMap(page => {\n\t\treturn [page.path, ...commaSeparatedList(page.alternatePaths)].map(path => {\n\t\t\tif (page.baseHtml) {\n\t\t\t\tpath = path?.startsWith('#') ? page.baseHtml + path : path + page.baseHtml;\n\t\t\t}\n\t\t\treturn url.includes(path) ? { id: page.id, count: path.length } : null;\n\t\t});\n\t}).filter(e => e).sort((a, b) => a.count - b.count).pop();\n\treturn top?.id;\n}\n\nexport function getMainPage() {\n\tconst pageList = Object.values(Store.get().appData.pages);\n\tconst homePage = pageList.find(page => page.page === 'home') || pageList[0];\n\treturn homePage ? homePage.id : null;\n}\n\nexport function isVideosPage(id) {\n\treturn Store.get().appData.pages[id]?.type === 'videos';\n}\n\nexport function getPageFromVideoId(id) {\n\tconst videoPages = Object.values(Store.get().appData.pages).filter(page => page.type === 'videos');\n\tconst page = videoPages.find(page => Object.values(page.data?.list).find(video =>\n\t\t(video.youtubeId === id || video.vimeoId === id || video.videoSrc === id)\n\t));\n\treturn page?.id || 'boltVideos';\n}\n\nexport function shouldShowShowtimes(forceLive, goLiveDate) {\n\tif (!arguments.length) {\n\t\tconst store = Store.get();\n\t\tforceLive = accessNested(store, 'appData.options.forceLive');\n\t\tgoLiveDate = parseDate(accessNested(store, 'appData.meta.dates.live') || accessNested(store, 'appData.meta.dates.release'));\n\t}\n\treturn forceLive || goLiveDate <= Date.now();\n}\n\nexport const isDualViewEnabled = pages => {\n\tconst appData = Store.get().appData;\n\n\tif (!appData?.options?.dualView) {\n\t\treturn false;\n\t}\n\n\tif (!pages) {\n\t\tpages = Object.values(appData.pages);\n\t}\n\n\tconst hasShowtimes = pages.find(page => getPageType(page) === 'showtimes');\n\tconst hasHomeEnt = pages.find(page => getPageType(page) === 'homeEnt');\n\tconst hasWidget = pages.find(page => getPageType(page) === 'stickAndScaleWidget');\n\n\treturn (hasShowtimes && shouldShowShowtimes() && hasHomeEnt) || (hasShowtimes && hasHomeEnt && hasWidget);\n};\n\nexport const getPageType = page => (\n\tpage.component || page.type\n);\n\nexport function addCSSRuleset(selector, declarations) {\n\tconst style = document.createElement('style');\n\tconst sheet = document.head.appendChild(style).sheet;\n\n\tif (Array.isArray(declarations)) {\n\t\tdeclarations = declarations.join(';');\n\t}\n\tif (declarations && typeof declarations === 'object') {\n\t\tdeclarations = Object.entries(declarations).map(([key, val]) => `${key}:${key === 'content' ? \"'\" + val + \"'\" : val}`).join(';');\n\t}\n\tsheet.insertRule(selector + '{' + declarations + '}', sheet.cssRules.length);\n}\n\nexport function navigateInternally(destination, opts = {}) {\n\t// Supports the following link formats:\n\t// - path\n\t// - path#section\n\t// - pageId\n\t// - pageId#section\n\n\tif (destination.startsWith('@')) {\n\t\treturn Store.emit('OPEN_RESERVED_VARIABLE_LINK', destination);\n\t}\n\n\tif (destination.includes('#') && !destination.startsWith('#')) {\n\t\tconst pageAndHash = destination.match(/^([\\w\\d_-]+)#([\\w\\d_-]+)$/);\n\t\tif (pageAndHash?.length === 3) {\n\t\t\tStore.emit('SET_ACTIVE_PAGE', pageAndHash[1], null, { hashInPage: `#${pageAndHash[2]}` });\n\t\t}\n\t\treturn;\n\t}\n\n\tconst pages = Store.get().appData?.pages;\n\t// Tries to find page based on pageId\n\tlet page = pages?.[destination];\n\tif (!page) {\n\t\t// If it didn't find page based on id, tries to find it based on path\n\t\tpage = Object.values(pages || {}).find(e => e.path === destination || e.path === `/${destination}/`);\n\t}\n\n\tif (!page) {\n\t\treturn;\n\t}\n\n\tif (!page.section && !page.type && destination !== 'boltHome') {\n\t\tStore.emit('CLOSE_ALL_OVERLAYS');\n\t\tStore.emit('SET_ACTIVE_PAGE', destination);\n\t\treturn;\n\t}\n\n\tif (page?.type === 'showtimes') {\n\t\tStore.emit('SHOWTIMES_SHOW', opts?.animate, opts?.queryString, page?.id);\n\t\tif (accessNested(Store.get(), 'appData.pages.boltShowtimes.data.groupBookings.isEnabled', false)) {\n\t\t\tif (Store.get().groupBookingsShowtimes) {\n\t\t\t\thistory?.replaceState(null, '', location?.pathname + '?groupbookings');\n\t\t\t} else {\n\t\t\t\thistory?.replaceState(null, '', location?.pathname + '?booknow');\n\t\t\t}\n\t\t}\n\t} else if (page?.type === 'homeEnt') {\n\t\tStore.emit('HOMEENT_SHOW', undefined, undefined, destination);\n\t} else if (page?.type === 'pressKit') {\n\t\tStore.emit('PRESSKIT_SHOW', undefined, undefined, destination);\n\t} else if (page?.type === 'videos') {\n\t\tStore.emit('OPEN_VIDEO_OVERLAY', destination, opts?.queryString);\n\t} else if (page.parent && page.parent === Store.get().activePage) {\n\t\t// if the destination page is a child of the currently active page, just scroll to destination section\n\t\tStore.emit('CHANGE_ACTIVE_SECTION', page.id);\n\t} else if (page.parent) {\n\t\t// if the destination page is a child of a page that is not the currently active page,\n\t\t// navigate to the parent page then scroll to the destination section\n\t\t//find hashinpage\n\t\tconst hashInPage = '#' + page.path.replaceAll('/', '');\n\t\tStore.emit('CLOSE_ALL_OVERLAYS');\n\t\tStore.emit('SET_ACTIVE_PAGE', page.parent, null, { hashInPage });\n\t} else {\n\t\tStore.emit('CLOSE_ALL_OVERLAYS');\n\t\tStore.emit('SET_ACTIVE_PAGE', destination);\n\t\tStore.emit('CHANGE_ACTIVE_SECTION', destination, { instant: opts?.instant !== false });\n\t\tif (page?.type === 'stickAndScaleWidget') {\n\t\t\tStore.emit('EXPAND_WIDGET');\n\t\t}\n\t}\n}\n\nconst isObjectOrArray = v => typeof v === 'object' && v !== null;\nfunction _merge(source, data) {\n\tif (!isObjectOrArray(data)) {\n\t\treturn source;\n\t}\n\tObject.entries(data).forEach(([key, value]) => {\n\t\tif (!isObjectOrArray(value)) {\n\t\t\tsource[key] = value;\n\t\t\treturn;\n\t\t}\n\t\tsource[key] = _merge(isObjectOrArray(source[key]) ? source[key] : {}, value);\n\t});\n\treturn source;\n}\nfunction merge(source, ...objects) {\n\treturn objects.reduce((merged, obj) => _merge(merged, obj), source);\n}\n\nexport function getPageMeta({ store = Store.get(), appData = store.appData, page = store.activePage } = {}) {\n\tlet metaTags = appData?.doc?.metaTags;\n\tlet pageSpecificMeta = metaTags?.pageSpecificMetaTags?.[page];\n\treturn merge({}, metaTags, pageSpecificMeta);\n}\n\nexport function getPageTitle(data) {\n\tlet store = data?.store || Store.get();\n\tlet appData = data?.appData || store.appData;\n\tlet page = data?.page || store.activePage;\n\tlet meta = data?.meta || getPageMeta({ store, appData, page });\n\tlet title = meta.title;\n\tlet pageData = appData.pages?.[page];\n\tlet pageName = pageData ? stringWithParams(appData.copy?.baseCopy, pageData.name) : '';\n\treturn stringWithParams({ ...appData.copy?.baseCopy, PAGE_NAME: pageName }, title);\n}\n\nexport function getHeaderHeight() {\n\tconst header = document.querySelector('#header');\n\tif (!header) {\n\t\treturn 0;\n\t}\n\tconst headerHeight = getComputedStyle(header).height;\n\treturn parseInt(headerHeight, 10);\n}\n\nexport function linkOut(href, target) {\n\tconst a = document.createElement('a');\n\ta.href = href;\n\ta.target = target || '_blank';\n\ta.rel = 'noopener';\n\ta.click();\n}\n\nexport function\tarrayWithUniqueKeys(array, key = 'key') {\n\t// let map = array.reduce((map, obj) => map.set(obj?.[key], obj), new Map());\n\t// return [...map.values()];\n\treturn Object.values(Object.fromEntries(array.map(e => [e?.[key], e])));\n}\n\nexport function getSectionsWithContent(sections) {\n\tif (typeof window === 'undefined') {\n\t\treturn [];\n\t}\n\treturn [...document.querySelectorAll('[data-section]')].filter(section => {\n\t\treturn sections.find(s => s.id === section.getAttribute('data-section')) && section.hasChildNodes();\n\t});\n}\n\nexport function getShowtimesData() {\n\tlet store = Store.get();\n\t// TODO: check store.showtimes.show rather than activePage?\n\tlet activePage = store.activePage;\n\tconst pageType = store.appData?.pages?.[activePage]?.type;\n\tconst pageId = (pageType === 'showtimes' || pageType === 'filmPage') ? activePage : 'boltShowtimes';\n\tlet pageData = store.appData?.pages?.[pageId]?.data || {};\n\tif (pageType === 'filmPage') {\n\t\tpageData = Object.values(store.appData?.pages?.[activePage]?.data || {}).find(section => section.type === 'showtimes')?.data || {};\n\t}\n\treturn pageData;\n}","import Store from 'store/store';\nimport cached from 'utils/cached';\nimport parseQueryString from 'utils/parseQueryString';\nimport { parseDate, commaSeparatedList } from 'utils/utils';\nimport formatDateTime from 'utils/formatDateTime';\nimport hooks from 'utils/hooks';\nimport slugify from 'utils/slugify';\n\nconst defaultDate = cached(() => {\n\tlet value = parseDate(Store.get().appData?.pages?.boltShowtimes?.data?.defaultDate);\n\treturn !Number.isNaN(+value) ? formatDateTime(value, 'yyyy-MM-dd') : null;\n});\n\nconst validTimes = ['morning', 'afternoon', 'evening', 'late'];\nexport const getBaseFilters = async (qs) => {\n\tlet query = parseQueryString(qs);\n\tlet result = {};\n\n\tresult.audioDetails = [];\n\tconst formatArray = commaSeparatedList(query.format);\n\tif (formatArray?.length) {\n\t\tresult.format = formatArray;\n\t\tif (result.format.includes('dolby')) {\n\t\t\tresult.format = result.format.filter(e => e !== 'dolby');\n\t\t\tresult.audioDetails.push('Dolby Cinema');\n\t\t}\n\t}\n\tconst timeArray = (commaSeparatedList(query.time) || []).filter(e => validTimes.includes(e));\n\tif (timeArray?.length) {\n\t\tresult.time = timeArray;\n\t}\n\tconst exhibitor = commaSeparatedList(query.chain || query.exhibitor);\n\tif (exhibitor?.length) {\n\t\tresult.exhibitor = exhibitor;\n\t}\n\n\tconst movies = commaSeparatedList(query.m);\n\tif (movies?.length) {\n\t\tresult.movie = movies;\n\t}\n\n\tconst queryArray = commaSeparatedList(query.movie || query.title);\n\n\tif (queryArray?.length) {\n\t\tconst movieDataEntries = Object.entries(Store.get().appData?.pages?.boltShowtimes?.data?.movieData || {});\n\n\t\tconst queryMovieIds = queryArray.map(q => {\n\t\t\tconst matchingEntry = movieDataEntries.find(entry => {\n\t\t\t\tconst [movieId, movieData] = entry;\n\t\t\t\tconst slug = movieData.querySlug || slugify(movieData.title, { replaceAccentedChars: true });\n\t\t\t\treturn q === slug;\n\t\t\t});\n\t\t\tif (matchingEntry) {\n\t\t\t\treturn matchingEntry[0];\n\t\t\t}\n\t\t\treturn q;\n\t\t});\n\n\t\tlet movie = await hooks.call('querystring.filters.movie', queryMovieIds);\n\n\t\tif (movie?.length) {\n\t\t\tresult.movie = movie;\n\t\t}\n\t}\n\n\t// today's date is in store anyway, so no need to account for that here\n\tconst desiredDate = parseDate(query.date);\n\tconst baseDefaultDate = defaultDate();\n\tlet now = Date.now();\n\tif (desiredDate && !Number.isNaN(+desiredDate) && desiredDate > now) {\n\t\tresult.date = [formatDateTime(desiredDate, 'yyyy-MM-dd')];\n\t} else if (baseDefaultDate && new Date(baseDefaultDate) > now) {\n\t\tresult.date = [baseDefaultDate];\n\t}\n\n\treturn result;\n};\n","import { h } from 'preact';\nimport { isWebPSupported } from 'utils/isWebPSupported';\n\nconst mimeTypesMap = { jpg: 'jpeg', png: 'png' };\nconst getMimeType = (ext) => `image/${mimeTypesMap[ext] || ext}`;\n\nexport function getAssetUrl(src, fallbackFormat = 'jpg') {\n\treturn isWebPSupported() ? src : src?.replace(/\\.webp$/, `.${fallbackFormat}`);\n}\n\nexport function Picture({ src, fallbackFormat, ...props }) {\n\tif (!src?.endsWith?.('.webp')) {\n\t\treturn <img {...props} src={src} />;\n\t}\n\tlet fallback = src.replace(/webp$/, fallbackFormat || 'jpg');\n\treturn (\n\t\t<picture>\n\t\t\t<source srcset={src} type=\"image/webp\" />\n\t\t\t<source srcset={fallback} type={getMimeType(fallbackFormat)} />\n\t\t\t<img {...props} src={fallback} />\n\t\t</picture>\n\t);\n}\n\nexport function css(asset, fallbackFormat) {\n\treturn asset ? `url(\"${encodeURI(getAssetUrl(asset, fallbackFormat))}\")` : '';\n}","/*\nCACHES A FUNCTION RESULT\nUseful if an long function always returns the same result and can be called accross the code\n\nExample:\nconst myAPICall = cached(() => fetch('/endpoint').then(r => r.json()));\nconst res1 = await myAPICall(); // actually calls the api\nconst res2 = await myAPICall(); // returns a resolved promise, so instantly goes through\n// res1 === res2\n\nImportant note:\nWhile it passes the arguments down to the function, it does not cache based on them\nThis can lead to unexpected results if the function expects any non-constant argument, example:\n\nlet getColorValue = cached(color => color);\nlet blue = getColorValue('blue');\nlet red = getColorValue('red'); // THIS WILL RETURN BLUE\n*/\n\nexport default function cached(fn) {\n\tlet ran = false;\n\tlet cache;\n\tlet clearTimer;\n\tlet cachedFunc = function() {\n\t\tif (!ran) {\n\t\t\tran = true;\n\t\t\tcache = fn.apply(this, arguments);\n\t\t}\n\t\treturn cache;\n\t};\n\tcachedFunc.expireIn = (ms) => {\n\t\tclearTimer = setTimeout(() => this.reset(), ms);\n\t};\n\tcachedFunc.reset = () => {\n\t\tclearTimeout(clearTimer);\n\t\tran = false;\n\t};\n\tcachedFunc.force = function() {\n\t\tcachedFunc.reset();\n\t\tcachedFunc.apply(this, arguments);\n\t};\n\treturn cachedFunc;\n}\n","export function getCookie(name) {\n\tlet nameEq = `${name}=`;\n\tlet cookies = document.cookie.split(';').map(e => e.trim());\n\n\tfor (let cookie of cookies) {\n\t\tif (cookie.startsWith(nameEq)) {\n\t\t\treturn cookie.slice(nameEq.length);\n\t\t}\n\t}\n\treturn null;\n}\n\nexport function setCookie(name, value, days) {\n\tlet expiry;\n\tif (+days) {\n\t\texpiry = (new Date(Date.now() + (days * 24 * 3600 * 1000))).toUTCString();\n\t}\n\n\tlet parts = [\n\t\t[name, value],\n\t\texpiry && ['expires', expiry],\n\t\t['path', '/']\n\t];\n\tdocument.cookie = parts.filter(e => e).map(part => part.join('=')).join('; ');\n}\n","import Store from 'store/store';\n\n// Utils related to copy\n\nlet copy = {};\nlet isCopySet = false;\n\n/**\n * Gets copy for the provided key + replace variables inside that copy.\n *\n * @example\n * getCopy('GALLERY_ALT_TITLE', { movieName: 'Rogue One', studioName: 'Disney' });\n * // returns 'Rogue One: Gallery | Disney'\n *\n * getCopy('CURRENCY', { value: 20 });\n * // returns 20\n *\n * getCopy('GET_TICKETS');\n * // returns Get Tickets\n *\n * getCopy('DYNAMIC_TITLE', { movieName: 'Star Trek' });\n * // returns: Star Trek: Hello There | Star Trek\n *\n * getCopy('TICKETS', {}, 'tickets');\n * // TICKETS isn't in the copy object, so it will return the fallback\n * // returns: tickets\n *\n * @note If there are two keys KEY and $KEY defined in copy, you WON'T be able to access\n *       KEY with this function. Use appData instead (or find a different name).\n *\n * @param {string} copyKey - the copy key (with or without the starting $)\n * @param {Object} [opts={}] - options\n * @param {string} [fallback=''] - the fallback value\n * @return {string} the localized string\n */\nexport const getCopy = (copyKey, opts = {}, fallback = '', fromCopy, boltCopyType) => {\n\tif (fromCopy && typeof fromCopy !== 'object') {\n\t\tfromCopy = null;\n\t}\n\n\tif ((!fromCopy && !isCopySet) || boltCopyType) {\n\t\t// Haven't retrieved copy yet, so lets do that first\n\t\tconst store = Store.get();\n\t\tcopy = store.appData?.copy || store.copy || {};\n\t\tisCopySet = true;\n\t}\n\n\tif (!fromCopy) {\n\t\tif (boltCopyType === 'accessibilityCopy') {\n\t\t\tfromCopy = copy.accessibilityCopy;\n\t\t} else if (boltCopyType === 'baseCopy' || copy.baseCopy) {\n\t\t\tfromCopy = copy.baseCopy;\n\t\t} else {\n\t\t\tfromCopy = copy;\n\t\t}\n\t}\n\n\tlet copyItem = null;\n\tif (copyKey) {\n\t\tif (copyKey.charAt(0) !== '$') {\n\t\t\tcopyItem = fromCopy['$' + copyKey];\n\t\t\tif (copyItem === undefined) copyItem = fromCopy[copyKey];\n\t\t} else {\n\t\t\tcopyItem = fromCopy[copyKey];\n\t\t\tif (copyItem === undefined) copyItem = fromCopy[copyKey.substr(1)];\n\t\t}\n\t}\n\tif (copyItem === undefined) copyItem = fallback;\n\n\t// Loop through all the options to see replace\n\tObject.keys(opts).forEach((key) => {\n\t\t// Transform movieName to MOVIE_NAME\n\t\tlet realKey = key;\n\t\tif (key.toUpperCase() !== key) {\n\t\t\trealKey = key.replace(/([A-Z])/g, ' $1').replace(/ /g, '_').toUpperCase();\n\t\t}\n\n\t\tconst regex = new RegExp('%' + realKey + '%', 'g');\n\t\t// Replace the keys with what was provided\n\t\tcopyItem = copyItem.replace(regex, opts[key]);\n\t});\n\n\treturn copyItem;\n};\n","// Live testing http://jsfiddle.net/845v7d2p/\n//   (see documentation/dateFormat.md for more info)\n\n// Based on .Net DateTimeFormat.Format\n// See https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx for list of format specifiers\n// MODIFICATIONS :\n//  - unsupported: g (Era), K (time zone info)\n//  - f and F are only precise up to 3 (= milliseconds)\n//  - t/tt is lowercase and supports T/TT for uppercase alternative\n//  - added oo for ordinal version of the date (e.g. 12th)\n//  - adding more M or d changes the case:\n//     - 1 = number            1\n//     - 2 = padded number     01\n//     - 3 = standard short    Jan\n//     - 4 = standard long     January\n//     - 5 = uppercase short   JAN\n//     - 6 = uppercase long    JANUARY\n//     - 7 = lowercase short   jan\n//     - 8 = lowercase long    january\n// Be careful to use \\\\ instead of \\ when in a json/js string literal to prevent default backslash behaviour\n// (Base implementation used as reference :\n//   'FormatCustomized' @ http://referencesource.microsoft.com/#mscorlib/system/globalization/datetimeformat.cs,429)\nexport default function formatDateTime(date, format, copy) {\n\tif (!date || !format) return '';\n\tif (!(date instanceof Date)) {\n\t\tdate = new Date(date);\n\t}\n\tif (copy) {\n\t\tcopy = Object.assign({}, localeDefaults, copy);\n\t} else {\n\t\tcopy = localeDefaults;\n\t}\n\tlet result = '';\n\tlet i, l, ch, tokenLen;\n\tfor (i = 0, l = format.length; i < l; i += tokenLen) {\n\t\ttokenLen = 1;\n\t\tch = format[i];\n\t\tlet fn = baseFunctions[ch];\n\t\tif (fn) {\n\t\t\ttokenLen = parseRepeatPattern(format, i, ch, l);\n\t\t\tresult += fn(date, tokenLen, copy);\n\t\t} else {\n\t\t\tswitch (ch) {\n\t\t\t\tcase ':':\n\t\t\t\t\tresult += copy.$TIME_SEPARATOR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '/':\n\t\t\t\t\tresult += copy.$DATE_SEPARATOR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\\'':\n\t\t\t\tcase '\"':\n\t\t\t\t\ttokenLen = parseQuoted(format, i); // Length including quotes\n\t\t\t\t\t// Add the string without quotes\n\t\t\t\t\tresult += format.substr(i + 1, tokenLen - 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\\\\':\n\t\t\t\t\ttokenLen = 2;\n\t\t\t\t\tif (i < l - 1) {\n\t\t\t\t\t\tresult += format[i + 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// If \\ is the last character of the string, add it as a literal\n\t\t\t\t\t\tresult += '\\\\';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tresult += ch;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\n// Default that should be used if no copy is specified\nlet localeDefaults = {\n\t$AM: 'am',\n\t$PM: 'pm',\n\t$TIME_SEPARATOR: ':',\n\t$DATE_SEPARATOR: '/',\n\t$DAYS_SHORT: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n\t$DAYS_FULL: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n\t$MONTHS_SHORT: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n\t$MONTHS_FULL: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\t$ORD: [\n\t\t//0     1     2     3     4     5     6     7     8     9\n\t\t'th', 'st', 'nd', 'rd', 'th', 'th', 'th', 'th', 'th', 'th',\n\t\t//10   11    12    13    14    15    16    17    18    19\n\t\t'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th', 'th',\n\t\t//20   21    22    23    24    25    26    27    28    29\n\t\t'th', 'st', 'nd', 'rd', 'th', 'th', 'th', 'th', 'th', 'th',\n\t\t//30   31\n\t\t'th', 'st'\n\t]\n};\n\nlet transforms = [\n\tstr => str,\n\tstr => (str || '').toUpperCase(),\n\tstr => (str || '').toLowerCase()\n];\n// Specifiers implementations\nlet baseFunctions = {\n\th: (d, l) => pad((d.getHours() % 12) || 12, l),\n\tH: (d, l) => pad(d.getHours(), l),\n\tm: (d, l) => pad(d.getMinutes(), l),\n\ts: (d, l) => pad(d.getSeconds(), l),\n\tf: (d, l, copy, noZeroes) => {\n\t\tlet v = d.getMilliseconds();\n\t\tlet vl = l;\n\t\twhile (vl++ < 3) v = ~~(v / 10);\n\t\twhile (vl-- > 4) v *= 10;\n\t\tif (noZeroes && !v) return '';\n\t\treturn pad(v, l);\n\t},\n\tF: (d, l, copy) => baseFunctions.f(d, l, copy, true),\n\tt: (d, l, copy, isUppercase) => {\n\t\tlet designator = d.getHours() < 12 ? copy.$AM : copy.$PM;\n\t\tdesignator = isUppercase ? designator.toUpperCase() : designator.toLowerCase();\n\t\tif (l == 1) designator = designator.slice(0, 1);\n\t\treturn designator;\n\t},\n\tT: (d, l, copy) => baseFunctions.t(d, l, copy, true),\n\td: (d, l, copy) => {\n\t\tif (l <= 2) return pad(d.getDate(), l);\n\t\tl -= 3;\n\t\tlet mode = l % 2, trf = transforms[(l >> 1) % transforms.length];\n\t\treturn trf(copy[mode ? '$DAYS_FULL' : '$DAYS_SHORT'][d.getDay()]);\n\t},\n\to: (d, l, copy) => {\n\t\tlet day = d.getDate();\n\t\treturn pad(day, l) + copy.$ORD[day];\n\t},\n\tM: (d, l, copy) => {\n\t\tif (l <= 2) return pad(d.getMonth() + 1, l);\n\t\tl -= 3;\n\t\tlet mode = l % 2, trf = transforms[(l >> 1) % transforms.length];\n\t\treturn trf(copy[mode ? '$MONTHS_FULL' : '$MONTHS_SHORT'][d.getMonth()]);\n\t},\n\ty: (d, l) => {\n\t\tlet v = d.getFullYear();\n\t\tif (l <= 2) v %= 100;\n\t\treturn pad(v, l);\n\t},\n\tz: (d, l, copy) => {\n\t\tlet v = d.getTimezoneOffset();\n\t\tlet ret = v < 0 ? '-' : '+';\n\t\tv = Math.abs(v);\n\t\tlet hours = ~~(v / 60);\n\t\tret += pad(hours, l <= 2 ? l : 2);\n\t\t// Add minutes\n\t\tif (l > 2) ret += copy.$TIME_SEPARATOR + pad(v - 60 * hours, 2);\n\t\treturn ret;\n\t}\n};\n\n// Detect how many of the same character are in a row\nfunction parseRepeatPattern(format, pos, ch, l) {\n\tlet i = pos + 1;\n\tif (l == undefined) l = format.length;\n\tfor (; i < l && format[i] === ch; i++);\n\treturn i - pos;\n}\n// Detect a quoted string length (starting at a specified position)\nfunction parseQuoted(format, pos) {\n\tlet quote = format[pos];\n\tlet next = pos;\n\tdo {\n\t\tnext = format.indexOf(quote, next + 1);\n\t} while(next !== -1 && format[next - 1] === '\\\\');\n\tif (next === -1) next = format.length;\n\treturn next - pos + 1;\n}\n\n// Cast a positive int to string making sure it is at least the specified length\n// If the string representation of the number is less than desired, 0s are added in front of it\nfunction pad(n, l) {\n\tlet v = n + '', vl = v.length;\n\twhile (vl++ < l) v = '0' + v;\n\treturn v;\n}\n","import { triggerOrQueue } from './queue';\n\n// Class representing managed pixel\nexport default class Pixel {\n\tconstructor(category, pixel, shouldQueue = false) {\n\t\tthis.category = category;\n\t\tthis.pixel = pixel;\n\t\tthis.shouldQueue = shouldQueue;\n\t}\n\n\tcreateTrigger() {\n\t\treturn (...args) => {\n\t\t\ttriggerOrQueue(this, this.shouldQueue, args);\n\t\t};\n\t}\n}\n","import * as LEVELS from './constants';\n\nconst state = {\n\tcategories: [],\n\tchangeListeners: [],\n};\n\nexport const set = (cats) => {\n\tconst newCats = cats.map(k => k.toUpperCase()).filter(a => LEVELS[a]);\n\tstate.categories = newCats;\n\t// powsterOneTrust should not be set in this file\n\t// a onetrust specific file should use addChangeListener for this\n\twindow.powsterOneTrust = [...newCats];\n\tstate.changeListeners.forEach(listener => listener(state.categories));\n};\n\nexport const get = () => state.categories;\nexport const has = category => state.categories.includes(category);\n\nexport const getChangeListeners = () => state.changeListeners;\n\nexport const addChangeListener = (fn) => {\n\tstate.changeListeners.push(fn);\n};\nexport const removeChangeListener = (fn) => {\n\tstate.changeListeners = state.changeListeners.filter(a => a !== fn);\n};\n\nexport const toString = () => state.categories.join(',');\n","export default s => {\n\tif (typeof s !== 'string') {\n\t\treturn undefined;\n\t}\n\treturn s.trim().toUpperCase() || undefined;\n};\n","export const STRICTLY_NECESSARY = 'STRICTLY_NECESSARY';\nexport const FUNCTIONAL = 'FUNCTIONAL';\nexport const PERFORMANCE = 'PERFORMANCE';\nexport const TARGETING = 'TARGETING';\nexport const ADVERTISING = 'ADVERTISING';\nexport const SOCIAL = 'SOCIAL';\n","import { h, Component } from 'preact';\nimport * as categories from './categories';\n\nexport default function createPixelComponent (...Components) {\n\t// NOTE: Should we have the class outside of this function and just return an instance instead ? Can pass Components as a prop\n\t// Not a big issue but feels weird to create a whole new class at every call of this function (in the pixels render)\n\treturn class PixelComponent extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.onCategoriesChange = this.onCategoriesChange.bind(this);\n\t\t\tthis.state.categories = [...categories.get()];\n\t\t}\n\n\t\tcomponentDidMount() {\n\t\t\tcategories.addChangeListener(this.onCategoriesChange);\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tcategories.removeChangeListener(this.onCategoriesChange);\n\t\t}\n\n\t\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\treturn nextState.categories !== this.state.categories || nextProps.children !== this.props.children;\n\t\t}\n\n\t\tonCategoriesChange(nextCategories) {\n\t\t\tthis.setState({ categories: [...nextCategories] });\n\t\t}\n\n\t\trender() {\n\t\t\tlet displayedComps = Components.map(data => {\n\t\t\t\tif (!data) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet [cat, comp] = data;\n\t\t\t\tif (categories.has(this.state.categories, cat)) {\n\t\t\t\t\treturn comp;\n\t\t\t\t}\n\t\t\t}).filter(comp => comp);\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{displayedComps.map(Component => <Component {...this.props} />)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n}\n","import * as categories from '../categories';\nimport { STRICTLY_NECESSARY, TARGETING, PERFORMANCE, SOCIAL } from '../constants';\n\nconst dict = {\n\t'cookies': STRICTLY_NECESSARY,\n\t'ad_delivery': TARGETING,\n\t'advertising_personalization': TARGETING,\n\t'content_personalization': TARGETING,\n\t'cookies_marketing': TARGETING,\n\t'create_ads_profile': TARGETING,\n\t'create_content_profile': TARGETING,\n\t'device_access': TARGETING,\n\t'improve_products': TARGETING,\n\t'link_devices': TARGETING,\n\t'market_research': TARGETING,\n\t'measure_ad_performance': TARGETING,\n\t'offline_match': TARGETING,\n\t'precise_geo': TARGETING,\n\t'select_basic_ads': TARGETING,\n\t'select_personalized_ads': TARGETING,\n\t'select_personalized_content': TARGETING,\n\t'measure_content_performance': PERFORMANCE,\n\t'analytics': PERFORMANCE,\n\t'cookies_analytics': PERFORMANCE,\n\t'cookies_social': SOCIAL\n};\n\nexport const set = (ids) => {\n\tconst newCats = (Array.isArray(ids) ? ids : ids.split(',')).map(id => dict[id]).filter(a => !!a);\n\tcategories.set(newCats);\n};\n","import { h } from 'preact';\n// import Store from 'store/store';\nimport * as categories from '../categories';\nimport * as didomiCategories from './categories';\nimport * as queue from '../queue';\nimport { dispatchEvent } from '../dispatchEvent';\n\nexport { default as Pixel } from '../Pixel';\nexport { maybeHandle } from '../maybeHandle';\nexport { default as connectToOneTrust } from '../oneTrust/connectToOneTrust';\nexport { default as createPixelComponent } from '../createPixelComponent';\n\nexport { STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, ADVERTISING } from '../constants';\nimport { accessNested } from 'utils/utils';\n\ncategories.addChangeListener((allowedCategories) => {\n\tdispatchEvent('categoriesUpdated', {categories: allowedCategories});\n});\n\ncategories.addChangeListener((allowedCategories) => {\n\tqueue.drain(allowedCategories);\n});\n\nfunction getCookieCategories() {\n\treturn window.Didomi.getUserConsentStatusForAll().purposes.enabled;\n}\n\nif (typeof window !== 'undefined') {\n\tconst useDidomi = accessNested(window , '__INITIAL_STATE__.appData.options.didomiCookieConsent', false);\n\tlet isDidomiInitialized = false;\n\n\tif (useDidomi) {\n\t\tif (!isDidomiInitialized) {\n\t\t\twindow.didomiOnReady = window.didomiOnReady || [];\n\t\t\twindow.didomiOnReady.push(function () {\n\t\t\t\tconst activeGroups = getCookieCategories();\n\t\t\t\tdidomiCategories.set(activeGroups);\n\n\t\t\t\twindow.Didomi.on('consent.changed', function () {\n\t\t\t\t\tconst newGroups = getCookieCategories();\n\t\t\t\t\treturn didomiCategories.set(newGroups);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tisDidomiInitialized = true;\n\t\t}\n\t}\n}\n","export const dispatchEvent = (name, detail) => {\n\tconst data = {\n\t\tbubbles: false,\n\t\tcancelable: false,\n\t\tdetail: detail || null,\n\t};\n\tlet E = window.CustomEvent;\n\tif (typeof E !== 'function') {\n\t\t// eslint-disable-next-line\n\t\tfunction FakeEvent(name, data) {\n\t\t\tconst e = document.createEvent('CustomEvent');\n\t\t\te.initCustomEvent(name, data.bubbles, data.cancelable, data.detail);\n\t\t\treturn e;\n\t\t}\n\t\tFakeEvent.prototype = window.Event.prototype;\n\t\tE = FakeEvent;\n\t}\n\tconst event = new E(name, data);\n\twindow.dispatchEvent(event);\n};\n","import * as categories from '../categories';\nimport { STRICTLY_NECESSARY, FUNCTIONAL, PERFORMANCE, TARGETING, ADVERTISING, SOCIAL } from '../constants';\n\nconst dict = {\n\t'all': [STRICTLY_NECESSARY, FUNCTIONAL, PERFORMANCE, TARGETING, ADVERTISING, SOCIAL],\n\t'tag manager': STRICTLY_NECESSARY,\n\t'website optimization': PERFORMANCE,\n\t'business intelligence': PERFORMANCE,\n\t'optimizer': PERFORMANCE,\n\t'video': PERFORMANCE,\n\t'publisher': PERFORMANCE,\n\t'agency': PERFORMANCE,\n\t'mobile': PERFORMANCE,\n\t'data aggregator/supplier': FUNCTIONAL,\n\t'content management/saas': FUNCTIONAL,\n\t'online privacy platform': FUNCTIONAL,\n\t'advertisers': TARGETING,\n\t'marketing solutions': TARGETING,\n\t'demand side platform': TARGETING,\n\t'data management platform': TARGETING,\n\t'supply side platform': TARGETING,\n\t'social media': TARGETING,\n\t'retargeter': TARGETING,\n\t'research provider': TARGETING,\n\t'analytics provider': TARGETING,\n\t'creative/ad format technology': TARGETING,\n\t'other': TARGETING\n};\n\nexport const set = (cats) => {\n\tcats = Array.isArray(cats) ? cats : Object.entries(cats).map(([name, enabled]) => enabled && name).filter(e => e);\n\tconst newCats = cats.flatMap(id => dict[id]).filter(a => !!a);\n\tcategories.set(newCats);\n};\n","import { h } from 'preact';\n// import Store from 'store/store';\nimport * as categories from '../categories';\nimport * as evidonCategories from './categories';\nimport * as queue from '../queue';\nimport { dispatchEvent } from '../dispatchEvent';\n\nexport { default as Pixel } from '../Pixel';\nexport { maybeHandle } from '../maybeHandle';\nexport { default as connectToOneTrust } from '../oneTrust/connectToOneTrust';\nexport { default as createPixelComponent } from '../createPixelComponent';\n\nexport { STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, ADVERTISING } from '../constants';\n\ncategories.addChangeListener((allowedCategories) => {\n\tdispatchEvent('categoriesUpdated', { categories: allowedCategories });\n\tqueue.drain(allowedCategories);\n});\n\nif (typeof window !== 'undefined' && window.evidon) {\n\tlet otherCallbacks = [window.evidon.priorConsentCallback];\n\tlet lastCats;\n\tlet priorConsentCallback = (cats, ...rest) => {\n\t\tif (cats === lastCats) {\n\t\t\treturn;\n\t\t}\n\t\tlastCats = cats;\n\t\totherCallbacks.forEach(callback => {\n\t\t\ttry { callback?.(cats, ...rest); } catch (e) {}\n\t\t});\n\t\tevidonCategories.set(cats);\n\t};\n\tconst protectCallback = (evidon) => {\n\t\tObject.defineProperty(evidon, 'priorConsentCallback', {\n\t\t\tget() { return priorConsentCallback; },\n\t\t\tset(fn) { otherCallbacks.push(fn); }\n\t\t});\n\t};\n\tprotectCallback(window.evidon);\n\tlet _evidon = window.evidon;\n\tObject.defineProperty(window, 'evidon', {\n\t\tget() { return _evidon; },\n\t\tset(o) {\n\t\t\tprotectCallback(o);\n\t\t\t_evidon = o;\n\t\t}\n\t});\n}","import * as oneTrust from './oneTrust';\nimport * as tealium from './tealium';\nimport * as evidon from './evidon';\nimport * as didomi from './didomi';\nimport * as sme from './sme';\n\nexport { oneTrust, tealium, evidon, didomi, sme };\n","import Pixel from './Pixel';\nimport cleanCategory from './cleanCategoryName';\n\nexport const maybeHandle = (oneTrustCategory, fn, shouldQueue) => {\n\tconst category = cleanCategory(oneTrustCategory);\n\tif (typeof category === 'undefined') {\n\t\treturn fn();\n\t}\n\n\tconst pixel = new Pixel(category, fn, shouldQueue);\n\treturn pixel.createTrigger()();\n};\n","import * as categories from '../categories';\nimport { STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, PERFORMANCE, SOCIAL } from '../constants';\n\nconst dict = {\n\t'1': STRICTLY_NECESSARY,\n\t'2': PERFORMANCE,\n\t'3': FUNCTIONAL,\n\t'4': TARGETING,\n\t'5': SOCIAL,\n\t'8': SOCIAL,\n\t'C0001': STRICTLY_NECESSARY,\n\t'C0002': PERFORMANCE,\n\t'C0003': FUNCTIONAL,\n\t'C0004': TARGETING,\n\t'C0005': SOCIAL,\n\t'C0007': PERFORMANCE,\n\t'C0008': SOCIAL\n};\n\nexport const set = (ids) => {\n\tconst newCats = (Array.isArray(ids) ? ids : ids.split(',')).map(id => dict[id]).filter(a => !!a);\n\tcategories.set(newCats);\n};\n","// import { h, Component } from 'preact';\nimport { h } from 'preact';\nimport * as categories from '../categories';\n\nexport default function connectToOneTrust(category, C) {\n\treturn class OneTrustComponent extends C {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.onOneTrustCategoriesChange = this.onOneTrustCategoriesChange.bind(this);\n\t\t\tthis.state = this.state || {};\n\t\t\tthis.onOneTrustCategoriesChange(categories.get());\n\t\t}\n\n\t\tcomponentDidMount(...args) {\n\t\t\tif (super.componentDidMount && typeof super.componentDidMount === 'function') {\n\t\t\t\tsuper.componentDidMount(...args);\n\t\t\t}\n\t\t\tcategories.addChangeListener(this.onOneTrustCategoriesChange);\n\t\t}\n\n\t\tcomponentWillUnmount(...args) {\n\t\t\tif (super.componentDidMount && typeof super.componentWillUnmount === 'function') {\n\t\t\t\tsuper.componentWillUnmount(...args);\n\t\t\t}\n\t\t\tcategories.removeChangeListener(this.onOneTrustCategoriesChange);\n\t\t}\n\n\t\tonOneTrustCategoriesChange(nextCategories) {\n\t\t\tlet oneTrustCategories = [...nextCategories];\n\t\t\tlet cat = typeof category === 'function' ? category(this.props, this.state) : category;\n\t\t\tlet oneTrustAllowed = cat === true || categories.has(cat);\n\t\t\tthis.setState({ oneTrustCategories, oneTrustAllowed });\n\t\t}\n\t};\n}\n\n\n// OLD VERSION FOR REFERENCE\n\n// import { h, Component } from 'preact';\n// import * as categories from './categories';\n//\n// export default function connectToOneTrust(category, C) {\n// \treturn class OneTrustComponent extends Component {\n// \t\tconstructor(props) {\n// \t\t\tsuper(props);\n// \t\t\tthis.onCategoriesChange = this.onCategoriesChange.bind(this);\n// \t\t\tthis.state.categories = [...categories.get()];\n// \t\t}\n//\n// \t\tcomponentDidMount() {\n// \t\t\tcategories.addChangeListener(this.onCategoriesChange);\n// \t\t}\n//\n// \t\tcomponentWillUnmount() {\n// \t\t\tcategories.removeChangeListener(this.onCategoriesChange);\n// \t\t}\n//\n// \t\tonCategoriesChange(nextCategories) {\n// \t\t\tthis.setState({\n// \t\t\t\tcategories: [...nextCategories],\n// \t\t\t});\n// \t\t}\n//\n// \t\trender() {\n// \t\t\treturn (\n// \t\t\t\t<C\n// \t\t\t\t\t{...this.props}\n// \t\t\t\t\toneTrustAllowed={categories.has(this.state.categories, category)}\n// \t\t\t\t/>\n// \t\t\t);\n// \t\t}\n// \t};\n// }\n","import { accessNested } from 'utils/utils';\n\nexport default function passToIframe() {\n\n\tfunction getCookie(name) {\n\t\tlet decodedCookie = document.cookie;\n\t\tlet cookies = decodedCookie.split(';').map(c => c.trim());\n\t\tlet matching = cookies.find(cookie => cookie.indexOf(name) === 0);\n\t\treturn matching;\n\t}\n\tlet OptanonConsent = getCookie('OptanonConsent');\n\tlet OptanonAlertBoxClosed = getCookie('OptanonAlertBoxClosed');\n\n\tconst isIframed = window.self !== window.top;\n\t// We won't need this after we confirm demo stage.\n\tif (!isIframed) {\n\t\t//parent\n\t\tlet pass_data = {\n\t\t\tOptanonConsent,\n\t\t\tOptanonAlertBoxClosed,\n\t\t\tOptanonActiveGroups: window.OptanonActiveGroups\n\t\t};\n\t\tfor (let i = 0; i < window.frames.length; i++) {\n\t\t\tif (typeof window.frames[i].postMessage === 'function') {\n\t\t\t\twindow.frames[i].postMessage(pass_data, '*');\n\t\t\t}\n\t\t}\n\n\t}\n}\n\nexport function listenToIframe() {\n\tconst isIframed = window.self !== window.top;\n\n\tif (isIframed) {\n\t\twindow.addEventListener('message', (event) => {\n\t\t\tlet data = event && event.data;\n\t\t\tif (!data || typeof data !== 'object' || !data.OptanonActiveGroups) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (window.Optanon) {\t\t\t\t\n\t\t\t\tlet cookie = null;\n\t\t\t\tconst now = new Date();\n\t\t\t\tconst inOneYear = new Date(now.getFullYear() + 1, now.getMonth(), now.getDate());\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (data.OptanonConsent) {\n\t\t\t\t\t\tcookie = data.OptanonConsent;\n\t\t\t\t\t\tdocument.cookie = `${cookie};expires=${new Date(inOneYear).toUTCString()};path=/;SameSite=None;Secure`;\n\t\t\t\t\t}\n\t\t\t\t\tif (data.OptanonAlertBoxClosed) {\n\t\t\t\t\t\tcookie = data.OptanonAlertBoxClosed;\n\t\t\t\t\t\tdocument.cookie = `${cookie};expires=${new Date(inOneYear).toUTCString()};path=/;SameSite=None;Secure`;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.OptanonActiveGroups) {\n\t\t\t\t\t\twindow.OnetrustActiveGroups = data.OptanonActiveGroups;\n\t\t\t\t\t\twindow.OptanonActiveGroups = data.OptanonActiveGroups;\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tlet t = new CustomEvent('consent.onetrust', {\n\t\t\t\t\t\t\tdetail: data.OptanonActiveGroups.split(',').filter(e => e)\n\t\t\t\t\t\t});\n\t\t\t\t\t\twindow.dispatchEvent(t);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (window.dataLayer) {\n\t\t\t\t\t\t\twindow.dataLayer.push({\n\t\t\t\t\t\t\t\tevent: 'OneTrustGroupsUpdated',\n\t\t\t\t\t\t\t\tOptanonActiveGroups: data.OptanonActiveGroups,\n\t\t\t\t\t\t\t\tOnetrustActiveGroups: data.OptanonActiveGroups\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tconst showtimesOneTrust = accessNested(window.__INITIAL_STATE__, 'appData.apis.tracking.oneTrust', {});\n\t\tconst boltOneTrust = accessNested(window.__INITIAL_STATE__, 'appData.options.oneTrustCookieConsent', {});\n\t\tif (showtimesOneTrust.displayInIframe || boltOneTrust.displayInIframe) {\n\t\t\tsetTimeout(checkAndHideOneTrust, 100);\n\t\t}\n\t}\n}\n\nfunction checkAndHideOneTrust() {\n\tlet checkAndHideStart = Date.now();\n\tconst oneTrustWrappers = [ '#onetrust-consent-sdk', '#optanon'];\n\tconst optanonElement = [...document.querySelectorAll(oneTrustWrappers)].find(x => !!x);\n\tif (optanonElement) {\n\t\tlet alertBoxWrappers = document.getElementsByClassName('optanon-alert-box-wrapper');\n\t\tif (alertBoxWrappers && alertBoxWrappers.length) {\n\t\t\talertBoxWrappers[0].style.display = 'none';\n\t\t}\n\t\toptanonElement.style.display = 'none';\n\t\treturn;\n\t}\n\n\t// Not found yet, keep checking\n\tif (Date.now() - checkAndHideStart < 30000) {\n\t\tsetTimeout(checkAndHideOneTrust, 100);\n\t}\n}\n","import { h } from 'preact';\nimport Store from 'store/store';\nimport * as categories from '../categories';\nimport * as oneTrustCategories from './categories';\nimport * as queue from '../queue';\nimport passToIframe, { listenToIframe } from './iframe';\nimport { accessNested } from 'utils/utils';\nimport pendingPromise from 'utils/pendingPromise';\nimport { dispatchEvent } from '../dispatchEvent';\n\nexport { default as Pixel } from '../Pixel';\nexport { maybeHandle } from '../maybeHandle';\nexport { default as connectToOneTrust } from './connectToOneTrust';\nexport { default as createPixelComponent } from '../createPixelComponent';\n\nexport { STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, ADVERTISING, PERFORMANCE } from '../constants';\n\nexport const displayModal = () => {\n\tif (typeof window === 'object') {\n\t\tconst api = window.Optanon || window.OneTrust;\n\t\tif (api && typeof api === 'object' && typeof api.ToggleInfoDisplay === 'function') {\n\t\t\tapi.ToggleInfoDisplay();\n\t\t}\n\t}\n};\n\nconst loadPromise = pendingPromise();\nexport const waitForOneTrust = async () => loadPromise;\n\ncategories.addChangeListener((allowedCategories) => {\n\tdispatchEvent('categoriesUpdated', { categories: allowedCategories });\n\tqueue.drain(allowedCategories);\n});\n\nfunction oneTrustFix() {\n\tconst oneTrustFix = accessNested(Store.get(), 'appData.apis.tracking.oneTrust.oneTrustFix');\n\tconst oneTrustOverlapFix = accessNested(Store.get(), 'appData.apis.tracking.oneTrust.oneTrustOverlapFix');\n\tif (oneTrustFix && !getCookie('OptanonAlertBoxClosed')) {\n\t\tlet buttons = document.querySelectorAll('.optanon-white-button-middle, .accept-cookies-button');\n\n\t\tconst bindEvent = (el, eventName, eventHandler) => {\n\t\t\tif (!el) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (el.addEventListener) {\n\t\t\t\tel.addEventListener(eventName, eventHandler, false);\n\t\t\t} else if (el.attachEvent) {\n\t\t\t\tel.attachEvent('on' + eventName, eventHandler);\n\t\t\t}\n\t\t};\n\n\t\t// ???\n\t\tconst close = () => {\n\t\t\tlet banner = document.getElementById('optanon');\n\t\t\tif (!banner) return;\n\t\t\tbanner.style.opacity = 0;\n\t\t\tbanner.style.transition = 'opacity .8s';\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst bg = document.getElementById('optanon-popup-bg');\n\t\t\t\tif (bg) {\n\t\t\t\t\tbg.style.display = 'none';\n\t\t\t\t\tbanner.style.opacity = 1;\n\t\t\t\t}\n\t\t\t}, 800);\n\t\t};\n\t\t[...buttons].forEach(button => bindEvent(button, 'click', close));\n\n\n\t}\n\tif (oneTrustFix && !getCookie('OptanonAlertBoxClosed') && oneTrustOverlapFix) {\n\t\tsetTimeout(() => {\n\t\t\tconst pixelConsent = accessNested(Store.get(), 'client.pixelConsent');\n\t\t\tconst banner = document.querySelectorAll('.optanon-alert-box-wrapper');\n\t\t\tconst bannerDisplay = banner[0] && banner[0].style && banner[0].style.getPropertyValue('display');\n\t\t\tif (pixelConsent && bannerDisplay && bannerDisplay === 'none') {\n\t\t\t\tconst body = document.getElementsByTagName('body');\n\t\t\t\tbody[0].style.transform = 'none';\n\t\t\t}\n\t\t}, 800);\n\t}\n\n}\n\nfunction getCookie(name) {\n\tlet value = '; ' + document.cookie;\n\tlet parts = value.split('; ' + name + '=');\n\tif (parts.length == 2) {\n\t\treturn parts.pop().split(';').shift();\n\t}\n}\nif (typeof window !== 'undefined') {\n\tlet isOptatonInitialised = false;\n\tconst existingOptanonWrapper = window.OptanonWrapper;\n\n\tlistenToIframe();\n\n\t// let justRejectedAll = false;\n\twindow.OptanonWrapper = function() {\n\t\tloadPromise.resolve();\n\n\t\t// Rejection handled in the ageGate store event\n\t\t// if (Store.get().client?.ofAge === false && !justRejectedAll) {\n\t\t// \tjustRejectedAll = true;\n\t\t// \twindow.Optanon.RejectAll();\n\t\t// \treturn;\n\t\t// }\n\t\t// justRejectedAll = false;\n\n\t\tif (typeof existingOptanonWrapper === 'function') {\n\t\t\texistingOptanonWrapper();\n\t\t}\n\n\t\tif (window.dataLayer) {\n\t\t\twindow.dataLayer.push({ event: 'OneTrustGroupsUpdated' }) ;\n\t\t}\n\n\t\tpassToIframe();\n\t\toneTrustFix();\n\n\t\tif (!isOptatonInitialised) {\n\t\t\tconst activeGroups = window.OptanonActiveGroups;\n\t\t\toneTrustCategories.set(activeGroups);\n\t\t\tisOptatonInitialised = true;\n\t\t}\n\t};\n\n\twindow.addEventListener('consent.onetrust', ({ detail }) => oneTrustCategories.set(detail));\n\twindow.addEventListener('OneTrustGroupsUpdated', ({ detail }) => oneTrustCategories.set(detail));\n}\n","import * as categories from './categories';\n\nconst state = {\n\tqueue: []\n};\n\nexport const triggerOrQueue = (managed, shouldQueue, args) => {\n\tif (categories.has(managed.category)) {\n\t\treturn managed.pixel.apply(managed, args);\n\t}\n\n\tif (shouldQueue) {\n\t\treturn add(managed, args);\n\t}\n};\n\nexport const add = (managed, args) => {\n\tstate.queue = [...state.queue, [managed, args]];\n};\n\nexport const drain = () => {\n\tconst prevQueue = [...state.queue];\n\tstate.queue = [];\n\tprevQueue.forEach(([managed, args]) => triggerOrQueue(managed, managed.shouldQueue, args));\n};\n","import * as categories from '../categories';\nimport { STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, PERFORMANCE, ADVERTISING } from '../constants';\nimport Cookies from 'js-cookie';\nimport { accessNested } from 'utils/utils';\n\nfunction addHandlerToCookieAccept() {\n\tlet cookie = Cookies.get('sme_cookie_en');\n\tconst acceptButton = document.getElementById('sme_cookie_accept');\n\n\tif (!acceptButton && !cookie) {\n\t\twindow.setTimeout(addHandlerToCookieAccept, 100);\n\t\treturn;\n\t}\n\n\tif (cookie) {\n\t\tcategories.set([STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, ADVERTISING, PERFORMANCE]);\n\t\treturn;\n\t}\n\n\tacceptButton.addEventListener('click', () => {\n\t\tcategories.set([STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, ADVERTISING, PERFORMANCE]);\n\t});\n}\n\nif (typeof window !== 'undefined') {\n\tconst useSME = accessNested(window , '__INITIAL_STATE__.appData.options.SMECookieConsent', false);\n\tif (useSME) {\n\t\taddHandlerToCookieAccept();\n\t}\n}","import * as categories from '../categories';\nimport { STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, PERFORMANCE } from '../constants';\nimport { arrayUnique } from 'utils/utils';\n\nconst dict = {\n\t'consent': STRICTLY_NECESSARY,\n\t'c1': STRICTLY_NECESSARY,\n\t'c2': PERFORMANCE,\n\t'c3': FUNCTIONAL,\n\t'c4': TARGETING,\n};\n\nexport const set = (ids) => {\n\tconst list = Array.isArray(ids) ? ids : ids.split(',');\n\tconst newCats = arrayUnique(list.map(id => dict[id]).filter(a => !!a));\n\tcategories.set(newCats);\n};\n","import { h } from 'preact';\n// import Store from 'store/store';\nimport * as categories from '../categories';\nimport * as tealiumCategories from './categories';\nimport * as queue from '../queue';\nimport { accessNested } from 'utils/utils';\nimport { dispatchEvent } from '../dispatchEvent';\n\nexport { default as Pixel } from '../Pixel';\nexport { maybeHandle } from '../maybeHandle';\nexport { default as connectToOneTrust } from '../oneTrust/connectToOneTrust';\nexport { default as createPixelComponent } from '../createPixelComponent';\n\nexport { STRICTLY_NECESSARY, FUNCTIONAL, TARGETING, ADVERTISING } from '../constants';\n\ncategories.addChangeListener((allowedCategories) => {\n\tdispatchEvent('categoriesUpdated', { categories: allowedCategories });\n\tqueue.drain(allowedCategories);\n});\n\n// just rely on window.utag.gdpr.getCookieValues\n// we used to filter out most of the keys here but not anymore (just the ones that are not activated, with value \"0\") - categories.js is the file in charge of using the values or ignoring the irrelevant ones\nfunction getCookieCategories() {\n\tif (!window.utag) {\n\t\treturn [];\n\t}\n\tconst values = window.utag.gdpr.getCookieValues();\n\treturn Object.keys(values).filter(key => values[key] === '1' || values[key] === 'true');\n}\nif (typeof window !== 'undefined') {\n\tconst useTealium = window.__INITIAL_STATE__?.appData?.options?.enableTealiumCookieConsent;\n\tif (useTealium) {\n\t\tconst updateCategories = () => tealiumCategories.set(getCookieCategories());\n\n\t\t// as before, we update the categories when receiving this event (Disney telling us the cookie settings have been saved)\n\t\twindow.addEventListener('consentdecided', updateCategories);\n\t\t// and if the script utag.js has already loaded (and set window.utag), we can check the categories immediately\n\t\tif (window.utag) {\n\t\t\tupdateCategories();\n\t\t} else {\n\t\t\t// but if it's not loaded yet, then every time something finishes loading on the page (image, script, etc.) we check if it's the relevant script and check the categories if that's the case\n\t\t\t// (once utag.js is loaded, we remove the listener as we don't need to monitor loads anymore)\n\t\t\tconst checkLoad = e => {\n\t\t\t\tif (e.target.matches('script[src$=\"utag.js\"]')) {\n\t\t\t\t\tdocument.removeEventListener('load', checkLoad, true);\n\t\t\t\t\tupdateCategories();\n\t\t\t\t}\n\t\t\t};\n\t\t\tdocument.addEventListener('load', checkLoad, true);\n\t\t}\n\t}\n}\n","import { accessNested, isObject, joinPaths } from 'utils/utils';\nimport Store from 'store/store';\n\nlet defaultRedirect = (geoFencedLocation, options) => {\n\tif (!geoFencedLocation) {\n\t\treturn;\n\t}\n\tif (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {\n\t\tconsole.log('GEOFENCING GOING TO', geoFencedLocation);\n\t\treturn;\n\t}\n\n\t// Try to prevent SOME infinite redirect loops (wouldn't catch a lot of things)\n\tlet loopRisk = location.href === geoFencedLocation;\n\tif (!options?.allowSameHostRedirect) {\n\t\tlet [, protocol, host] = /^((?:https?:)?\\/\\/)?([^/]+)/.exec(geoFencedLocation) || [];\n\t\tloopRisk = location.host === host;\n\t}\n\tif (!loopRisk) {\n\t\tlocation.href = geoFencedLocation;\n\t}\n\treturn true;\n};\n\nlet defaultGetRegionURL = (countryCode) => {\n\treturn accessNested(Store.get(), ['dynamicData', 'regions', countryCode, 'url']);\n};\n\n// We do want to redirect accessed.com/page/a/ to redirect.com/page/a/\n// However, our sites sometimes do not live at the root of the vanity\n//   e.g. movies.powster.com/studio/movie/region/page/a/ -> redirect.com/page/a/\n// So we need to figure out which part of the path to keep in the redirection\nlet getPathFromRoot = () => {\n\t// NOTE: this assumes that this function is called on landing, before any page change occurs\n\t// Otherwise, look into extracting root from getPagePath, like getRelativePageUrl\n\tconst root = new URL(window.__RELATIVE_ROOT__, location.href);\n\t// Ignore query string and hash (handled separately)\n\tconst rootOriginAndPath = root.origin + root.pathname;\n\tconst currentOriginAndPath = location.origin + location.pathname;\n\t// If \"root\" is somehow a more deeply nested path than \"current\", default to the full pathname\n\treturn currentOriginAndPath.startsWith(rootOriginAndPath) ? currentOriginAndPath.replace(rootOriginAndPath, '') : location.pathname;\n};\n\nexport default async function geoFencing(getGeo, options) {\n\tif (!options) {\n\t\toptions = {};\n\t}\n\tlet redirect = typeof options.redirect === 'function' ? options.redirect : defaultRedirect;\n\tlet redirectionActive = typeof location !== 'undefined' && !location.search.match(/[?&]redirect=(off|false|0|no)/);\n\tif (!redirectionActive || !window.__INITIAL_STATE__) {\n\t\treturn;\n\t}\n\tlet appData = window.__INITIAL_STATE__.appData || {};\n\tlet accessedPath = getPathFromRoot();\n\tlet queryString = location.search;\n\tlet hash = location.hash;\n\tconst opt = (include, val) => include ? val : '';\n\tlet getDestination = (url, { stripPath, stripQS, stripHash } = {}) => (stripPath ? url : joinPaths(url, accessedPath)) + opt(!stripQS, queryString) + opt(!stripHash, hash);\n\tlet geoFence = appData.geofencing || {};\n\tlet redirectObj = appData.redirection || {};\n\tlet appRegion = accessNested(appData, 'meta.region.slug');\n\n\tlet countryCode = (await getGeo()).countryCode;\n\n\t// allow for regions to be ignored per request\n\tconst regionAllow = geoFence.allowRegions || '';\n\tconst ignoreFor = regionAllow.split(',').map(region => region.trim().toLowerCase()).filter(e => e);\n\tconst ignoreGeoFence = ignoreFor.indexOf(countryCode) !== -1;\n\t// check if site is in correct country (and ignore if it is)\n\tif (appRegion !== countryCode && geoFence.geofencing && !ignoreGeoFence) {\n\t\tlet geoFencedLocation = accessNested(geoFence, ['overrides', countryCode]);\n\t\tif (!geoFencedLocation) {\n\t\t\tlet getRegionURL = typeof options.getRegionURL === 'function' ? options.getRegionURL : defaultGetRegionURL;\n\t\t\tlet regionUrl = await getRegionURL(countryCode);\n\t\t\tgeoFencedLocation = regionUrl || geoFence.defaultLink;\n\t\t}\n\t\tif (geoFencedLocation) {\n\t\t\tlet url = geoFencedLocation;\n\t\t\tlet stripPath = geoFence.stripRedirectionPath;\n\t\t\tif (isObject(geoFencedLocation)) {\n\t\t\t\turl = geoFencedLocation.url;\n\t\t\t\tif (geoFencedLocation.stripPath != undefined) {\n\t\t\t\t\tstripPath = geoFencedLocation.stripPath;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn redirect(getDestination(url, { stripPath }), geoFence);\n\t\t}\n\t} else {\n\t\t// standard redirect behaviour\n\t\ttry {\n\t\t\tlet optionsList = Object.keys(redirectObj).map(k => redirectObj[k]).concat(redirectObj).filter(e => e?.url);\n\t\t\tlet redirect;\n\t\t\tfor (let option of optionsList) {\n\t\t\t\tlet checklist = [];\n\n\t\t\t\tif (option.country) {\n\t\t\t\t\tlet list = option.country.split(',').map(e => e.trim());\n\t\t\t\t\tchecklist.push(list.includes(countryCode));\n\t\t\t\t}\n\t\t\t\tif (option.countryNot) {\n\t\t\t\t\tlet list = option.countryNot.split(',').map(e => e.trim());\n\t\t\t\t\tchecklist.push(!list.includes(countryCode));\n\t\t\t\t}\n\n\t\t\t\t// Nothing is actually async at this point but change back to this if needed\n\t\t\t\t// let result = (await Promise.all(checklist)).every(e => e);\n\t\t\t\tlet result = checklist.every(e => e);\n\t\t\t\tif (result) {\n\t\t\t\t\tredirect = option;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (redirect) {\n\t\t\t\treturn redirect(getDestination(redirect.url));\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log('Failed redirecting', e);\n\t\t}\n\t}\n}\n","import { accessNested } from 'utils/utils';\n\n// Gets a copy value, and replaces %$THING% by other copy data\n// Example:\n// copy = {\n// \t'$MSG': 'Hello %$NAME%',\n// \t'$NAME': '%$FIRST_NAME% %$SURNAME%',\n// \t'$FIRST_NAME': 'John',\n// \t'$SURNAME': 'Doe'\n// };\n// getCopyWithParams(copy, '$MSG'); // Hello John Doe\n// getCopyWithParams(copy, 'Bye %$NAME%'); // Bye John Doe (if attribute is not a copy element, it uses that value directly)\n// getCopyWithParams(copy, '%$FIRST_NAME% is %$MOOD%'); // John is $MOOD (if a variable is not defined, outputs its name)\n// getCopyWithParams(copy, '100% with %$SURNAME%'); // 100% with Doe (a % sign alone still works)\n// getCopyWithParams(copy, 'a \\\\%protected% part'); // a %protected% part (prepend with a \\ to prevent parsing ; warning : needs to be doubled in string literals because of default JS escaping)\nfunction _getCopyWithParams(copy, attribute, _n) {\n\t// Prevent infinite recursion (e.g. $A = %$B%, $B = %$A%)\n\tif (++_n > 10) return attribute;\n\t// Allows using %subObject.$VALUE%\n\tconst content = accessNested(copy, attribute, attribute) + '';\n\treturn content.replace(/(\\\\)?%([^% ]+)%/g, (_, backslash, val) => backslash ? '%' + val + '%' : _getCopyWithParams(copy, val, _n));\n}\nexport default function getCopyWithParams(copy, attribute) {\n\treturn _getCopyWithParams(copy, attribute, 0);\n}","function isError(res) {\n\treturn res.status === 0 || (res.status >= 400 && res.status < 600);\n\t// ^ no-cors fetch can return status of 0\n}\n\nexport async function handleApiResponse(res) {\n\tif (isError(res)) {\n\t\t// Do not call res.json(), some things need the error code (e.g. reports page)\n\t\tthrow res;\n\t}\n\treturn res.json();\n}\n\nexport async function handleApiResponseText(res) {\n\tif (isError(res)) {\n\t\tthrow res;\n\t}\n\treturn res.text();\n}\n","if (typeof window !== 'undefined') {\n\tlet history = window.history;\n\t['pushState', 'replaceState'].forEach(fn => {\n\t\tlet base = history[fn].bind(history);\n\t\tlet eventName = 'on' + fn.toLowerCase();\n\t\thistory[fn] = (...args) => {\n\t\t\tlet returnValue = base(...args);\n\t\t\tif (typeof history[eventName] === 'function') {\n\t\t\t\thistory[eventName]({ state: args[0] });\n\t\t\t}\n\t\t\treturn returnValue;\n\t\t};\n\t});\n}\n","const callbacks = {};\n\nexport function register(name, fn, priority) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (!callbacks[name]) {\n\t\tcallbacks[name] = [];\n\t}\n\tfn._priority = priority ?? 10;\n\tcallbacks[name].push(fn);\n\tcallbacks[name].sort((a, b) => a._priority - b._priority);\n}\n\nexport async function call(name, data, context) {\n\t// console.log(name, data);\n\tif (!callbacks[name]) {\n\t\treturn data;\n\t}\n\treturn callbacks[name].reduce(async (data, fn) => fn(await data, context), data);\n}\n\nexport default { register, call };","let added = false;\nlet lastTouchTime = 0;\nconst className = 'useHover';\n\nfunction onMouseMove() {\n\tif (Date.now() - lastTouchTime >= 500) {\n\t\tdocument.body.classList.add(className);\n\t}\n}\nfunction onTouchStart() {\n\tdocument.body.classList.remove(className);\n\tlastTouchTime = Date.now();\n}\n\nfunction remove() {\n\twindow.removeEventListener('mousemove', onMouseMove, true);\n\twindow.removeEventListener('touchstart', onTouchStart, true);\n\tdocument.body.classList.remove(className);\n}\n\nexport default function() {\n\tif (added) {\n\t\treturn;\n\t}\n\twindow.addEventListener('mousemove', onMouseMove, true);\n\twindow.addEventListener('touchstart', onTouchStart, true);\n\tdocument.body.classList.add(className);\n\treturn { remove };\n}\n","import cached from 'utils/cached';\n// import pendingPromise from './pendingPromise';\n\nconst isWebPSupported = cached(() => {\n\tif (typeof window === 'undefined') {\n\t\treturn;\n\t}\n\tlet elem = document.createElement('canvas');\n\treturn elem?.toDataURL('image/webp')?.startsWith('data:image/webp');\n\n\t// Ideally should use this but need to change everything using it to be async\n\t// let promise = pendingPromise();\n\t// let img = new Image();\n\t// img.onload = () => promise.resolve(!!img.width);\n\t// img.onerror = () => promise.resolve(false);\n\t// img.src = 'data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==';\n\t// return promise;\n});\n\nexport { isWebPSupported };","// Clamps a value between two bounds. If a bound is undefined, ignore that bound.\n// Note: the order of operations is important for undefined handling\nexport function clamp(v, min, max) {\n\treturn v <= min ? min : v >= max ? max : v;\n}\n\n// Linear interpolation between a and b\n//   usually you want t in [0, 1] (0 -> a, 1 -> b)\nexport function lerp(t, a, b) {\n\treturn a + t * (b - a);\n}\n\n// Inverse linear interpolation: gets the progress of a value between two bounds\n// ilerp(20, 0, 50) === 0.4 (because 20 is 40% of the way between 0 and 50)\nexport function ilerp(t, a, b) {\n\treturn (t - a) / (b - a);\n}\n\n// Similar to n % m, but returns a positive number even if n is negative\nexport function mod(n, m) {\n\tif (!m) {\n\t\treturn 0;\n\t}\n\tlet v = n % m;\n\treturn v < 0 ? v + m : v;\n}\n\n// Moves a number from an interval to another\n// e.g. 2.2 from [2, 3] to [0, 100] gives 20 (20% on the way from 2 to 3)\n// clampResult to limit the result to the desired interval\nexport function scale(n, fromMin, fromMax, toMin, toMax, clampResult, easing) {\n\tlet p = ilerp(n, fromMin, fromMax);\n\tif (clampResult) {\n\t\tp = clamp(p, 0, 1);\n\t}\n\tif (easing) {\n\t\tif (typeof easing === 'string') {\n\t\t\teasing = Easing[easing];\n\t\t}\n\t\tif (typeof easing === 'function') {\n\t\t\tp = easing(p);\n\t\t}\n\t}\n\treturn lerp(p, toMin, toMax);\n}\n\n// Dot product\nexport function dot(x1, y1, x2, y2) {\n\treturn x1 * x2 + y1 * y2;\n}\n\n// Cartesian distance between two 2D points\nexport function dist(x1, y1, x2, y2) {\n\tconst dx = x2 - x1;\n\tconst dy = y2 - y1;\n\treturn Math.sqrt(dx * dx + dy * dy);\n}\n\n// Taken from https://gist.github.com/gre/1650294\n// I put a caps because we alread have some variables called `easing`.\nexport const Easing = {\n\t// no easing, no acceleration\n\tlinear: (t) => t,\n\t// small acceleration, large deceleration (approximation of CSS \"ease\", default transition timing function)\n\t// from https://github.com/mietek/ease-tween\n\tease: (t) => 1.0042954579734844 * Math.exp(-6.4041738958415664 * Math.exp(-7.2908241330981340 * t)),\n\t// accelerating from zero velocity\n\tquadIn: (t) => t * t,\n\t// decelerating to zero velocity\n\tquadOut: (t) => t * (2 - t),\n\t// acceleration until halfway, then deceleration\n\tquadInOut: (t) => t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n\t// accelerating from zero velocity\n\tcubicIn: (t) => t * t * t,\n\t// decelerating to zero velocity\n\tcubicOut: (t) => (--t) * t * t + 1,\n\t// acceleration until halfway, then deceleration\n\tcubicInOut: (t) => t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n\t// accelerating from zero velocity\n\tquartIn: (t) => t * t * t * t,\n\t// decelerating to zero velocity\n\tquartOut: (t) => 1 - (--t) * t * t * t,\n\t// acceleration until halfway, then deceleration\n\tquartInOut: (t) => t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t,\n\t// accelerating from zero velocity\n\tquintIn: (t) => t * t * t * t * t,\n\t// decelerating to zero velocity\n\tquintOut: (t) => 1 + (--t) * t * t * t * t,\n\t// acceleration until halfway, then deceleration\n\tquintInOut: (t) => t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\n};","let decodeSafe = v => {\n\ttry {\n\t\treturn decodeURIComponent(v);\n\t} catch (e) {\n\t\treturn v;\n\t}\n};\n\nexport default function(queryString = typeof location !== 'undefined' ? location.search : '') {\n\treturn (queryString || '').slice(1).split('&').reduce((qs, el) => {\n\t\tconst [name, ...value] = el.split('=');\n\t\tqs[name] = value.length ? decodeSafe(value.join('=')) : true;\n\t\treturn qs;\n\t}, {});\n}\n","export default function() {\n\tlet resolve;\n\tlet reject;\n\tlet prom = new Promise((_resolve, _reject) => {\n\t\tresolve = _resolve;\n\t\treject = _reject;\n\t});\n\tprom.resolve = resolve;\n\tprom.reject = reject;\n\treturn prom;\n}\n","import isShallowEqual from 'shallow-equals';\n\n/**\n * Tells if a component should update given its next props and state.\n**/\nfunction shouldComponentUpdate(nextProps, nextState) {\n\treturn !isShallowEqual(nextProps, this.props, isSameProp) || !isShallowEqual(nextState, this.state);\n}\n\n/**\n * Makes the given component \"pure\".\n**/\nfunction pureRenderDecorator(target) {\n\tif (target?.kind !== 'class') {\n\t\treturn target;\n\t}\n\ttarget.finisher = Base => class extends Base { shouldComponentUpdate() { return shouldComponentUpdate.apply(this, arguments); } };\n\treturn target;\n}\n\nfunction isSameProp(a, b) {\n\treturn a === b || (Array.isArray(a) && Array.isArray(b) && !a.length && !b.length);\n}\n\nexport default pureRenderDecorator;\n","async function execScripts(node) {\n\tif (!node || !node.children) {\n\t\treturn;\n\t}\n\tconst children = [...node.children];\n\tfor (let child of children) {\n\t\tif (child.tagName !== 'SCRIPT') {\n\t\t\tawait execScripts(child);\n\t\t\tcontinue;\n\t\t}\n\t\ttry {\n\t\t\tlet copy = document.createElement('script');\n\t\t\tcopy.text = child.innerHTML;\n\t\t\t[...child.attributes].forEach(attr => copy.setAttribute(attr.name, attr.value));\n\t\t\t// child.parentElement.replaceChild(copy, child);\n\t\t\t// Move all scripts out, directly in the body\n\t\t\tchild.remove();\n\t\t\tdocument.body.appendChild(copy);\n\t\t\tif (copy.src && !copy.hasAttribute('async') && !copy.hasAttribute('defer')) {\n\t\t\t\t// Meant to be executed synchronously\n\t\t\t\tawait new Promise(res => copy.onload = res);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error('Error in script', e);\n\t\t}\n\t}\n}\n\nexport default async function(code) {\n\tconst pixelsElem = document.createElement('div');\n\tpixelsElem.innerHTML = code;\n\tdocument.body.appendChild(pixelsElem);\n\tawait execScripts(pixelsElem);\n\t// If all the children were scripts, do not leave an empty div in the HTML\n\tif (!pixelsElem.firstChild) {\n\t\tpixelsElem.remove();\n\t}\n}","export default function slugify(str, options = {}) {\n\tif (!str || typeof str !== 'string') {\n\t\treturn str;\n\t}\n\tif (options.replaceAccentedChars) {\n\t\tstr = str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n\t}\n\treturn str.normalize().replace(/[^\\w\\s$*_+~.()'\"!\\-:@]+/g, '').trim().replace(/\\s+/g, '-').toLowerCase();\n}","/* SEE BELOW FOR HOW TO USE */\nlet isIOS = (function() {\n\tif (typeof navigator === 'undefined') {\n\t\treturn false;\n\t}\n\tconst agent = ('' + navigator.userAgent).toLowerCase();\n\treturn agent.indexOf('ipad') !== -1 || agent.indexOf('iphone') !== -1;\n})();\n\nlet now = Date.now || (() => new Date().getTime());\n\nfunction getScroll(elem, hor) {\n\tif (elem === window) {\n\t\treturn (hor ? window.pageXOffset || document.documentElement.scrollLeft : window.pageYOffset || document.documentElement.scrollTop) || 0;\n\t}\n\treturn hor ? elem.scrollLeft : elem.scrollTop;\n}\n\nfunction setScroll(elem, v, hor) {\n\tif (elem === window) {\n\t\twindow.scrollTo(hor ? v : getScroll(window, true), hor ? getScroll(window, false) : v);\n\t} else {\n\t\telem[hor ? 'scrollLeft' : 'scrollTop'] = v;\n\t}\n}\n\nfunction getElemPos(e, parent, hor) {\n\tlet prop = hor ? 'offsetLeft' : 'offsetTop';\n\tlet pos = e[prop];\n\tlet last = e;\n\twhile ((e = e.parentElement) && e !== parent) {\n\t\tif (e === last.offsetParent) {\n\t\t\tlast = e;\n\t\t\tpos += e[prop];\n\t\t}\n\t}\n\tif (parent !== window && e !== parent) return undefined;\n\treturn pos;\n\n\t// Other possibility\n\t// let eBounds = e.getBoundingClientRect();\n\t// let pBounds = parent.getBoundingClientRect();\n\t// return eBounds[hor ? 'left' : 'top'] - pBounds[hor ? 'left' : 'top'];\n}\n\nfunction endScroll(elem) {\n\tlet t = elem._smthscrl;\n\tif (!t) return;\n\tcancelAnimationFrame(t.timer);\n\tt.timer = null;\n\tif (typeof t.callback === 'function') {\n\t\tt.callback();\n\t}\n\tt.callback = null;\n}\n\nconst relativeToKeywords = { top: 0, middle: 50, bottom: 100 };\nfunction oneDir(elem, p, horizontal) {\n\tlet t = elem._smthscrl;\n\tlet currentScroll = getScroll(elem, horizontal);\n\tlet dirIndex = horizontal ? 1 : 0;\n\tif (t.previousScroll[dirIndex] == undefined) {\n\t\tt.previousScroll[dirIndex] = currentScroll;\n\t}\n\t// Try to not block the user from scrolling. The user shouldn't be forced to watch the full scrolling animation\n\t// Disabled that on iOS as it seemed to be stopping too early\n\t//   (guessing some rounding or smoothscroll happens, which changes the scroll without the user touching)\n\tif (currentScroll !== t.previousScroll[dirIndex] && !t.force && !isIOS) {\n\t\treturn endScroll(elem);\n\t}\n\tlet to = t.to;\n\tif (Array.isArray(to)) {\n\t\tto = to[dirIndex];\n\t}\n\tif (to instanceof Element) {\n\t\tto = getElemPos(t.to, elem, horizontal);\n\t\tlet sizeProp = horizontal ? 'clientWidth' : 'clientHeight';\n\t\tlet rT = t.relativeTo;\n\t\tif (rT === 'view') {\n\t\t\tlet maxPos = to - t.offsetStart;\n\t\t\tlet minPos = to - (elem[sizeProp] - t.to[sizeProp]) + t.offsetEnd;\n\t\t\tto = Math.min(Math.max(currentScroll + t.offset, minPos), maxPos);\n\t\t} else {\n\t\t\trT = relativeToKeywords[rT] || parseFloat(rT) || 0;\n\t\t\tto -= Math.max(elem[sizeProp] - t.to[sizeProp], 0) * rT * 0.01;\n\t\t}\n\t}\n\tto -= t.offset;\n\n\tlet newValue = t.from[dirIndex] + p * (to - t.from[dirIndex]);\n\tsetScroll(elem, newValue, horizontal);\n\tt.previousScroll[dirIndex] = getScroll(elem, horizontal);\n}\n\nconst directions = {\n\tver: [false],\n\thor: [true],\n\tboth: [false, true]\n};\nfunction loop(elem) {\n\tlet t = elem._smthscrl;\n\tif (!t) {\n\t\treturn;\n\t}\n\t// If t.timer is null, the scrolling has been stopped, don't request the next frame\n\tif (t.timer) {\n\t\tt.timer = requestAnimationFrame(loop.bind(this, elem));\n\t}\n\tlet time = now() - t.start;\n\tlet duration = t.duration;\n\n\tif (time >= duration) {\n\t\ttime = duration;\n\t}\n\tlet p = duration ? t.easing(time / duration) : 1;\n\tlet directionsArray = directions[t.direction] || [];\n\tdirectionsArray.forEach(hor => oneDir(elem, p, hor));\n\tif (!duration || time >= duration) {\n\t\treturn endScroll(elem);\n\t}\n}\n\n// elem     : element to scroll (parent container, having a scrollbar)\n//   - if elem is null or the string 'root', the script will use either body or the documentElement based on which is detected to have a scrollbar\n// to       : scroll to this. Can be a number (scrollTop = to at the end) or an element ! (more on that later)\n// dur      : duration (in ms). Default to 300. 0 to instant scroll.\n// settings : object containing\n//   - callback : callback to be called after the scroll is ended (either goal reached or the user scrolled during it)\n//   - direction: 'ver' (default) for vertical, 'hor' for horizontal or 'both' (in this case, to can be an array of two numbers, [verticalPos, horizontalPos])\n//   - easing: a function taking a number v between 0 and 1 as argument and returning another number\n//       easing(0) should be 0 and easing(1) should be 1 ! (can be used to handle acceleration)\n//       default to ease-out-quad (decelerating)\n//       See https://gist.github.com/gre/1650294 for a list of basic functions\n//   - offset: number to be subtracted from the current scroll (useful if `to` is not a number)\n//       an offset of 20 would scroll 20 pixels past the required value\n//   - relativeTo: used when `to` is an element. Indicates where the element should be on the screen (works like background-position).\n//       'top' (default): top of `to` is aligned with the top of elem (eq to '0%')\n//       'bottom': bottom of `to` is aligned with the bottom of elem (eq to '100%')\n//       'middle': middle of `to` is aligned with the middle of elem (eq to '50%')\n//       'x%': aligns the xth percent of `to` with the xth percent of `elem`\n//       'view': try to make the element visible (fully if possible)\n//          will not scroll if the element is already fully in view\n//          if to is bigger than elem, makes sure the top of to is visible\n//   - offsetStart: used when `to` is an element and relativeTo is 'view'. ensure a minimum margin from the top or left, depending on the direction (can be negative)\n//   - offsetEnd: used when `to` is an element and relativeTo is 'view'. ensure a minimum margin from the bottom or right, depending on the direction (can be negative)\n//   - force: boolean (default false) to force the smoothScroll to finish (even if the user scrolled)\nexport function smoothScrollTo(elem, to, dur, settings) {\n\tif (elem === null || elem === 'root') {\n\t\tlet doc = document;\n\t\telem = doc.scrollingElement ||\n\t\t\t(doc.documentElement.scrollHeight > doc.body.scrollHeight && doc.compatMode.startsWith('CSS1') ? doc.documentElement : doc.body);\n\t}\n\tif (!elem || to === undefined) {\n\t\treturn;\n\t}\n\tlet t = elem._smthscrl;\n\tif (t && t.timer) {\n\t\tendScroll(elem);\n\t}\n\tlet defaultEasing = t => 1 - (t = 1 - t) * t;\n\tsettings = settings || {};\n\tlet dir = 'ver';\n\tswitch (settings.direction) {\n\t\tcase 'horizontal':\n\t\tcase 'hor':\n\t\t\tdir = 'hor';\n\t\t\tbreak;\n\t\tcase 'both':\n\t\t\tdir = 'both';\n\t\t\tbreak;\n\t}\n\t// Legacy horizontal mode\n\tif (settings.horizontal) dir = 'hor';\n\tlet currentScroll = [undefined, undefined];\n\tif (dir === 'ver' || dir === 'both') currentScroll[0] = getScroll(elem, false);\n\tif (dir === 'hor' || dir === 'both') currentScroll[1] = getScroll(elem, true);\n\tlet start = now();\n\tif (settings.timeStart) {\n\t\tstart = settings.timeStart < 60000 ? start + settings.timeStart : settings.timeStart;\n\t}\n\tif (typeof dur === 'function') {\n\t\tlet from = dir === 'both' ? currentScroll : currentScroll[dir === 'ver' ? 0 : 1];\n\t\tdur = dur(from, to, elem);\n\t}\n\tdur = Number.isFinite(+dur) ? Math.abs(+dur) : 300;\n\tt = elem._smthscrl = {\n\t\ttimer: null,\n\t\teasing: typeof settings.easing === 'function' ? settings.easing : defaultEasing,\n\t\tto: to,\n\t\tdirection: dir,\n\t\toffset: settings.offset || 0,\n\t\trelativeTo: settings.relativeTo || 'top',\n\t\toffsetStart: settings.offsetStart || 0,\n\t\toffsetEnd: settings.offsetEnd || 0,\n\t\tfrom: currentScroll,\n\t\tpreviousScroll: [undefined, undefined],\n\t\tduration: dur,\n\t\tforce: !!settings.force,\n\t\tcallback: settings.callback,\n\t\tstart: start\n\t};\n\tif (dur) {\n\t\tt.timer = requestAnimationFrame(loop.bind(this, elem));\n\t} else {\n\t\tloop(elem);\n\t}\n\treturn { stop: endScroll.bind(this, elem) };\n}\n\n// Like smoothScrollTo but with v being an offset instead of an absolute value (v can't be an element)\nexport function smoothScrollBy(elem, v, d, settings) {\n\tsmoothScrollTo(elem, getScroll(elem, settings && settings.horizontal) + v, d, settings);\n}\n\n// Old way to scroll to an element\n// Use smoothScrollTo with v an element to achieve this now.\n// export function scrollToElem(elem, elem2, d, settings) {\n// \tlet top = getElemPos(elem2, elem, settings.horizontal);\n// \tif (top == undefined) return;\n// \tsmoothScrollTo(elem, top, d, settings);\n// }\n\nexport function isSmoothScrolling(elem) {\n\tlet t = elem._smthscrl;\n\treturn t && t.timer;\n}\n","import { accessNested } from 'utils/utils';\n\n// Gets a value, and replaces %$THING% by other values from an object recursively\n// Example:\n// copy = {\n// \t'$MSG': 'Hello %$NAME%',\n// \t'$NAME': '%$FIRST_NAME% %$SURNAME%',\n// \t'$FIRST_NAME': 'John',\n// \t'$SURNAME': 'Doe'\n// };\n// stringWithParams(copy, '$MSG'); // Hello John Doe\n// stringWithParams(copy, 'Bye %$NAME%'); // Bye John Doe (if attribute is not a copy element, it uses that value directly)\n// stringWithParams(copy, '%$FIRST_NAME% is %$MOOD%'); // John is $MOOD (if a variable is not defined, outputs its name)\n// stringWithParams(copy, '100% with %$SURNAME%'); // 100% with Doe (a % sign alone still works)\n// stringWithParams(copy, 'a \\\\%protected% part'); // a %protected% part (prepend with a \\ to prevent parsing ; warning : needs to be doubled in string literals because of default JS escaping)\nfunction _stringWithParams(params, str, _n) {\n\t// Prevent infinite recursion (e.g. $A = %$B%, $B = %$A%)\n\tif (++_n > 10) return str;\n\t// Allow using %subObject.$VALUE%\n\tconst content = accessNested(params, str, str) + '';\n\treturn content.replace(/(\\\\)?%([^% ]+)%/g, (m, s, g) => s ? '%' + g + '%' : _stringWithParams(params, g, _n));\n}\nexport default function stringWithParams(params, str) {\n\treturn _stringWithParams(params, str, 0);\n}","let added = false;\nconst className = 'tabbing';\n\nfunction onKeyDown(e) {\n\tif (e.key === 'Tab') {\n\t\tdocument.body.classList.add(className);\n\t}\n}\nfunction onMouseDown() {\n\tdocument.body.classList.remove(className);\n}\n\nconst register = () => {\n\tif (added) {\n\t\treturn;\n\t}\n\tadded = true;\n\twindow.addEventListener('keydown', onKeyDown, true);\n\twindow.addEventListener('mousedown', onMouseDown, true);\n\treturn { remove };\n};\nconst remove = () => {\n\tif (!added) {\n\t\treturn;\n\t}\n\tadded = false;\n\twindow.removeEventListener('keydown', onKeyDown, true);\n\twindow.removeEventListener('mousedown', onMouseDown, true);\n\tdocument.body.classList.remove(className);\n};\n\nexport default register;\n","/**\n * Manually play a video to catch low power mode play error (not triggered onError).\n**/\n\nexport default async function(video) {\n\tawait video.play();\n}\n","import { h } from 'preact';\n\nfunction debounce(f, d) {\n\tif (d == undefined) d = 250;\n\tlet timer = null;\n\tlet args = [];\n\tlet thisArg = null;\n\tfunction trigger() {\n\t\tf.apply(thisArg, args);\n\t}\n\tfunction onEvent() {\n\t\tthisArg = this;\n\t\targs = [].slice.call(arguments);\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(trigger, d);\n\t}\n\treturn onEvent;\n}\n\nfunction throttle(fn, threshold, scope) {\n\tif (typeof window === 'undefined') {\n\t\treturn fn;\n\t}\n\tif (threshold == undefined) threshold = 250;\n\tlet timeout = threshold === 'frame' ? requestAnimationFrame : setTimeout;\n\tlet clear = threshold === 'frame' ? cancelAnimationFrame : clearTimeout;\n\tlet last;\n\tlet deferTimer;\n\treturn function () {\n\t\tlet context = scope || this;\n\t\tlet now = Date.now();\n\t\tlet args = arguments;\n\t\tif (last && now < last + threshold) {\n\t\t\tclear(deferTimer);\n\t\t\tdeferTimer = timeout(() => {\n\t\t\t\tlast = Date.now();\n\t\t\t\tfn.apply(context, args);\n\t\t\t}, threshold);\n\t\t} else {\n\t\t\tlast = now;\n\t\t\tfn.apply(context, args);\n\t\t}\n\t};\n}\n\n// Make a function only callable once\n// Saves the return value and returns it for subsequent calls\nfunction once(f) {\n\tlet done = false;\n\tlet result;\n\treturn function () {\n\t\tif (done) return result;\n\t\tdone = true;\n\t\treturn result = f.apply(this, arguments);\n\t};\n}\n\n// DOM classNames handling\n\n// Long versions accepting arrays\n// function hasClass(elem, className) {\n// \tif (!elem || !className) return false;\n// \tlet arr = Array.isArray(className) ? className : className.split(' ');\n// \tif(arr.length > 1) return arr.every(cn=>hasClass(elem, cn));\n// \tclassName = arr[0];\n// \treturn (' ' + elem.className + ' ').indexOf(' ' + className + ' ') !== -1;\n// }\n// function addClass(elem, className) {\n// \tif (!elem || !className) return;\n// \tlet arr = Array.isArray(className) ? className : className.split(' ');\n// \tif(arr.length > 1) return arr.forEach(cn=>addClass(elem, cn));\n// \tclassName = arr[0];\n// \tif(!hasClass(elem, className))\n// \t\telem.className += ' ' + className;\n// }\n// function removeClass(elem, className) {\n// \tif (!elem || !className) return;\n// \tlet arr = Array.isArray(className) ? className : className.split(' ');\n// \tif(arr.length > 1) return arr.forEach(cn=>removeClass(elem, cn));\n// \tclassName = arr[0];\n// \tif(hasClass(elem, className))\n// \t\telem.className = (' ' + elem.className + ' ').replace(className, ' ').slice(1,-1);\n// }\n// function toggleClass(e,c) { (hasClass(e,c) ? removeClass : addClass)(e,c); }\n\n// Short versions\nfunction hasClass(e, c) {\n\treturn (' ' + e.className + ' ').indexOf(' ' + c + ' ') !== -1;\n}\nfunction addClass(e, c) {\n\tif (!hasClass(e, c)) e.className += (e.className ? ' ' : '') + c;\n}\n// function removeClass(e, c) { e.className = e.className.split(' ').filter(v => v != c).join(' '); }\nfunction removeClass(e, c) {\n\te.className = (' ' + e.className + ' ').replace(' ' + c + ' ', ' ').slice(1, -1);\n}\nfunction triggerAnim(e, c) {\n\tremoveClass(e, c); e.offsetWidth; addClass(e, c);\n}\nfunction toggleClass(e, c) {\n\t(hasClass(e, c) ? removeClass : addClass)(e, c);\n}\n\n// Easy way to add a class based on a condition (also check the class exists)\nfunction condClass(cond, className) {\n\tif (arguments.length === 1) {\n\t\tclassName = cond;\n\t\tcond = true;\n\t}\n\tif (Array.isArray(className)) return className.map(cn => condClass(cond, cn)).join('');\n\treturn cond && className && typeof className === 'string' ? ' ' + className : '';\n}\n\n// Turns an object to a string\n// { abc: true, def: false, xyz: true } -> 'abc xyz'\n// Warning: \"s\" has a special value and be used as a lookup object (meant to be an imported sss)\n//   will use the class s.abc instead of 'abc' if s object specified and the value exists\n//   { s: { abc: 'comp__abc', def: 'comp__def' }, abc: true } -> 'comp__abc'\nfunction expandClasses(classes) {\n\tif (!classes || typeof classes !== 'object' || Array.isArray(classes)) {\n\t\treturn classes;\n\t}\n\tlet mapKey = 's';\n\tlet map = classes[mapKey];\n\tlet hasMap = map && typeof map === 'object';\n\tlet list = Object.keys(classes).filter(key => (!hasMap || key !== mapKey) && classes[key]);\n\tif (hasMap) {\n\t\tlist = list.map(e => map[e] || e);\n\t}\n\treturn list.join(' ');\n}\n/**\n * Join several classes together.\n * @example\n * joinClasses('square', 'blue', false && 'active');\n * // returns 'square blue'\n * @param {...string} classNames - the class names to join\n * @return {string} the full class name\n**/\nfunction joinClasses() {\n\treturn [].concat.apply([], arguments).map(expandClasses).filter(e => e).join(' ');\n}\n\n// Access to a property of a nested object, or return a default value if the path cannot be accessed\n// For example, if obj is { nested: { property : [ 'hello' ] } }\n// to get 'hello', path would need to be 'nested.property.0' or ['nested', 'property', 0]\n// if we use 'non.existing.path' as a path, it would return def\nfunction accessNested(obj, path, def) {\n\tif (typeof path === 'string') path = path ? path.split('.') : [];\n\tif (!Array.isArray(path)) return def; // Path is not an array\n\tlet len = path.length;\n\tif (!len) return obj;\n\tfor (let i = 0; i < len; i++) {\n\t\tlet prop = path[i];\n\t\tif (!obj || !Object.prototype.hasOwnProperty.call(obj, prop)) {\n\t\t\treturn def;\n\t\t}\n\t\tobj = obj[prop];\n\t}\n\treturn obj;\n}\n// mini version with less checks for console one-liners:\n// var n=(o,p,k)=>(o&&(p=p.split?p.split('.'):p).length)?n(o[p.shift()],p):o;\n\n// Used for example with appData.pages.showtimes.data.stuff, when you can specify either one or a list of values\n// - if an array, returns it\n// - if a string (e.g. 'hello'), returns it as the only element: ['hello']\n// - if an object (e.g. { 1: 'abc', 2: 'def' }) returns the values: ['abc', 'def']\n// - if an object of booleans (e.g. { abc: true, def: true, ghi: false }) returns the keys for true values ['abc', 'def']\n// Also removes falsy values\nfunction asList(value) {\n\tif (!value) return [];\n\tif (typeof value !== 'object') return [value];\n\tif (!Array.isArray(value)) value = Object.keys(value).map(k => typeof value[k] === 'boolean' ? value[k] && k : value[k]);\n\treturn value.filter(e => e);\n}\n\nfunction commaSeparatedList(value) {\n\tif (!value || typeof value !== 'string') {\n\t\treturn [];\n\t}\n\treturn value.split(',').map(a => a.trim()).filter(a => a);\n}\n\n/* ---- ARRAY STUFF ---- */\n\n// Returns an array with only unique values (remove duplicates)\nfunction arrayUnique(array) {\n\tif (!array || !Array.isArray(array)) return array;\n\treturn [...new Set(array)];\n}\n\n// Returns the union of a set of arrays ([1,2,3], [2,3,4] => [1,2,3,4])\nfunction arrayUnion(/* array1, array2, ... */) {\n\treturn arrayUnique([].concat.apply([], arguments));\n}\n\n/* ---- ----------- ---- */\n\n// Return a date based on a field set in thundr\n// If a number, consider it a timestamp\n// If a string yyyy-MM-dd, get the beginning of this day in local time (usually release dates for example are local)\n// If something else tries new Date(val)\nfunction appDataDate(val) {\n\tif (!isNaN(val)) {\n\t\treturn new Date(+val);\n\t}\n\tif (typeof val === 'string') {\n\t\tlet m = val.match(/^(\\d{4})-(\\d{1,2})-(\\d{1,2})$/);\n\t\treturn m ? new Date(+m[1], m[2] - 1, +m[3]) : new Date(val);\n\t}\n\treturn new Date(NaN);\n}\n\nfunction sortObjectByOrder(object, mapCallback, property) {\n\tif (!object) {\n\t\treturn [];\n\t}\n\tif (typeof mapCallback === 'string' && arguments.length === 2) {\n\t\tproperty = mapCallback;\n\t\tmapCallback = undefined;\n\t}\n\tproperty = property || 'order';\n\tlet getProperty = typeof property === 'function' ? property : obj => obj?.[property];\n\n\tlet objectByOrder = Object.keys(object).map(k => ({ key: k, value: object[k] })).sort((obj1, obj2) => {\n\t\tif (!obj1.value) return 1;\n\t\tif (!obj2.value) return -1;\n\n\t\tlet prop1 = getProperty(obj1.value, obj1.key);\n\t\tlet prop2 = getProperty(obj2.value, obj2.key);\n\t\t// Keep it ==, not === to also get nulls\n\t\tlet noProp1 = prop1 == undefined;\n\t\tlet noProp2 = prop2 == undefined;\n\t\t// If both don't have an order set, sort them by keys (so that it works with 1, 2, etc.)\n\t\tif (noProp1 && noProp2) return obj1.key.localeCompare(obj2.key, undefined, { numeric: true });\n\t\tif (noProp1) return 1;\n\t\tif (noProp2) return -1;\n\n\t\tlet stringCompare = isNaN(prop1) || isNaN(prop2);\n\t\t// sort them by order\n\t\treturn stringCompare ? prop1.toString().localeCompare(prop2.toString()) : prop1 - prop2;\n\t});\n\n\tif (typeof mapCallback !== 'function') {\n\t\tmapCallback = value => value;\n\t}\n\treturn objectByOrder.map((el, i, all) => mapCallback(el.value, el.key, i, all));\n}\n\nfunction addToQuery(q, path, o) {\n\tif (o == null) {\n\t\treturn q;\n\t}\n\tif (typeof o !== 'object') {\n\t\treturn q[path] = o;\n\t}\n\tconst ks = Object.keys(o);\n\tks.forEach(k => addToQuery(q, path + '[' + k + ']', o[k]));\n\treturn q;\n}\nfunction toQueryString(obj) {\n\tif (!obj) return '';\n\tlet value = obj;\n\tif (typeof obj !== 'string') {\n\t\tlet query = {};\n\t\tObject.keys(obj).forEach(key => addToQuery(query, key, obj[key]));\n\t\tvalue = Object.keys(query).reduce((a, k) => {\n\t\t\tlet v = query[k];\n\t\t\tif (v == null) return a;\n\t\t\tlet addedVal = encodeURIComponent(k);\n\t\t\tif (typeof v !== 'boolean' && v !== '') {\n\t\t\t\taddedVal += '=' + encodeURIComponent(v);\n\t\t\t}\n\t\t\ta.push(addedVal);\n\t\t\treturn a;\n\t\t}, []).join('&');\n\t}\n\treturn value ? '?' + value : '';\n}\n\n// Parse dates in a few formats (e.g. dd/mm/yyyy ; yyyy-mm-dd)\nfunction parseDate(d) {\n\tif (!d || d instanceof Date) {\n\t\treturn d;\n\t}\n\tif (typeof d === 'number') {\n\t\treturn new Date(d);\n\t}\n\tif (typeof d !== 'string') {\n\t\treturn undefined;\n\t}\n\t// dd/mm/yyyy with optional day and month\n\tlet match = d.match(/^(?:(?:([0-9]{1,2})\\/)?([0-9]{1,2})\\/)?([0-9]{4})(?:,? (\\d{1,2}):(\\d{1,2})(?::(\\d{1,2}))?)?$/);\n\tif (match) {\n\t\treturn new Date(+match[3], +(match[2] || 1) - 1, +(match[1] || 1), +match[4] || 0, +match[5] || 0, +match[6] || 0);\n\t}\n\t// yyyy-mm-dd\n\t// Could be handled by new Date(string) but interpreted as UTC and we want local so we need to handle that \"manually\"\n\t// (we want to be able to use getDate() etc. instead of getUTCDate())\n\tmatch = d.match(/^(\\d{1,4})-(\\d{1,2})(?:-(\\d{1,2})(?:[T ](\\d{1,2}):(\\d{1,2})(?::(\\d{1,2})(\\.\\d+)?)?Z?)?)?$/);\n\tif (match) {\n\t\treturn new Date(+match[1], +match[2] - 1, +match[3] || 1, +match[4] || 0, +match[5] || 0, +match[6] || 0);\n\t}\n\t// stringified timestamp\n\tif (!Number.isNaN(+d)) {\n\t\treturn new Date(+d);\n\t}\n\t// try native date parsing\n\tconst date = new Date(d);\n\treturn isNaN(date) ? undefined : date;\n}\n\n/**\n * Join several parts of a path together.\n *\n * @example\n * // returns 'http://myserver.com/images/title.jpg'\n * joinPaths('http://myserver.com', 'images', '/title.jpg');\n * @param {...string} parts - the path parts to join\n * @return {string} the final path containing all the parts\n */\nfunction joinPaths() {\n\t// [...arguments].map(e => e.replace(/^\\/|\\/$/, '')).filter(e => e).join('/');\n\tlet path = '';\n\tlet slash = false; // whether slash is needed before\n\tfor (let i = 0, il = arguments.length; i < il; i++) {\n\t\tlet part = arguments[i];\n\t\tif (!part) continue;\n\t\t// ^ ensure empty string is not counted as a path part\n\t\tif (i > 0 && part.charAt(0) === '/') {\n\t\t\tpart = part.substring(1);\n\t\t}\n\t\tpath += slash ? '/' + part : part;\n\t\tslash = path.charAt(path.length - 1) !== '/';\n\t}\n\treturn path;\n}\n\n/**\n * Return whether the given object has only numeric key strings.\n * Can be used to detect if an object is in reality an array.\n *\n * @example\n * hasOnlyNumericKeys({\"0\": \"foo\", \"1\": \"bar\", \"3\": \"baz\"}); // true\n * hasOnlyNumericKeys({\"0\": \"foo\", \"sam\": \"bar\"}); // false\n * hasOnlyNumericKeys({\"0\": \"foo\", \"Infinity\": \"bar\"}); // false\n * @param {Object} obj - the input object\n * @return {boolean} true if obj is an array with string keys, false otherwise\n */\nfunction hasOnlyNumericKeys(obj) {\n\tfor (const key in obj) {\n\t\tif (!isFinite(+key)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n/**\n * Convert an object to an array. (stricter version of asList)\n * Non-numeric/Infinite keys will be removed in the array representation of the\n * object.\n *\n * @param {Object} obj - the input object\n * @return {Array} an array equivalent to obj\n */\nfunction objToArr(obj) {\n\tconst arr = [];\n\tfor (const key in obj) {\n\t\tconst idx = +key;\n\t\tif (isFinite(idx)) {\n\t\t\tarr[idx] = obj[key];\n\t\t}\n\t}\n\treturn arr;\n}\n\n/**\n * Sanitize recursively an object created in Thundr.\n * Note that numeric value will be casted to Number unless a '@s' is explicitely\n * specified at the end of the key.\n *\n * @example\n * sanitizeObj({\"power\": \"45\", \"range\": {\"0\": \"-5.6\", \"1\": \"5.2\"}, \"id@s\": \"124\"})\n * // return {\"power\": 45, \"range\": [-5.6, 5.2], \"id\": \"124\"}\n * @param {Object} obj - the input object\n * @param {Object|Array} the sanitized object or array\n */\nfunction sanitizeObj(obj) {\n\tconst out = {};\n\tfor (let key in obj) {\n\t\tlet val = obj[key];\n\t\tif (val != null && typeof val === 'object') {\n\t\t\tval = sanitizeObj(val);\n\t\t} else if (key.endsWith('@s')) {\n\t\t\tkey = key.substring(0, key.length - 2);\n\t\t} else {\n\t\t\tval = isFinite(+val) ? +val : val;\n\t\t}\n\t\tout[key] = val;\n\t}\n\tif (hasOnlyNumericKeys(out)) {\n\t\treturn objToArr(out);\n\t}\n\treturn out;\n}\n\n/**\n * Convert a multiline text to an array of JSX elements.\n *\n * @param {string} text - string with 0 or more \\n\n * @return {Array.<string|JSX>} an array of JSX elements\n */\nconst textToJsxArray = (() => {\n\tfunction reduceTextJsx(jsxArray, line, i) {\n\t\tif (i > 0) {\n\t\t\tjsxArray.push(<br />);\n\t\t}\n\t\tjsxArray.push(line);\n\t\treturn jsxArray;\n\t}\n\n\treturn (text) => {\n\t\tlet lines = text;\n\t\tif (typeof lines === 'string') lines = text.split('\\n');\n\t\tconst jsxArray = lines.reduce(reduceTextJsx, []);\n\t\treturn jsxArray;\n\t};\n})();\n\n/**\n * Return the part part of a URI.\n *\n * @example\n * pathOnly('this/is/a/folder/file.txt');\n * // ^ returns 'this/is/a/folder/'\n *\n * @param {string} path - the full URI of a resource\n * @return {string} only the path part of the resource\n */\nfunction pathOnly(path) {\n\tlet rpath = decodeURIComponent(path);\n\tconst index = rpath.lastIndexOf('/');\n\tif (index === -1 || index === rpath.length - 1) return rpath;\n\tlet res = rpath.substr(index + 1);\n\tconst qsIndex = res.indexOf('?');\n\tif (qsIndex > -1) {\n\t\tres = res.substring(0, qsIndex);\n\t\trpath = rpath.substring(0, index + 1 + qsIndex);\n\t}\n\tif (res.length === 0) return rpath;\n\tconst pointIndex = res.lastIndexOf('.');\n\tif (pointIndex === -1 || pointIndex === res.length - 1) return rpath + '/';\n\treturn rpath.substring(0, index + 1);\n}\n\n/**\n * Return whether a variable is a JS (key, value) object.\n *\n * @param {*} obj - the object to test\n * @return {!boolean} true if obj is an object, false otherwise\n */\nfunction isObject(obj) {\n\treturn obj !== null && typeof obj === 'object' && !Array.isArray(obj);\n}\n\n/**\n * Return whether an object/array is empty.\n *\n * @param {*} obj\n * @returns {boolean} true if obj/array is empty, false otherwise\n */\nfunction isEmpty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/**\n * Return whether a variable is a valid numberic value (string number are allowed).\n *\n * @param {*} obj - the object to test\n * @return {!boolean} true if val is numeric, false otherwise\n */\nfunction isNumeric(val) {\n\treturn !isNaN(parseFloat(val)) && isFinite(val);\n}\n\n/**\n * Parse an string array of numeric numbers.\n *\n * @example\n * parseNumericArray('5, 2, 1.2, 7'); // returns [5, 2, 1.2, 7]\n *\n * @param {string} arrayStr - the string array\n * @return {Array.<number>|null} the array of numeric value, or null in case the parsing failed\n */\nfunction parseNumericArray(arrayStr) {\n\tif (typeof arrayStr !== 'string') return null;\n\tconst parts = arrayStr.split(/[|/,;]/);\n\t// use ES5 loop to early out in case of non-numeric value\n\tconst il = parts.length;\n\tfor (let i = 0; i < il; i++) {\n\t\tconst val = parseFloat(parts[i].trim());\n\t\tif (!isFinite(val)) return null;\n\t\tparts[i] = val;\n\t}\n\treturn parts;\n}\n\n/**\n * Quick helper to choose whether a node should be displayed.\n *\n * @example\n * <div style={displayWhen(isLoading)} />\n *\n * @param {boolean} cond - the condition to display the node\n * @return {{display: string}} the element display style\n */\nconst displayWhen = (cond) => ({ display: cond ? 'block' : 'none' });\n\n/**\n * Return the uri of an image if it exists in appData -> styling -> images || returns the default image path\n *\n * @param {*} obj - appData\n * @param {!string} imgName - name of image we are trying to find\n * @param {!string} defaultImg - value returned if the imgName doesn't exist\n * @return {!string} path of the onesheet stored in appData or default value\n */\nfunction getStylingImagePath(appData, imgName, defaultImg) {\n\treturn accessNested(appData, ['styling', 'images', imgName]) || defaultImg;\n}\n\n/**\n * Checks to see if a given object is empty e.g. {} or null or undefined\n *\n * @param {object} inputObject\n * @returns bool\n */\nfunction isEmptyObject(inputObject) {\n\treturn inputObject == null || Object.keys(inputObject).length === 0;\n}\n\n/**\n * Transforms HTML tags in HTML entities for safe rendering.\n *\n * @example\n * encodeHtml('<script>'); // returns \"&lt;script&gt;\"\n * encodeHtml('%3Cscript%3E'); // returns \"%lt;script%gt;\"\n *\n * @param {!string} str - the string to encode\n * @return {!string} the string with HTML tags replaced with HTML entities\n */\nconst encodeHtml = (str) => {\n\treturn (str.toString())\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/%3C/g, '&lt;')\n\t\t.replace(/%3E/g, '&gt;');\n};\n\n/**\n * Transforms HTML tags in HTML entities recursively in any object.\n *\n * @param {*} obj - the input object\n * @return {*} the same object with all string encoded with HTML entities\n */\nconst encodeHtmlRecursively = (obj) => {\n\tif (typeof obj === 'string') return encodeHtml(obj);\n\tif (Array.isArray(obj)) return obj.map(e => encodeHtmlRecursively(e));\n\tif (isObject(obj)) {\n\t\tfor (const key in obj) obj[key] = encodeHtmlRecursively(obj[key]);\n\t}\n\treturn obj;\n};\n\nconst loadScript = (url) => {\n\treturn new Promise((resolve, reject) => {\n\t\tlet script = document.createElement('script');\n\t\tscript.onload = resolve;\n\t\tscript.onerror = reject;\n\t\tscript.src = url;\n\t\tdocument.body.appendChild(script);\n\t});\n};\n\n/**\n *  Checks the equality between two arrays and returns true if there is no difference.\n * @param {Array} arr1\n * @param {Array} arr2\n */\nconst arraysEqual = (arr1, arr2) => {\n\tif (!Array.isArray(arr1) || !Array.isArray(arr2)) {\n\t\treturn false;\n\t}\n\treturn arr1.length === arr2.length && arr1.every((val, i) => val === arr2[i]);\n};\n\nconst escapeString = (variable) => {\n\tif (typeof variable !== 'string') return variable;\n\treturn variable.replace(/'/g, \"\\\\'\").replace(/\"/g, '\\\\\"');\n};\n\nconst escapeObjectValues = (obj) => Object.entries(obj).reduce((acc, [k, v]) => {\n\tacc[k] = escapeString(v);\n\treturn acc;\n}, {});\n\n\nexport { debounce, throttle, once };\nexport { accessNested };\nexport { hasClass, addClass, removeClass, triggerAnim, toggleClass, condClass, joinClasses };\nexport { asList, commaSeparatedList };\nexport { arrayUnique, arrayUnion, arraysEqual };\nexport { appDataDate };\nexport { sortObjectByOrder };\nexport { addToQuery, toQueryString };\nexport { parseDate };\nexport { joinPaths };\nexport { hasOnlyNumericKeys, objToArr, sanitizeObj };\nexport { textToJsxArray };\nexport { pathOnly };\nexport { isObject, isEmpty, isNumeric };\nexport { parseNumericArray };\nexport { displayWhen };\nexport { getStylingImagePath };\nexport { encodeHtml, encodeHtmlRecursively };\nexport { loadScript };\nexport { isEmptyObject };\nexport { escapeString, escapeObjectValues };","import { clamp } from 'utils/math';\n\nexport function visibleRatio(elem) {\n\tif (!elem) return;\n\n\tconst rect = elem.getBoundingClientRect();\n\tconst windowHeight = window.innerHeight;\n\n\tconst visibleTop = clamp(rect.top, 0, windowHeight);\n\tconst visibleBottom = clamp(rect.bottom, 0, windowHeight);\n\n\treturn Math.abs(visibleBottom - visibleTop) / Math.min(rect.height, windowHeight);\n}\n\nexport function isScrolledIntoView(elem) {\n\tif (!elem) return;\n\treturn visibleRatio(elem) > .5;\n}\n\nexport function getPercentageThreshold(offsetTop) {\n\tif (typeof window === 'undefined' || !offsetTop) {\n\t\treturn 0;\n\t}\n\treturn offsetTop / window.innerHeight + 0.01;\n}\n\nexport function closestToCenter(elements) {\n\tlet goal = window.innerHeight * .5;\n\tlet prevDist = Infinity;\n\tfor (let i = 0; i < elements.length; i++) {\n\t\tconst rect = elements[i].getBoundingClientRect();\n\t\tlet dist = Math.max(rect.top - goal, goal - rect.bottom);\n\t\tif (dist <= 0) {\n\t\t\treturn elements[i];\n\t\t}\n\t\tif (dist >= prevDist) {\n\t\t\treturn elements[i - 1];\n\t\t}\n\t\tprevDist = dist;\n\t}\n\treturn null;\n}\n\nexport function isSectionUnderHeader(elem) {\n\tif (!elem) return;\n\tconst rect = elem.getBoundingClientRect();\n\treturn (rect.top <= 25 && rect.bottom > 25);\n}\n","export * from 'store/actions.js';\n\nexport const NETFLIX_BUTTON_CLICK = 'NETFLIX_BUTTON_CLICK';\nexport const NETFLIX_GALLERY_ITEM_CLICK = 'NETFLIX_GALLERY_ITEM_CLICK';\nexport const NETFLIX_RESOURCE_CLICK = 'NETFLIX_RESOURCE_CLICK';\n","import { h } from 'preact';\nimport Store from 'store/store';\nimport { joinClasses } from 'utils/utils';\nimport * as BaseComp from 'components/bolt/header/header.js';\nimport Button from 'components/bolt/button/button';\nimport s from 'components/bolt/header/header.sss';\n\nexport default class Header extends BaseComp.default {\n\n\trenderHeaderLogo() {\n\t\tconst headerLogo = this.props?.appData?.header?.powsterHeader?.logo;\n\t\tconst headerLogoExclusions = (headerLogo?.pageExclusions || '').split(',')?.map(e => e.trim())?.filter(e => e);\n\t\tconst hideHeaderLogo = headerLogoExclusions.includes(Store.get().activePage);\n\t\tconst className = joinClasses(s.headerLogo, hideHeaderLogo && s.hide, !headerLogo.path && s.unclickable);\n\t\tconst content = <img src={headerLogo.src} alt={headerLogo.alt} />;\n\n\t\tif (/^(https?:\\/\\/|mailto:)/i.test(headerLogo.path)) {\n\t\t\treturn (\n\t\t\t\t<a\n\t\t\t\t\tclass={className}\n\t\t\t\t\thref={headerLogo.path}\n\t\t\t\t\ttarget={headerLogo.sameWindow ? '_self' : '_blank'}\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\tonClick={() => this.trackPersistentButtonClick(headerLogo.path, headerLogo.alt || 'headerLogo')}\n\t\t\t\t\tkey=\"headerLogoLink\"\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</a>\n\t\t\t);\n\t\t}\n\n\t\tif (headerLogo) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\tclass={className}\n\t\t\t\t\ttrigger={e => headerLogo.path && this.triggerPersistentButton(headerLogo.path, 'Logo', headerLogo.sameWindow, e)}\n\t\t\t\t\tkey=\"headerLogo\"\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</Button>\n\t\t\t);\n\t\t}\n\t}\n}","import { h } from 'preact';\nimport * as BaseComp from 'components/bolt/text/text.js';\n// import s from 'components/bolt/text/text.sss';\n\nexport default class Text extends BaseComp.default {\n\n\tonClick(e) {\n\t\tconst elem = e.target.closest('a[data-track][data-action]');\n\t\tif (elem) {\n\t\t\tconst isSameWindowLink = !elem.target || elem.target === '_self' || elem.target === '_top';\n\t\t\tconst opensInSameWindow = isSameWindowLink && !e.ctrlKey && !e.shiftKey && !e.altKey && !e.metaKey && e.button === 0;\n\t\t\tif (opensInSameWindow) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tconst action = elem.getAttribute('data-action');\n\t\t\tconst category = elem.getAttribute('data-track');\n\t\t\tconst label = elem.getAttribute('data-label');\n\t\t\t// window.firePowsterCustomEvent?.(action, category, label);\n\t\t\tStore.emit('CUSTOM_EVENT', { action, category, label });\n\t\t\tif (opensInSameWindow) {\n\t\t\t\tlocation.href = elem.href;\n\t\t\t}\n\t\t}\n\t\tsuper.onClick(e);\n\t}\n\n}\n","import { h } from 'preact';\nimport * as BaseComp from 'components/bolt/toutHorizontal/toutHorizontal.js';\nimport s from 'components/bolt/toutHorizontal/toutHorizontal.sss';\n\nconst DISPLAYED_TOUTS = 3;\n\n\nexport default class ToutHorizontal extends BaseComp.default {\n\trenderTouts() {\n\t\tconst { touts } = this.state;\n\t\tconst tooManyTouts = touts.length > DISPLAYED_TOUTS;\n\n\t\tlet content = touts.map((tout, index) => this.renderTout(tout, index));\n\t\tif (tooManyTouts && !this.props.client?.deviceWidthSize === 'mobile') {\n\t\t\t// Render duplicate items for infinite scrolling\n\t\t\tcontent.push(\n\t\t\t\t...touts.map((tout, index) => this.renderTout(tout, index, 'duplicate1')),\n\t\t\t\t...touts.map((tout, index) => this.renderTout(tout, index, 'duplicate2')),\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div class={s.toutsWrapper}>\n\t\t\t\t<div\n\t\t\t\t\tclass={s.toutsContainer}\n\t\t\t\t\tonScroll={this.onToutsContainerScroll}\n\t\t\t\t\tonMouseWheel={this.setUsingScrollWheel}\n\t\t\t\t\tonTouchStart={this.setNotUsingScrollWheel}\n\t\t\t\t\tonKeyDown={this.setNotUsingScrollWheel}\n\t\t\t\t\tref={e => this.$toutsContainer = e}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</div>\n\t\t\t\t{tooManyTouts && this.renderArrows()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","const pixelsCategories = [\"PERFORMANCE\",\"TARGETING\"];\n\nexport { pixelsCategories };","export const pages = {\n\t'landing': { id: 'landing', page: 'customScroll', getter: () => import(/* webpackChunkName: 'customScroll' */ 'components/bolt/customScroll/customScroll') },\n\t'castingLinks': { id: 'castingLinks', page: 'toutHorizontal', getter: () => import(/* webpackChunkName: 'toutHorizontal' */ 'components/bolt/toutHorizontal/toutHorizontal') }\n};\nexport const sections = [\n\n];\nimport toutHorizontal from 'components/bolt/toutHorizontal/toutHorizontal';\nimport text from 'components/bolt/text/text';\nexport const sectionsWithParent = [\n\t{ id: 'castingLinks', isPreloaded: true, component: toutHorizontal, parent: 'landing' },\n\t{ id: 'info', isPreloaded: true, component: text, parent: 'landing' }\n];\n","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"tt\":\"ageGate__tt__M6VPs\",\"sectionAgeGate\":\"ageGate__sectionAgeGate__aprP4\",\"screenCover\":\"ageGate__screenCover__BZy_v\",\"screenContainer\":\"ageGate__screenContainer__fGlYP\",\"container\":\"ageGate__container__cm3Ov\",\"top\":\"ageGate__top__JlxVx\",\"title\":\"ageGate__title__HZ64L\",\"bottom\":\"ageGate__bottom__P_C7c\",\"description\":\"ageGate__description__u01bO\",\"middle\":\"ageGate__middle__A7zEP\",\"lockedOut\":\"ageGate__lockedOut__w3Wna\",\"instruction\":\"ageGate__instruction__LXyIo\",\"inputs\":\"ageGate__inputs__rTi8J\",\"selectWrapper\":\"ageGate__selectWrapper__EuvWG\",\"chevron\":\"ageGate__chevron__svwaa\",\"error\":\"ageGate__error__kpbRQ\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"button__container__Vgkga\",\"primary\":\"button__primary__JkbQR\",\"outlined\":\"button__outlined__L52sA\",\"floating\":\"button__floating__Elewb\",\"time\":\"button__time__Ndxk6\",\"interstitial\":\"button__interstitial__Z_8fj\",\"noHover\":\"button__noHover__G6tl3\",\"allStyling\":\"button__allStyling__iHyRz\",\"icon\":\"button__icon__qI18a\",\"tag\":\"button__tag__VCfyJ\",\"active\":\"button__active__t9Wy6\",\"text\":\"button__text__Zqxzg\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"countdown__wrapper__A1wwf\",\"visible\":\"countdown__visible__z7jYe\",\"hide\":\"countdown__hide__GjtbD\",\"remove\":\"countdown__remove__iaDqx\",\"heading\":\"countdown__heading__ItakV\",\"annotation\":\"countdown__annotation__kdtlE\",\"countdown\":\"countdown__countdown__Y86Zb\",\"denomination\":\"countdown__denomination__KmCFi\",\"value\":\"countdown__value__C2wF7\",\"wide\":\"countdown__wide__o5apd\",\"label\":\"countdown__label__WvLkm\",\"fadeZoomIn\":\"countdown__fadeZoomIn__HbzVt\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"gallery__container__b6mgP\",\"dedicatedPage\":\"gallery__dedicatedPage__ODOLc\",\"inner\":\"gallery__inner__EmDvV\",\"includeTopArrows\":\"gallery__includeTopArrows__P4ie_\",\"loading\":\"gallery__loading__CbFjR\",\"galleryTitle\":\"gallery__galleryTitle__xucGB\",\"galleryDescription\":\"gallery__galleryDescription__F2r8z\",\"withMobileArrows\":\"gallery__withMobileArrows__Q8l9Q\",\"videoContainer\":\"gallery__videoContainer__g17y5\",\"touchOverlay\":\"gallery__touchOverlay__TyM1K\",\"spinner\":\"gallery__spinner__UoQSk\",\"spin\":\"gallery__spin__rwO7C\",\"contentWrapper\":\"gallery__contentWrapper__soQmY\",\"imageWrapper\":\"gallery__imageWrapper__rGAe7\",\"imageTransitionContainer\":\"gallery__imageTransitionContainer__lhUJ3\",\"imageTransitionVisible\":\"gallery__imageTransitionVisible__DLzJQ\",\"imageTransitionLeaving\":\"gallery__imageTransitionLeaving__VI_hJ\",\"annotationTransitionContainer\":\"gallery__annotationTransitionContainer__tvK8U\",\"annotationTransitionLeaving\":\"gallery__annotationTransitionLeaving__EGqOq\",\"activeImage\":\"gallery__activeImage__di0aY\",\"clickable\":\"gallery__clickable__QqWgz\",\"video\":\"gallery__video__iu41X\",\"arrows\":\"gallery__arrows__juXL2\",\"hideArrowsDesktop\":\"gallery__hideArrowsDesktop__ZifcS\",\"mobileArrows\":\"gallery__mobileArrows__zY58T\",\"noDownloads\":\"gallery__noDownloads__G1pgK\",\"hideArrowsMobile\":\"gallery__hideArrowsMobile__Y_p3L\",\"arrowBtn\":\"gallery__arrowBtn__Fhjzr\",\"leftArrow\":\"gallery__leftArrow__Q5oZI\",\"rightArrow\":\"gallery__rightArrow__EHH27\",\"bottomWrapper\":\"gallery__bottomWrapper__gu8as\",\"bottom\":\"gallery__bottom__wzoIS\",\"navDots\":\"gallery__navDots__htQ0d\",\"dotBtn\":\"gallery__dotBtn__ZTbca\",\"pointer\":\"gallery__pointer__wePl0\",\"hasDownloads\":\"gallery__hasDownloads__IT805\",\"canShare\":\"gallery__canShare__AFMX4\",\"dot\":\"gallery__dot__FBXZn\",\"activeDot\":\"gallery__activeDot___4Yku\",\"popBack\":\"gallery__popBack__wzBMZ\",\"fade\":\"gallery__fade__nLK0o\",\"pop\":\"gallery__pop__c_kpU\",\"goingLeft\":\"gallery__goingLeft__wbWqG\",\"isLast\":\"gallery__isLast__JSU7b\",\"goingRight\":\"gallery__goingRight__lFZy2\",\"isFirst\":\"gallery__isFirst__DcNnX\",\"annotation\":\"gallery__annotation__M0J7O\",\"share\":\"gallery__share__E2fWR\",\"sharePopout\":\"gallery__sharePopout__BicKL\",\"downloadBtnContainer\":\"gallery__downloadBtnContainer__KzoSD\",\"downloadButton\":\"gallery__downloadButton__TP3T7\",\"downloadSingle\":\"gallery__downloadSingle__fMIoG\",\"downloadAll\":\"gallery__downloadAll__fO8tA\",\"rotate\":\"gallery__rotate__GJmdH\",\"downloadInProgress\":\"gallery__downloadInProgress__C8ffS\",\"downloadIcon\":\"gallery__downloadIcon__QgxEO\",\"extraActions\":\"gallery__extraActions__A3I5X\",\"isEmbeded\":\"gallery__isEmbeded__Jbtyq\",\"active\":\"gallery__active__SGFTn\",\"disabled\":\"gallery__disabled__Ri0Bl\",\"lowerOpacity\":\"gallery__lowerOpacity__Dh2ef\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"sharePopout__wrapper__Q6_Wy\",\"container\":\"sharePopout__container__VP7Qu\",\"backgroundContainer\":\"sharePopout__backgroundContainer__Yw1vz\",\"open\":\"sharePopout__open__XycXM\",\"headline\":\"sharePopout__headline__QHX_g\",\"close\":\"sharePopout__close__mH_ml\",\"shareButtons\":\"sharePopout__shareButtons__DMScD\",\"shareButton\":\"sharePopout__shareButton__sHvBq\",\"copyButton\":\"sharePopout__copyButton__Yosy2\",\"copied\":\"sharePopout__copied__eOS8A\",\"activated\":\"sharePopout__activated__2XewU\",\"zoom\":\"sharePopout__zoom__G8AKC\",\"facebook\":\"sharePopout__facebook__iYY8S\",\"twitter\":\"sharePopout__twitter__ZX1FA\",\"whatsapp\":\"sharePopout__whatsapp__G5LZi\",\"instagram\":\"sharePopout__instagram__oEfiz\",\"pinterest\":\"sharePopout__pinterest__xLsHm\",\"viber\":\"sharePopout__viber__v5dqr\",\"tumblr\":\"sharePopout__tumblr__Wdn4n\",\"telegram\":\"sharePopout__telegram__kgz6g\",\"rtlContainer\":\"sharePopout__rtlContainer__CDlPt\",\"shareButton--whatsapp\":\"sharePopout__shareButton--whatsapp__Rh2FK\",\"shareButton--viber\":\"sharePopout__shareButton--viber__FB1Cx\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"landscapeOverlay__wrapper__ySlEt\",\"phoneIcon\":\"landscapeOverlay__phoneIcon__hXNeF\",\"phoneRotate\":\"landscapeOverlay__phoneRotate__NBry2\"};","// extracted by mini-css-extract-plugin\nexport default {\"iframe\":\"matterhorn__iframe__dSweB\"};","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"sectionBackground__wrapper__p3w2S\",\"tiled\":\"sectionBackground__tiled__BUHba\",\"bgVideo\":\"sectionBackground__bgVideo__RrFE4\",\"video\":\"sectionBackground__video__lAduZ\",\"hide\":\"sectionBackground__hide__saZRO\"};","// extracted by mini-css-extract-plugin\nexport default {\"socials\":\"socials__socials__BRMQT\",\"social\":\"socials__social__cEC91\",\"rtlSocial\":\"socials__rtlSocial__kG2oF\",\"icon\":\"socials__icon__WSlYK\",\"navOpen\":\"socials__navOpen__vbk7Q\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"player__container__Ctj9y\",\"keepAspectRatio\":\"player__keepAspectRatio__dM5ZY\",\"loader\":\"player__loader__fOioB\",\"spin\":\"player__spin__uoIPb\",\"spinner\":\"player__spinner___m8Oh\",\"visible\":\"player__visible__Dag_e\",\"hiddenPlaylist\":\"player__hiddenPlaylist__pNlqu\"};","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"youtube__wrapper__A5RxE\",\"prompt\":\"youtube__prompt__qKMmg\",\"cta\":\"youtube__cta__qttoK\",\"responsiveResize\":\"youtube__responsiveResize__e1ryh\"};","// extracted by mini-css-extract-plugin\nexport default {\"visible\":\"transition__visible__cG1Az\",\"leaving\":\"transition__leaving__m3Ebj\",\"entering\":\"transition__entering__BjqLR\",\"empty\":\"transition__empty__sRqEI\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"dynamicPageLoader__container__dP_35\",\"component\":\"dynamicPageLoader__component__RFlGe\",\"active\":\"dynamicPageLoader__active__VQEx9\"};","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"boltApp__container__YUbee\",\"mainScrollWrapper\":\"boltApp__mainScrollWrapper__FBUyK\",\"mainScroll\":\"boltApp__mainScroll__CXyX9\",\"hideScrollbar\":\"boltApp__hideScrollbar__PdkBj\",\"dedicatedPage\":\"boltApp__dedicatedPage__Nqw_q\",\"pageWrapper\":\"boltApp__pageWrapper__EI3_9\",\"pageContainer\":\"boltApp__pageContainer__WMeJA\",\"pageName\":\"boltApp__pageName__aaks0\",\"background\":\"boltApp__background__eV5Oq\",\"hasStickyFooter\":\"boltApp__hasStickyFooter__DDlDO\",\"hideBackground\":\"boltApp__hideBackground__Afd6U\",\"bgVideo\":\"boltApp__bgVideo__jDBDI\",\"sidePanelOpen\":\"boltApp__sidePanelOpen__Pcx9V\",\"fadeIn\":\"boltApp__fadeIn__FZNEO\",\"loadingOccluder\":\"boltApp__loadingOccluder__Gm9Uz\",\"sound\":\"boltApp__sound__RUBw1\",\"icon\":\"boltApp__icon__dH9XI\",\"muted\":\"boltApp__muted__m28EV\",\"top-left\":\"boltApp__top-left__yKEmz\",\"top-right\":\"boltApp__top-right__T_Q3L\",\"bottom-left\":\"boltApp__bottom-left__IFU3p\",\"bottom-right\":\"boltApp__bottom-right__wUvRP\",\"removeOccluder\":\"boltApp__removeOccluder__t8bo5\",\"sidePanelAnimation\":\"boltApp__sidePanelAnimation__L4TnV\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"burgerMenu__container__woa17\",\"showtimes\":\"burgerMenu__showtimes__FAh8z\",\"navOpen\":\"burgerMenu__navOpen__rVqHL\",\"back\":\"burgerMenu__back__HVhCb\",\"line\":\"burgerMenu__line__q6JLQ\",\"homeEnt\":\"burgerMenu__homeEnt__LMdYh\",\"pressKit\":\"burgerMenu__pressKit__JPx5Z\",\"homeScrolled\":\"burgerMenu__homeScrolled__hStX9\",\"video\":\"burgerMenu__video__XFRwc\",\"searching\":\"burgerMenu__searching__K1wpb\",\"customBurgerMenu\":\"burgerMenu__customBurgerMenu__EiK9f\",\"oneSheetOverlayOpen\":\"burgerMenu__oneSheetOverlayOpen__ys2jp\",\"trailerOverlayOpen\":\"burgerMenu__trailerOverlayOpen__mBnrR\",\"calendarRemindOpen\":\"burgerMenu__calendarRemindOpen__vunK1\",\"close\":\"burgerMenu__close__zpKO6\",\"oneSheetOverlay\":\"burgerMenu__oneSheetOverlay__rzfD_\",\"trailerOverlay\":\"burgerMenu__trailerOverlay__DlT2b\",\"calendarRemind\":\"burgerMenu__calendarRemind__ro3Ej\",\"burger\":\"burgerMenu__burger__A0rsM\",\"hidden\":\"burgerMenu__hidden__HwYTB\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"footer__wrapper__bk3Sh\",\"hidden\":\"footer__hidden__bTOEy\",\"showtimes\":\"footer__showtimes__KuqjY\",\"cta\":\"footer__cta__id9x1\",\"scrollTop\":\"footer__scrollTop__vGu9o\",\"outer\":\"footer__outer__PXHdo\",\"copyright\":\"footer__copyright__WA4AV\",\"sidePanelOpen\":\"footer__sidePanelOpen__dbJhK\",\"pressKit\":\"footer__pressKit__kRG_2\",\"links\":\"footer__links__Ob9x9 small\",\"openWrapper\":\"footer__openWrapper__q3qyC\",\"line\":\"footer__line__OwPe3\",\"inlineFooter\":\"footer__inlineFooter__TnQqZ\",\"watchHomeFooterColor\":\"footer__watchHomeFooterColor__WA1bl\",\"loneVideoDefaultFooter\":\"footer__loneVideoDefaultFooter__Pc4kf\",\"shadow\":\"footer__shadow__e5Znj\",\"sticky\":\"footer__sticky__t75F3\",\"noLegalBtn\":\"footer__noLegalBtn__K1103\",\"openCropper\":\"footer__openCropper__dSPuq\",\"staticAutoExpand\":\"footer__staticAutoExpand__K_CGS\",\"open\":\"footer__open__r4Er1\",\"closeBtn\":\"footer__closeBtn__vPgpv\",\"studioDetails\":\"footer__studioDetails__icxht\",\"logos\":\"footer__logos__WROGD\",\"logoWrapper\":\"footer__logoWrapper__KRLUu\",\"logo\":\"footer__logo__RPe3n\",\"linkWrapper\":\"footer__linkWrapper__o36LA\",\"homeEnt\":\"footer__homeEnt__YAib3\",\"dedicatedIframePage\":\"footer__dedicatedIframePage__FF9C4\",\"signUpFormFooterLinks\":\"footer__signUpFormFooterLinks__zpfe4\",\"sizer\":\"footer__sizer__Az_pK\",\"autoExpandingBar\":\"footer__autoExpandingBar__ggxyj\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"header__container__ovQRx\",\"showtimesSearchOverlay\":\"header__showtimesSearchOverlay__BJ3GW\",\"hubTextOverlayOpen\":\"header__hubTextOverlayOpen__U0WDh\",\"headerContainer\":\"header__headerContainer__QhzKa\",\"homeEntMerchantOpen\":\"header__homeEntMerchantOpen__eiq86\",\"menuText\":\"header__menuText__KX0qh\",\"homeScrolled\":\"header__homeScrolled__G9ukl\",\"sony\":\"header__sony__v4dJA\",\"right\":\"header__right__JJJSK\",\"sonyCALanguageSelector\":\"header__sonyCALanguageSelector__ZWeT6\",\"separator\":\"header__separator___IpXu\",\"active\":\"header__active__KnZEa\",\"sonyLogo\":\"header__sonyLogo__ZfJi2\",\"sonyPicturesLogo\":\"header__sonyPicturesLogo__tPjZI\",\"disabled\":\"header__disabled__G3in3\",\"solidBackground\":\"header__solidBackground__a_X7q\",\"hidden\":\"header__hidden__QHHYI\",\"persistentBtn\":\"header__persistentBtn__dW31r\",\"hide\":\"header__hide__gQZv0\",\"allStyling\":\"header__allStyling__ZTblR\",\"persistentBtnLabel\":\"header__persistentBtnLabel__UJnG_\",\"burgerMenuBtn\":\"header__burgerMenuBtn__ue7o9\",\"shareBtn\":\"header__shareBtn__Ir2a7\",\"inactive\":\"header__inactive__LBCCd\",\"closeBtn\":\"header__closeBtn__tjQho\",\"headerLogo\":\"header__headerLogo__T_ZSp\",\"unclickable\":\"header__unclickable__gntrM\",\"cta\":\"header__cta__i9oz9\",\"showtimesShare\":\"header__showtimesShare__sHeEv\",\"homeEntShare\":\"header__homeEntShare__sn_sL\",\"pressKitShare\":\"header__pressKitShare__cKS57\",\"navOpen\":\"header__navOpen__kasYE\",\"video\":\"header__video__RbW11\",\"share\":\"header__share__Y3U45\",\"reset\":\"header__reset___IUsK\",\"collapse\":\"header__collapse__rMl26\",\"close\":\"header__close__AFDSg\",\"actionButton\":\"header__actionButton__QNBKC\",\"homeEntBtn\":\"header__homeEntBtn__YESAq\",\"pressKitBtn\":\"header__pressKitBtn___bocU\",\"activeSection--boltVideos\":\"header__activeSection--boltVideos__B9nxl\",\"regionSelectorOverlay\":\"header__regionSelectorOverlay__iYURS\",\"backdrop\":\"header__backdrop__NaFUm\",\"showing\":\"header__showing__ij3VA\",\"regionSelector\":\"header__regionSelector__I9vJc\",\"regions\":\"header__regions__HgwmY\",\"region\":\"header__region__JLdtb\",\"closeRegionSelector\":\"header__closeRegionSelector__CWJD1\",\"desktopSolidHeader\":\"header__desktopSolidHeader__IABGH\",\"outerActionButton\":\"header__outerActionButton__OVy9x\",\"providerInterstitialOpen\":\"header__providerInterstitialOpen__C917X\",\"dualView\":\"header__dualView__DLkHg\",\"pop\":\"header__pop__lza_l\",\"providerInterstitial\":\"header__providerInterstitial__UXgvc\",\"back\":\"header__back__GInS3\",\"homeInactive\":\"header__homeInactive__wty3W\",\"fadeIn\":\"header__fadeIn__O9HFy\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"headerExpanded__container__vm19z\",\"open\":\"headerExpanded__open__TTvrE\",\"linksContainer\":\"headerExpanded__linksContainer__HQNEe\",\"links\":\"headerExpanded__links__ijQud\",\"link\":\"headerExpanded__link__QUCTJ\",\"active\":\"headerExpanded__active__XKagJ\",\"splitHeader\":\"headerExpanded__splitHeader__cGClR\",\"standard\":\"headerExpanded__standard__AAxda\",\"tt\":\"headerExpanded__tt__VseN2\",\"content\":\"headerExpanded__content__Pnbjs\",\"hidden\":\"headerExpanded__hidden__Asgw8\",\"featured\":\"headerExpanded__featured__TuZFF\",\"separator\":\"headerExpanded__separator__oulxw\",\"socials\":\"headerExpanded__socials__hCzyL\",\"hasRegionSelector\":\"headerExpanded__hasRegionSelector__pBog4\",\"regionSelectorButton\":\"headerExpanded__regionSelectorButton__WfQ3Y\",\"icon\":\"headerExpanded__icon__gRSli\",\"features\":\"headerExpanded__features__qpaCL\",\"hasManyLinks\":\"headerExpanded__hasManyLinks__IrCvT\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"text__container__tdMo9\",\"dedicatedPage\":\"text__dedicatedPage__zHuvo\",\"wrapper\":\"text__wrapper__xC105\",\"noBg\":\"text__noBg__OYi7v\",\"hasCountdownClock\":\"text__hasCountdownClock__Hp85J\",\"countdownTextWrapper\":\"text__countdownTextWrapper__ipcVf\",\"button\":\"text__button__EHttz button__floating__Elewb\",\"fadeZoomIn\":\"text__fadeZoomIn__x5MOf\",\"content\":\"text__content__qkgDO\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"toutHorizontal__wrapper__y1KRB\",\"section\":\"toutHorizontal__section__EnCwm\",\"title\":\"toutHorizontal__title__do4du\",\"description\":\"toutHorizontal__description__Gip5Q\",\"toutsWrapper\":\"toutHorizontal__toutsWrapper__tLLZJ\",\"toutsContainer\":\"toutHorizontal__toutsContainer__TPUVS\",\"usingScrollWheel\":\"toutHorizontal__usingScrollWheel__Bf0Jm\",\"tout\":\"toutHorizontal__tout__UhDU4\",\"arrows\":\"toutHorizontal__arrows__f_xhh\",\"flex\":\"toutHorizontal__flex__p5zKN\",\"toutContent\":\"toutHorizontal__toutContent__kvW8s\",\"toutStuff\":\"toutHorizontal__toutStuff__WM4he\",\"image\":\"toutHorizontal__image__VqqDv\",\"imageOnly\":\"toutHorizontal__imageOnly__H_we0\",\"toutTitle\":\"toutHorizontal__toutTitle__GzPMY\",\"toutDescription\":\"toutHorizontal__toutDescription__cbWH1\",\"button\":\"toutHorizontal__button__Shq2J\",\"touts\":\"toutHorizontal__touts__XPJ3O\",\"arrow\":\"toutHorizontal__arrow__Dl152\",\"left\":\"toutHorizontal__left__D8ECa\",\"right\":\"toutHorizontal__right__KbLAh\",\"tuff\":\"toutHorizontal__tuff__l9C7_\"};","!function(e,t){if(\"function\"==typeof define&&define.amd)define([\"exports\"],t);else if(\"undefined\"!=typeof exports)t(exports);else{var o={};t(o),e.bodyScrollLock=o}}(this,function(exports){\"use strict\";function i(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=!1;if(\"undefined\"!=typeof window){var e={get passive(){l=!0}};window.addEventListener(\"testPassive\",null,e),window.removeEventListener(\"testPassive\",null,e)}function d(t){return u.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})}function c(e){var t=e||window.event;return!!d(t.target)||(1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1))}function o(){setTimeout(function(){void 0!==m&&(document.body.style.paddingRight=m,m=void 0),void 0!==f&&(document.body.style.overflow=f,f=void 0)})}var a=\"undefined\"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||\"MacIntel\"===window.navigator.platform&&1<window.navigator.maxTouchPoints),u=[],s=!1,v=-1,f=void 0,m=void 0;exports.disableBodyScroll=function(r,e){if(a){if(!r)return void console.error(\"disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.\");if(r&&!u.some(function(e){return e.targetElement===r})){var t={targetElement:r,options:e||{}};u=[].concat(i(u),[t]),r.ontouchstart=function(e){1===e.targetTouches.length&&(v=e.targetTouches[0].clientY)},r.ontouchmove=function(e){var t,o,n,i;1===e.targetTouches.length&&(o=r,i=(t=e).targetTouches[0].clientY-v,d(t.target)||(o&&0===o.scrollTop&&0<i||(n=o)&&n.scrollHeight-n.scrollTop<=n.clientHeight&&i<0?c(t):t.stopPropagation()))},s||(document.addEventListener(\"touchmove\",c,l?{passive:!1}:void 0),s=!0)}}else{n=e,setTimeout(function(){if(void 0===m){var e=!!n&&!0===n.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(m=document.body.style.paddingRight,document.body.style.paddingRight=t+\"px\")}void 0===f&&(f=document.body.style.overflow,document.body.style.overflow=\"hidden\")});var o={targetElement:r,options:e||{}};u=[].concat(i(u),[o])}var n},exports.clearAllBodyScrollLocks=function(){a?(u.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),s&&(document.removeEventListener(\"touchmove\",c,l?{passive:!1}:void 0),s=!1),u=[],v=-1):(o(),u=[])},exports.enableBodyScroll=function(t){if(a){if(!t)return void console.error(\"enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.\");t.ontouchstart=null,t.ontouchmove=null,u=u.filter(function(e){return e.targetElement!==t}),s&&0===u.length&&(document.removeEventListener(\"touchmove\",c,l?{passive:!1}:void 0),s=!1)}else(u=u.filter(function(e){return e.targetElement!==t})).length||o()}});\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // avoid screen readers from reading out loud the text\n    mark.ariaHidden = \"true\"\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","var Freezer = require('./src/freezer');\nmodule.exports = Freezer;","'use strict';\n\nvar Utils = require( './utils' );\n\n\n\n//#build\n\n\nvar BEFOREALL = 'beforeAll',\n\tAFTERALL = 'afterAll'\n;\nvar specialEvents = [BEFOREALL, AFTERALL];\n\n// The prototype methods are stored in a different object\n// and applied as non enumerable properties later\nvar emitterProto = {\n\ton: function( eventName, listener, once ){\n\t\tvar listeners = this._events[ eventName ] || [];\n\n\t\tlisteners.push({ callback: listener, once: once});\n\t\tthis._events[ eventName ] =  listeners;\n\n\t\treturn this;\n\t},\n\n\tonce: function( eventName, listener ){\n\t\treturn this.on( eventName, listener, true );\n\t},\n\n\toff: function( eventName, listener ){\n\t\tif( typeof eventName === 'undefined' ){\n\t\t\tthis._events = {};\n\t\t}\n\t\telse if( typeof listener === 'undefined' ) {\n\t\t\tthis._events[ eventName ] = [];\n\t\t}\n\t\telse {\n\t\t\tvar listeners = this._events[ eventName ] || [],\n\t\t\t\ti\n\t\t\t;\n\n\t\t\tfor (i = listeners.length - 1; i >= 0; i--) {\n\t\t\t\tif( listeners[i].callback === listener )\n\t\t\t\t\tlisteners.splice( i, 1 );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\temit: function( eventName ){\n\t\tvar args = [].slice.call( arguments, 1 ),\n\t\t\tlisteners = this._events[ eventName ] || [],\n\t\t\tonceListeners = [],\n\t\t\tspecial = specialEvents.indexOf( eventName ) !== -1,\n\t\t\ti, listener, returnValue, lastValue\n\t\t;\n\n\t\tspecial || this.emit.apply( this, [BEFOREALL, eventName].concat( args ) );\n\n\t\t// Call listeners\n\t\tfor (i = 0; i < listeners.length; i++) {\n\t\t\tlistener = listeners[i];\n\n\t\t\tif( listener.callback )\n\t\t\t\tlastValue = listener.callback.apply( this, args );\n\t\t\telse {\n\t\t\t\t// If there is not a callback, remove!\n\t\t\t\tlistener.once = true;\n\t\t\t}\n\n\t\t\tif( listener.once )\n\t\t\t\tonceListeners.push( i );\n\n\t\t\tif( lastValue !== undefined ){\n\t\t\t\treturnValue = lastValue;\n\t\t\t}\n\t\t}\n\n\t\t// Remove listeners marked as once\n\t\tfor( i = onceListeners.length - 1; i >= 0; i-- ){\n\t\t\tlisteners.splice( onceListeners[i], 1 );\n\t\t}\n\n\t\tspecial || this.emit.apply( this, [AFTERALL, eventName].concat( args ) );\n\n\t\treturn returnValue;\n\t},\n\n\ttrigger: function(){\n\t\tUtils.warn( false, 'Method `trigger` is deprecated and will be removed from freezer in upcoming releases. Please use `emit`.' );\n\t\treturn this.emit.apply( this, arguments );\n\t}\n};\n\n// Methods are not enumerable so, when the stores are\n// extended with the emitter, they can be iterated as\n// hashmaps\nvar Emitter = Utils.createNonEnumerable( emitterProto );\n//#build\n\nmodule.exports = Emitter;\n","'use strict';\r\n\r\nvar Utils = require( './utils.js' ),\r\n\tEmitter = require( './emitter' ),\r\n\tFrozen = require( './frozen' )\r\n;\r\n\r\n//#build\r\nvar Freezer = function( initialValue, options ) {\r\n\tvar me = this,\r\n\t\tops = options || {},\r\n\t\tstore = {\r\n\t\t\tlive: ops.live || false,\r\n\t\t\tfreezeInstances: ops.freezeInstances || false,\r\n\t\t\tsingleParent: ops.singleParent || false\r\n\t\t}\r\n\t;\r\n\r\n\t// Immutable data\r\n\tvar frozen;\r\n\tvar pivotTriggers = [], pivotTicking = 0;\r\n\tvar triggerNow = function( node ){\r\n\t\tvar _ = node.__,\r\n\t\t\ti\r\n\t\t;\r\n\r\n\t\tif( _.listener ){\r\n\t\t\tvar prevState = _.listener.prevState || node;\r\n\t\t\t_.listener.prevState = 0;\r\n\t\t\tFrozen.emit( prevState, 'update', node, true );\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < _.parents.length; i++) {\r\n\t\t\t_.store.notify( 'now', _.parents[i] );\r\n\t\t}\r\n\t};\r\n\r\n\tvar addToPivotTriggers = function( node ){\r\n\t\tpivotTriggers.push( node );\r\n\t\tif( !pivotTicking ){\r\n\t\t\tpivotTicking = 1;\r\n\t\t\tUtils.nextTick( function(){\r\n\t\t\t\tpivotTriggers = [];\r\n\t\t\t\tpivotTicking = 0;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t// Last call to display info about orphan calls\r\n\tvar lastCall;\r\n\tstore.notify = function notify( eventName, node, options, name ){\r\n\t\tif( name ){\r\n\t\t\tif( lastCall && !lastCall.onStore ){\r\n\t\t\t\tdetachedWarn( lastCall );\r\n\t\t\t}\r\n\t\t\tlastCall = {name: name, node: node, options: options, onStore: false};\r\n\t\t}\r\n\r\n\t\tif( eventName === 'now' ){\r\n\t\t\tif( pivotTriggers.length ){\r\n\t\t\t\twhile( pivotTriggers.length ){\r\n\t\t\t\t\ttriggerNow( pivotTriggers.shift() );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttriggerNow( node );\r\n\t\t\t}\r\n\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tvar update = Frozen[eventName]( node, options );\r\n\r\n\t\tif( eventName !== 'pivot' ){\r\n\t\t\tvar pivot = Utils.findPivot( update );\r\n\t\t\tif( pivot ) {\r\n\t\t\t\taddToPivotTriggers( update );\r\n\t  \t\treturn pivot;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn update;\r\n\t};\r\n\r\n\tstore.freezeFn = ops.mutable === true ?\r\n\t\tfunction(){} :\r\n\t\tfunction( obj ){ Object.freeze( obj ); }\r\n\t;\r\n\r\n\t// Create the frozen object\r\n\tfrozen = Frozen.freeze( initialValue, store );\r\n\tfrozen.__.updateRoot = function( prevNode, updated ){\r\n\t\tif( prevNode === frozen ){\r\n\t\t\tfrozen = updated;\r\n\t\t\tif( lastCall ){\r\n\t\t\t\tlastCall.onStore = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if( lastCall ) {\r\n\t\t\tsetTimeout( function(){\r\n\t\t\t\tif( !lastCall.onStore ){\r\n\t\t\t\t\tdetachedWarn( lastCall );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Listen to its changes immediately\r\n\tvar listener = frozen.getListener(),\r\n\t\thub = {}\r\n\t;\r\n\r\n\tUtils.each(['on', 'off', 'once', 'emit', 'trigger'], function( method ){\r\n\t\tvar attrs = {};\r\n\t\tattrs[ method ] = listener[method].bind(listener);\r\n\t\tUtils.addNE( me, attrs );\r\n\t\tUtils.addNE( hub, attrs );\r\n\t});\r\n\r\n\tUtils.addNE( this, {\r\n\t\tget: function(){\r\n\t\t\treturn frozen;\r\n\t\t},\r\n\t\tset: function( node ){\r\n\t\t\tfrozen.reset( node );\r\n\t\t},\r\n\t\tgetEventHub: function(){\r\n\t\t\treturn hub;\r\n\t\t}\r\n\t});\r\n\r\n\tUtils.addNE( this, { getData: this.get, setData: this.set } );\r\n};\r\n\r\nfunction detachedWarn( lastCall ){\r\n\tUtils.warn( false, 'Method ' + lastCall.name + ' called on a detached node.', lastCall.node, lastCall.options );\r\n}\r\n\r\n//#build\r\n\r\nmodule.exports = Freezer;\r\n","'use strict';\r\n\r\nvar Utils = require( './utils' ),\r\n\tnodeCreator = require( './nodeCreator'),\r\n\tEmitter = require('./emitter')\r\n;\r\n\r\n//#build\r\nvar Frozen = {\r\n\tfreeze: function( node, store ){\r\n\t\tif( node && node.__ ){\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tvar me = this,\r\n\t\t\tfrozen = nodeCreator.clone(node)\r\n\t\t;\r\n\r\n\t\tUtils.addNE( frozen, { __: {\r\n\t\t\tlistener: false,\r\n\t\t\tparents: [],\r\n\t\t\tstore: store\r\n\t\t}});\r\n\r\n\t\t// Freeze children\r\n\t\tUtils.each( node, function( child, key ){\r\n\t\t\tif( !Utils.isLeaf( child, store.freezeInstances ) ){\r\n\t\t\t\tchild = me.freeze( child, store );\r\n\t\t\t}\r\n\r\n\t\t\tif( child && child.__ ){\r\n\t\t\t\tme.addParent( child, frozen );\r\n\t\t\t}\r\n\r\n\t\t\tfrozen[ key ] = child;\r\n\t\t});\r\n\r\n\t\tstore.freezeFn( frozen );\r\n\r\n\t\treturn frozen;\r\n\t},\r\n\r\n\tmerge: function( node, attrs ){\r\n\t\tvar _ = node.__,\r\n\t\t\ttrans = _.trans,\r\n\r\n\t\t\t// Clone the attrs to not modify the argument\r\n\t\t\tattrs = Utils.extend( {}, attrs)\r\n\t\t;\r\n\r\n\t\tif( trans ){\r\n\t\t\tfor( var attr in attrs )\r\n\t\t\t\ttrans[ attr ] = attrs[ attr ];\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tvar me = this,\r\n\t\t\tfrozen = this.copyMeta( node ),\r\n\t\t\tstore = _.store,\r\n\t\t\tval, key, isFrozen\r\n\t\t;\r\n\r\n\t\tUtils.each( node, function( child, key ){\r\n\t\t\tisFrozen = child && child.__;\r\n\r\n\t\t\tif( isFrozen ){\r\n\t\t\t\tme.removeParent( child, node );\r\n\t\t\t}\r\n\r\n\t\t\tval = attrs[ key ];\r\n\t\t\tif( !val ){\r\n\t\t\t\tif( isFrozen )\r\n\t\t\t\t\tme.addParent( child, frozen );\r\n\t\t\t\treturn frozen[ key ] = child;\r\n\t\t\t}\r\n\r\n\t\t\tif( !Utils.isLeaf( val, store.freezeInstances ) )\r\n\t\t\t\tval = me.freeze( val, store );\r\n\r\n\t\t\tif( val && val.__ )\r\n\t\t\t\tme.addParent( val, frozen );\r\n\r\n\t\t\tdelete attrs[ key ];\r\n\r\n\t\t\tfrozen[ key ] = val;\r\n\t\t});\r\n\r\n\r\n\t\tfor( key in attrs ) {\r\n\t\t\tval = attrs[ key ];\r\n\r\n\t\t\tif( !Utils.isLeaf( val, store.freezeInstances ) )\r\n\t\t\t\tval = me.freeze( val, store );\r\n\r\n\t\t\tif( val && val.__ )\r\n\t\t\t\tme.addParent( val, frozen );\r\n\r\n\t\t\tfrozen[ key ] = val;\r\n\t\t}\r\n\r\n\t\t_.store.freezeFn( frozen );\r\n\r\n\t\tthis.refreshParents( node, frozen );\r\n\r\n\t\treturn frozen;\r\n\t},\r\n\r\n\treplace: function( node, replacement ) {\r\n\t\tvar me = this,\r\n\t\t\t_ = node.__,\r\n\t\t\tfrozen = replacement\r\n\t\t;\r\n\r\n\t\tif( !Utils.isLeaf( replacement, _.store.freezeInstances ) ) {\r\n\r\n\t\t\tfrozen = me.freeze( replacement, _.store );\r\n\t\t\tfrozen.__.parents = _.parents;\r\n\t\t\tfrozen.__.updateRoot = _.updateRoot;\r\n\r\n\t\t\t// Add the current listener if exists, replacing a\r\n\t\t\t// previous listener in the frozen if existed\r\n\t\t\tif( _.listener )\r\n\t\t\t\tfrozen.__.listener = _.listener;\r\n\t\t}\r\n\t\tif( frozen ){\r\n\t\t\tthis.fixChildren( frozen, node );\r\n\t\t}\r\n\t\tthis.refreshParents( node, frozen );\r\n\r\n\t\treturn frozen;\r\n\t},\r\n\r\n\tremove: function( node, attrs ){\r\n\t\tvar trans = node.__.trans;\r\n\t\tif( trans ){\r\n\t\t\tfor( var l = attrs.length - 1; l >= 0; l-- )\r\n\t\t\t\tdelete trans[ attrs[l] ];\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tvar me = this,\r\n\t\t\tfrozen = this.copyMeta( node ),\r\n\t\t\tisFrozen\r\n\t\t;\r\n\r\n\t\tUtils.each( node, function( child, key ){\r\n\t\t\tisFrozen = child && child.__;\r\n\r\n\t\t\tif( isFrozen ){\r\n\t\t\t\tme.removeParent( child, node );\r\n\t\t\t}\r\n\r\n\t\t\tif( attrs.indexOf( key ) !== -1 ){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif( isFrozen )\r\n\t\t\t\tme.addParent( child, frozen );\r\n\r\n\t\t\tfrozen[ key ] = child;\r\n\t\t});\r\n\r\n\t\tnode.__.store.freezeFn( frozen );\r\n\t\tthis.refreshParents( node, frozen );\r\n\r\n\t\treturn frozen;\r\n\t},\r\n\r\n\tsplice: function( node, args ){\r\n\t\tvar _ = node.__,\r\n\t\t\ttrans = _.trans\r\n\t\t;\r\n\r\n\t\tif( trans ){\r\n\t\t\ttrans.splice.apply( trans, args );\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tvar me = this,\r\n\t\t\tfrozen = this.copyMeta( node ),\r\n\t\t\tindex = args[0],\r\n\t\t\tdeleteIndex = index + args[1],\r\n\t\t\tchild\r\n\t\t;\r\n\r\n\t\t// Clone the array\r\n\t\tUtils.each( node, function( child, i ){\r\n\r\n\t\t\tif( child && child.__ ){\r\n\t\t\t\tme.removeParent( child, node );\r\n\r\n\t\t\t\t// Skip the nodes to delete\r\n\t\t\t\tif( i < index || i>= deleteIndex )\r\n\t\t\t\t\tme.addParent( child, frozen );\r\n\t\t\t}\r\n\r\n\t\t\tfrozen[i] = child;\r\n\t\t});\r\n\r\n\t\t// Prepare the new nodes\r\n\t\tif( args.length > 1 ){\r\n\t\t\tfor (var i = args.length - 1; i >= 2; i--) {\r\n\t\t\t\tchild = args[i];\r\n\r\n\t\t\t\tif( !Utils.isLeaf( child, _.store.freezeInstances ) )\r\n\t\t\t\t\tchild = this.freeze( child, _.store );\r\n\r\n\t\t\t\tif( child && child.__ )\r\n\t\t\t\t\tthis.addParent( child, frozen );\r\n\r\n\t\t\t\targs[i] = child;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// splice\r\n\t\tArray.prototype.splice.apply( frozen, args );\r\n\r\n\t\t_.store.freezeFn( frozen );\r\n\t\tthis.refreshParents( node, frozen );\r\n\r\n\t\treturn frozen;\r\n\t},\r\n\r\n\ttransact: function( node ) {\r\n\t\tvar me = this,\r\n\t\t\ttransacting = node.__.trans,\r\n\t\t\ttrans\r\n\t\t;\r\n\r\n\t\tif( transacting )\r\n\t\t\treturn transacting;\r\n\r\n\t\ttrans = node.constructor === Array ? [] : {};\r\n\r\n\t\tUtils.each( node, function( child, key ){\r\n\t\t\ttrans[ key ] = child;\r\n\t\t});\r\n\r\n\t\tnode.__.trans = trans;\r\n\r\n\t\t// Call run automatically in case\r\n\t\t// the user forgot about it\r\n\t\tUtils.nextTick( function(){\r\n\t\t\tif( node.__.trans )\r\n\t\t\t\tme.run( node );\r\n\t\t});\r\n\r\n\t\treturn trans;\r\n\t},\r\n\r\n\trun: function( node ) {\r\n\t\tvar me = this,\r\n\t\t\ttrans = node.__.trans\r\n\t\t;\r\n\r\n\t\tif( !trans )\r\n\t\t\treturn node;\r\n\r\n\t\t// Remove the node as a parent\r\n\t\tUtils.each( trans, function( child, key ){\r\n\t\t\tif( child && child.__ ){\r\n\t\t\t\tme.removeParent( child, node );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdelete node.__.trans;\r\n\r\n\t\tvar result = this.replace( node, trans );\r\n\t\treturn result;\r\n\t},\r\n\r\n\tpivot: function( node ){\r\n\t\tnode.__.pivot = 1;\r\n\t\tthis.unpivot( node );\r\n\t\treturn node;\r\n\t},\r\n\r\n\tunpivot: function( node ){\r\n\t\tUtils.nextTick( function(){\r\n\t\t\tnode.__.pivot = 0;\r\n\t\t});\r\n\t},\r\n\r\n\trefresh: function( node, oldChild, newChild ){\r\n\t\tvar me = this,\r\n\t\t\ttrans = node.__.trans,\r\n\t\t\tfound = 0\r\n\t\t;\r\n\r\n\t\tif( trans ){\r\n\r\n\t\t\tUtils.each( trans, function( child, key ){\r\n\t\t\t\tif( found ) return;\r\n\r\n\t\t\t\tif( child === oldChild ){\r\n\r\n\t\t\t\t\ttrans[ key ] = newChild;\r\n\t\t\t\t\tfound = 1;\r\n\r\n\t\t\t\t\tif( newChild && newChild.__ )\r\n\t\t\t\t\t\tme.addParent( newChild, node );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tvar frozen = this.copyMeta( node ),\r\n\t\t\treplacement, __\r\n\t\t;\r\n\r\n\t\tUtils.each( node, function( child, key ){\r\n\t\t\tif( child === oldChild ){\r\n\t\t\t\tchild = newChild;\r\n\t\t\t}\r\n\r\n\t\t\tif( child && (__ = child.__) ){\r\n\t\t\t\tme.removeParent( child, node );\r\n\t\t\t\tme.addParent( child, frozen );\r\n\t\t\t}\r\n\r\n\t\t\tfrozen[ key ] = child;\r\n\t\t});\r\n\r\n\t\tnode.__.store.freezeFn( frozen );\r\n\r\n\t\tthis.refreshParents( node, frozen );\r\n\t},\r\n\r\n\tfixChildren: function( node, oldNode ){\r\n\t\tvar me = this;\r\n\t\tUtils.each( node, function( child ){\r\n\t\t\tif( !child || !child.__ )\r\n\t\t\t\treturn;\r\n\r\n\t\t\t// Update parents in all children no matter the child\r\n\t\t\t// is linked to the node or not.\r\n\t\t\tme.fixChildren( child );\r\n\r\n\t\t\tif( child.__.parents.length === 1 )\r\n\t\t\t\treturn child.__.parents = [ node ];\r\n\r\n\t\t\tif( oldNode )\r\n\t\t\t\tme.removeParent( child, oldNode );\r\n\r\n\t\t\tme.addParent( child, node );\r\n\t\t});\r\n\t},\r\n\r\n\tcopyMeta: function( node ){\r\n\t\tvar me = this,\r\n\t\t\tfrozen = nodeCreator.clone( node ),\r\n\t\t\t_ = node.__\r\n\t\t;\r\n\r\n\t\tUtils.addNE( frozen, {__: {\r\n\t\t\tstore: _.store,\r\n\t\t\tupdateRoot: _.updateRoot,\r\n\t\t\tlistener: _.listener,\r\n\t\t\tparents: _.parents.slice( 0 ),\r\n\t\t\ttrans: _.trans,\r\n\t\t\tpivot: _.pivot,\r\n\t\t}});\r\n\r\n\t\tif( _.pivot )\r\n\t\t\tthis.unpivot( frozen );\r\n\r\n\t\treturn frozen;\r\n\t},\r\n\r\n\trefreshParents: function( oldChild, newChild ){\r\n\t\tvar _ = oldChild.__,\r\n\t\t\tparents = _.parents.length,\r\n\t\t\ti\r\n\t\t;\r\n\r\n\t\tif( oldChild.__.updateRoot ){\r\n\t\t\toldChild.__.updateRoot( oldChild, newChild );\r\n\t\t}\r\n\t\tif( newChild ){\r\n\t\t\tthis.emit( oldChild, 'update', newChild, _.store.live );\r\n\t\t}\r\n\t\tif( parents ){\r\n\t\t\tfor (i = parents - 1; i >= 0; i--) {\r\n\t\t\t\tthis.refresh( _.parents[i], oldChild, newChild );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tremoveParent: function( node, parent ){\r\n\t\tvar parents = node.__.parents,\r\n\t\t\tindex = parents.indexOf( parent )\r\n\t\t;\r\n\r\n\t\tif( index !== -1 ){\r\n\t\t\tparents.splice( index, 1 );\r\n\t\t}\r\n\t},\r\n\r\n\taddParent: function( node, parent ){\r\n\t\tvar parents = node.__.parents,\r\n\t\t\tindex = parents.indexOf( parent )\r\n\t\t;\r\n\r\n\t\tif( index === -1 ){\r\n\t\t\tif(node.__.store.singleParent && parents.length >= 1){\r\n\t\t\t\tthrow new Error(\"Freezer: Can't add node to the tree. It's already added and freezer is configured to `singleParent: true`.\");\r\n\t\t\t}\r\n\t\t\tparents[ parents.length ] = parent;\r\n\t\t}\r\n\t},\r\n\r\n\temit: function( node, eventName, param, now ){\r\n\t\tvar listener = node.__.listener;\r\n\t\tif( !listener )\r\n\t\t\treturn;\r\n\r\n\t\tvar ticking = listener.ticking;\r\n\r\n\t\tif( now ){\r\n\t\t\tif( ticking || param ){\r\n\t\t\t\tlistener.ticking = 0;\r\n\t\t\t\tlistener.emit( eventName, ticking || param, node );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlistener.ticking = param;\r\n\t\tif( !listener.prevState ){\r\n\t\t\tlistener.prevState = node;\r\n\t\t}\r\n\r\n\t\tif( !ticking ){\r\n\t\t\tUtils.nextTick( function(){\r\n\t\t\t\tif( listener.ticking ){\r\n\t\t\t\t\tvar updated = listener.ticking,\r\n\t\t\t\t\t\tprevState = listener.prevState\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\tlistener.ticking = 0;\r\n\t\t\t\t\tlistener.prevState = 0;\r\n\r\n\t\t\t\t\tlistener.emit( eventName, updated, node );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tcreateListener: function( frozen ){\r\n\t\tvar l = frozen.__.listener;\r\n\r\n\t\tif( !l ) {\r\n\t\t\tl = Object.create(Emitter, {\r\n\t\t\t\t_events: {\r\n\t\t\t\t\tvalue: {},\r\n\t\t\t\t\twritable: true\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tfrozen.__.listener = l;\r\n\t\t}\r\n\r\n\t\treturn l;\r\n\t}\r\n};\r\n\r\nnodeCreator.init( Frozen );\r\n//#build\r\n\r\nmodule.exports = Frozen;\r\n","'use strict';\n\nvar Utils = require( './utils.js' );\n\n//#build\nvar nodeCreator = {\n\tinit: function( Frozen ){\n\n\t\tvar commonMethods = {\n\t\t\tset: function( attr, value ){\n\t\t\t\tvar attrs = attr,\n\t\t\t\t\tupdate = this.__.trans,\n\t\t\t\t\tisArray = this.constructor === Array,\n\t\t\t\t\tmsg = 'Freezer arrays only accept numeric attributes, given: '\n\t\t\t\t;\n\n\t\t\t\tif( typeof attr !== 'object' ){\n\t\t\t\t\tif( isArray && parseInt(attr) != attr ){\n\t\t\t\t\t\tUtils.warn( 0, msg + attr );\n\t\t\t\t\t\treturn Utils.findPivot( this ) || this;\n\t\t\t\t\t}\n\t\t\t\t\tattrs = {};\n\t\t\t\t\tattrs[ attr ] = value;\n\t\t\t\t}\n\n\t\t\t\tif( !update ){\n\t\t\t\t\tfor( var key in attrs ){\n\t\t\t\t\t\tif( isArray && parseInt(key) != key ){\n\t\t\t\t\t\t\tUtils.warn( 0, msg + key );\n\t\t\t\t\t\t\treturn Utils.findPivot( this ) || this;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tupdate = update || this[ key ] !== attrs[ key ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// No changes, just return the node\n\t\t\t\t\tif( !update )\n\t\t\t\t\t\treturn Utils.findPivot( this ) || this;\n\t\t\t\t}\n\n\t\t\t\tvar name = isArray ? 'array.set' : 'object.set';\n\t\t\t\treturn this.__.store.notify( 'merge', this, attrs, name );\n\t\t\t},\n\n\t\t\treset: function( attrs ) {\n\t\t\t\treturn this.__.store.notify( 'replace', this, attrs, 'object.replace' );\n\t\t\t},\n\n\t\t\tgetListener: function(){\n\t\t\t\treturn Frozen.createListener( this );\n\t\t\t},\n\n\t\t\ttoJS: function(){\n\t\t\t\tvar js;\n\t\t\t\tif( this.constructor === Array ){\n\t\t\t\t\tjs = new Array( this.length );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tjs = {};\n\t\t\t\t}\n\n\t\t\t\tUtils.each( this, function( child, i ){\n\t\t\t\t\tif( child && child.__ )\n\t\t\t\t\t\tjs[ i ] = child.toJS();\n\t\t\t\t\telse\n\t\t\t\t\t\tjs[ i ] = child;\n\t\t\t\t});\n\n\t\t\t\treturn js;\n\t\t\t},\n\n\t\t\ttransact: function(){\n\t\t\t\treturn this.__.store.notify( 'transact', this );\n\t\t\t},\n\n\t\t\trun: function(){\n\t\t\t\treturn this.__.store.notify( 'run', this );\n\t\t\t},\n\n\t\t\tnow: function(){\n\t\t\t\treturn this.__.store.notify( 'now', this );\n\t\t\t},\n\n\t\t\tpivot: function(){\n\t\t\t\treturn this.__.store.notify( 'pivot', this );\n\t\t\t}\n\t\t};\n\n\t\tvar arrayMethods = Utils.extend({\n\t\t\tpush: function( el ){\n\t\t\t\treturn this.append( [el], 'array.push' );\n\t\t\t},\n\n\t\t\tappend: function( els, name ){\n\t\t\t\tif( els && els.length )\n\t\t\t\t\treturn this.__.store.notify( 'splice', this, [this.length, 0].concat( els ), name || 'array.append' );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tpop: function(){\n\t\t\t\tif( !this.length )\n\t\t\t\t\treturn this;\n\n\t\t\t\treturn this.__.store.notify( 'splice', this, [this.length -1, 1], 'array.pop' );\n\t\t\t},\n\n\t\t\tunshift: function( el ){\n\t\t\t\treturn this.prepend( [el], 'array.unshift' );\n\t\t\t},\n\n\t\t\tprepend: function( els ){\n\t\t\t\tif( els && els.length )\n\t\t\t\t\treturn this.__.store.notify( 'splice', this, [0, 0].concat( els ), 'array.prepend' );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tshift: function(){\n\t\t\t\tif( !this.length )\n\t\t\t\t\treturn this;\n\n\t\t\t\treturn this.__.store.notify( 'splice', this, [0, 1], 'array.shift' );\n\t\t\t},\n\n\t\t\tsplice: function( index, toRemove, toAdd ){\n\t\t\t\treturn this.__.store.notify( 'splice', this, arguments, 'array.splice' );\n\t\t\t},\n\n\t\t\tsort: function(){\n\t\t\t\tvar mutable = this.slice();\n\t\t\t\tmutable.sort.apply(mutable, arguments);\n\t\t\t\treturn this.__.store.notify( 'replace', this, mutable, 'array.sort' );\n\t\t\t}\n\t\t}, commonMethods );\n\n\t\tvar FrozenArray = Object.create( Array.prototype, Utils.createNE( arrayMethods ) );\n\n\t\tvar objectMethods = Utils.createNE( Utils.extend({\n\t\t\tremove: function( keys ){\n\t\t\t\tvar filtered = [],\n\t\t\t\t\tk = keys\n\t\t\t\t;\n\n\t\t\t\tif( keys.constructor !== Array )\n\t\t\t\t\tk = [ keys ];\n\n\t\t\t\tfor( var i = 0, l = k.length; i<l; i++ ){\n\t\t\t\t\tif( this.hasOwnProperty( k[i] ) )\n\t\t\t\t\t\tfiltered.push( k[i] );\n\t\t\t\t}\n\n\t\t\t\tif( filtered.length )\n\t\t\t\t\treturn this.__.store.notify( 'remove', this, filtered, 'object.remove' );\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}, commonMethods));\n\n\t\tvar FrozenObject = Object.create( Object.prototype, objectMethods );\n\n\t\tvar createArray = (function(){\n\t\t\t// fast version\n\t\t\tif( [].__proto__ )\n\t\t\t\treturn function( length ){\n\t\t\t\t\tvar arr = new Array( length );\n\t\t\t\t\tarr.__proto__ = FrozenArray;\n\t\t\t\t\treturn arr;\n\t\t\t\t}\n\n\t\t\t// slow version for older browsers\n\t\t\treturn function( length ){\n\t\t\t\tvar arr = new Array( length );\n\n\t\t\t\tfor( var m in arrayMethods ){\n\t\t\t\t\tarr[ m ] = arrayMethods[ m ];\n\t\t\t\t}\n\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t})();\n\n\t\tthis.clone = function( node ){\n\t\t\tvar cons = node.constructor;\n\t\t\tif( cons === Array ){\n\t\t\t\treturn createArray( node.length );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif( cons === Object ){\n\t\t\t\t\treturn Object.create( FrozenObject );\n\t\t\t\t}\n\t\t\t\t// Class instances\n\t\t\t\telse {\n\t\t\t\t\treturn Object.create( cons.prototype, objectMethods );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n//#build\n\nmodule.exports = nodeCreator;\n","'use strict';\n\n//#build\nvar global = typeof global !== 'undefined' ?\n\tglobal :\n\ttypeof self !== 'undefined' ?\n\t\tself :\n\t\ttypeof window !== 'undefined' ?\n\t\t\twindow :\n\t\t\t{};\n\nvar Utils = {\n\textend: function( ob, props ){\n\t\tfor( var p in props ){\n\t\t\tob[p] = props[p];\n\t\t}\n\t\treturn ob;\n\t},\n\n\tcreateNonEnumerable: function( obj, proto ){\n\t\tvar ne = {};\n\t\tfor( var key in obj )\n\t\t\tne[key] = {value: obj[key] };\n\t\treturn Object.create( proto || {}, ne );\n\t},\n\n\terror: function( message ){\n\t\tvar err = new Error( message );\n\t\tif( console )\n\t\t\treturn console.error( err );\n\t\telse\n\t\t\tthrow err;\n\t},\n\n\teach: function( o, clbk ){\n\t\tvar i,l,keys;\n\t\tif( o && o.constructor === Array ){\n\t\t\tfor (i = 0, l = o.length; i < l; i++)\n\t\t\t\tclbk( o[i], i );\n\t\t}\n\t\telse {\n\t\t\tkeys = Object.keys( o );\n\t\t\tfor( i = 0, l = keys.length; i < l; i++ )\n\t\t\t\tclbk( o[ keys[i] ], keys[i] );\n\t\t}\n\t},\n\n\taddNE: function( node, attrs ){\n\t\tfor( var key in attrs ){\n\t\t\tObject.defineProperty( node, key, {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: attrs[ key ]\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Creates non-enumerable property descriptors, to be used by Object.create.\n\t * @param  {Object} attrs Properties to create descriptors\n\t * @return {Object}       A hash with the descriptors.\n\t */\n\tcreateNE: function( attrs ){\n\t\tvar ne = {};\n\n\t\tfor( var key in attrs ){\n\t\t\tne[ key ] = {\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: attrs[ key ]\n\t\t\t}\n\t\t}\n\n\t\treturn ne;\n\t},\n\n\t// nextTick - by stagas / public domain\n\tnextTick: (function () {\n    var queue = [],\n\t\tdirty = false,\n\t\tfn,\n\t\thasPostMessage = !!global.postMessage && (typeof Window !== 'undefined') && (global instanceof Window),\n\t\tmessageName = 'fzr' + Date.now(),\n\t\ttrigger = (function () {\n\t\t\treturn hasPostMessage\n\t\t\t\t? function trigger () {\n\t\t\t\tglobal.postMessage(messageName, '*');\n\t\t\t}\n\t\t\t: function trigger () {\n\t\t\t\tsetTimeout(function () { processQueue() }, 0);\n\t\t\t};\n\t\t}()),\n\t\tprocessQueue = (function () {\n\t\t\treturn hasPostMessage\n\t\t\t\t? function processQueue (event) {\n\t\t\t\t\tif (event.data === messageName) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tflushQueue();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t: flushQueue;\n    \t})()\n    ;\n\n    function flushQueue () {\n\t\t\t\tdirty = false;\n        while (fn = queue.shift()) {\n            fn();\n        }\n    }\n\n    function nextTick (fn) {\n        queue.push(fn);\n        if (dirty) return;\n        dirty = true;\n        trigger();\n    }\n\n    if (hasPostMessage) global.addEventListener('message', processQueue, true);\n\n    nextTick.removeListener = function () {\n        global.removeEventListener('message', processQueue, true);\n    }\n\n    return nextTick;\n  })(),\n\n  findPivot: function( node ){\n  \t\tif( !node || !node.__ )\n  \t\t\treturn;\n\n  \t\tif( node.__.pivot )\n  \t\t\treturn node;\n\n  \t\tvar found = 0,\n  \t\t\tparents = node.__.parents,\n  \t\t\ti = 0,\n  \t\t\tparent\n  \t\t;\n\n  \t\t// Look up for the pivot in the parents\n  \t\twhile( !found && i < parents.length ){\n  \t\t\tparent = parents[i];\n  \t\t\tif( parent.__.pivot )\n  \t\t\t\tfound = parent;\n  \t\t\ti++;\n  \t\t}\n\n  \t\tif( found ){\n  \t\t\treturn found;\n  \t\t}\n\n  \t\t// If not found, try with the parent's parents\n  \t\ti=0;\n  \t\twhile( !found && i < parents.length ){\n\t  \t\tfound = this.findPivot( parents[i] );\n\t  \t\ti++;\n\t  \t}\n\n  \t\treturn found;\n  },\n\n\tisLeaf: function( node, freezeInstances ){\n\t\tvar cons;\n\t\treturn !node || !(cons = node.constructor) || (freezeInstances ?\n\t\t\t(cons === String || cons === Number || cons === Boolean) :\n\t\t\t(cons !== Object && cons !== Array)\n\t\t);\n\t},\n\n\twarn: function(){\n\t\tvar args;\n\t\tif( typeof process === 'undefined' || process.env.NODE_ENV !== 'production' ){\n\t\t\tif( !arguments[0] && typeof console !== 'undefined' ){\n\t\t\t\targs = Array.prototype.slice.call( arguments, 1 );\n\t\t\t\targs[0] = 'Freezer.js WARNING: ' + args[0];\n\t\t\t\tconsole.warn.apply( console, args );\n\t\t\t}\n\t\t}\n\t}\n};\n\n//#build\n\n\nmodule.exports = Utils;\n","module.exports = shallow\n\nfunction shallow(a, b, compare) {\n  var aIsNull = a === null\n  var bIsNull = b === null\n\n  if (aIsNull !== bIsNull) return false\n\n  var aIsArray = Array.isArray(a)\n  var bIsArray = Array.isArray(b)\n\n  if (aIsArray !== bIsArray) return false\n\n  var aTypeof = typeof a\n  var bTypeof = typeof b\n\n  if (aTypeof !== bTypeof) return false\n  if (flat(aTypeof)) return compare\n    ? compare(a, b)\n    : a === b\n\n  return aIsArray\n    ? shallowArray(a, b, compare)\n    : shallowObject(a, b, compare)\n}\n\nfunction shallowArray(a, b, compare) {\n  var l = a.length\n  if (l !== b.length) return false\n\n  if (compare) {\n    for (var i = 0; i < l; i++)\n      if (!compare(a[i], b[i])) return false\n  } else {\n    for (var i = 0; i < l; i++) {\n      if (a[i] !== b[i]) return false\n    }\n  }\n\n  return true\n}\n\nfunction shallowObject(a, b, compare) {\n  var ka = 0\n  var kb = 0\n\n  if (compare) {\n    for (var key in a) {\n      if (\n        a.hasOwnProperty(key) &&\n        !compare(a[key], b[key])\n      ) return false\n\n      ka++\n    }\n  } else {\n    for (var key in a) {\n      if (\n        a.hasOwnProperty(key) &&\n        a[key] !== b[key]\n      ) return false\n\n      ka++\n    }\n  }\n\n  for (var key in b) {\n    if (b.hasOwnProperty(key)) kb++\n  }\n\n  return ka === kb\n}\n\nfunction flat(type) {\n  return (\n    type !== 'function' &&\n    type !== 'object'\n  )\n}\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","/**\n * Gets the original marked default options.\n */\nexport function _getDefaults() {\n    return {\n        async: false,\n        breaks: false,\n        extensions: null,\n        gfm: true,\n        hooks: null,\n        pedantic: false,\n        renderer: null,\n        silent: false,\n        tokenizer: null,\n        walkTokens: null\n    };\n}\nexport let _defaults = _getDefaults();\nexport function changeDefaults(newDefaults) {\n    _defaults = newDefaults;\n}\n","/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = new RegExp(escapeTest.source, 'g');\nconst escapeTestNoEncode = /[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/;\nconst escapeReplaceNoEncode = new RegExp(escapeTestNoEncode.source, 'g');\nconst escapeReplacements = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nexport function escape(html, encode) {\n    if (encode) {\n        if (escapeTest.test(html)) {\n            return html.replace(escapeReplace, getEscapeReplacement);\n        }\n    }\n    else {\n        if (escapeTestNoEncode.test(html)) {\n            return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n        }\n    }\n    return html;\n}\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\nexport function unescape(html) {\n    // explicitly match decimal, hex, and named HTML entities\n    return html.replace(unescapeTest, (_, n) => {\n        n = n.toLowerCase();\n        if (n === 'colon')\n            return ':';\n        if (n.charAt(0) === '#') {\n            return n.charAt(1) === 'x'\n                ? String.fromCharCode(parseInt(n.substring(2), 16))\n                : String.fromCharCode(+n.substring(1));\n        }\n        return '';\n    });\n}\nconst caret = /(^|[^\\[])\\^/g;\nexport function edit(regex, opt) {\n    regex = typeof regex === 'string' ? regex : regex.source;\n    opt = opt || '';\n    const obj = {\n        replace: (name, val) => {\n            val = typeof val === 'object' && 'source' in val ? val.source : val;\n            val = val.replace(caret, '$1');\n            regex = regex.replace(name, val);\n            return obj;\n        },\n        getRegex: () => {\n            return new RegExp(regex, opt);\n        }\n    };\n    return obj;\n}\nexport function cleanUrl(href) {\n    try {\n        href = encodeURI(href).replace(/%25/g, '%');\n    }\n    catch (e) {\n        return null;\n    }\n    return href;\n}\nexport const noopTest = { exec: () => null };\nexport function splitCells(tableRow, count) {\n    // ensure that every cell-delimiting pipe has a space\n    // before it to distinguish it from an escaped pipe\n    const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n        let escaped = false;\n        let curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\')\n            escaped = !escaped;\n        if (escaped) {\n            // odd number of slashes means | is escaped\n            // so we leave it alone\n            return '|';\n        }\n        else {\n            // add space before unescaped |\n            return ' |';\n        }\n    }), cells = row.split(/ \\|/);\n    let i = 0;\n    // First/last cell in a row cannot be empty if it has no leading/trailing pipe\n    if (!cells[0].trim()) {\n        cells.shift();\n    }\n    if (cells.length > 0 && !cells[cells.length - 1].trim()) {\n        cells.pop();\n    }\n    if (count) {\n        if (cells.length > count) {\n            cells.splice(count);\n        }\n        else {\n            while (cells.length < count)\n                cells.push('');\n        }\n    }\n    for (; i < cells.length; i++) {\n        // leading or trailing whitespace is ignored per the gfm spec\n        cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n    }\n    return cells;\n}\n/**\n * Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n * /c*$/ is vulnerable to REDOS.\n *\n * @param str\n * @param c\n * @param invert Remove suffix of non-c chars instead. Default falsey.\n */\nexport function rtrim(str, c, invert) {\n    const l = str.length;\n    if (l === 0) {\n        return '';\n    }\n    // Length of suffix matching the invert condition.\n    let suffLen = 0;\n    // Step left until we fail to match the invert condition.\n    while (suffLen < l) {\n        const currChar = str.charAt(l - suffLen - 1);\n        if (currChar === c && !invert) {\n            suffLen++;\n        }\n        else if (currChar !== c && invert) {\n            suffLen++;\n        }\n        else {\n            break;\n        }\n    }\n    return str.slice(0, l - suffLen);\n}\nexport function findClosingBracket(str, b) {\n    if (str.indexOf(b[1]) === -1) {\n        return -1;\n    }\n    let level = 0;\n    for (let i = 0; i < str.length; i++) {\n        if (str[i] === '\\\\') {\n            i++;\n        }\n        else if (str[i] === b[0]) {\n            level++;\n        }\n        else if (str[i] === b[1]) {\n            level--;\n            if (level < 0) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n","import { _defaults } from './defaults.ts';\nimport { rtrim, splitCells, escape, findClosingBracket } from './helpers.ts';\nfunction outputLink(cap, link, raw, lexer) {\n    const href = link.href;\n    const title = link.title ? escape(link.title) : null;\n    const text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n    if (cap[0].charAt(0) !== '!') {\n        lexer.state.inLink = true;\n        const token = {\n            type: 'link',\n            raw,\n            href,\n            title,\n            text,\n            tokens: lexer.inlineTokens(text)\n        };\n        lexer.state.inLink = false;\n        return token;\n    }\n    return {\n        type: 'image',\n        raw,\n        href,\n        title,\n        text: escape(text)\n    };\n}\nfunction indentCodeCompensation(raw, text) {\n    const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n    if (matchIndentToCode === null) {\n        return text;\n    }\n    const indentToCode = matchIndentToCode[1];\n    return text\n        .split('\\n')\n        .map(node => {\n        const matchIndentInNode = node.match(/^\\s+/);\n        if (matchIndentInNode === null) {\n            return node;\n        }\n        const [indentInNode] = matchIndentInNode;\n        if (indentInNode.length >= indentToCode.length) {\n            return node.slice(indentToCode.length);\n        }\n        return node;\n    })\n        .join('\\n');\n}\n/**\n * Tokenizer\n */\nexport class _Tokenizer {\n    options;\n    // TODO: Fix this rules type\n    rules;\n    lexer;\n    constructor(options) {\n        this.options = options || _defaults;\n    }\n    space(src) {\n        const cap = this.rules.block.newline.exec(src);\n        if (cap && cap[0].length > 0) {\n            return {\n                type: 'space',\n                raw: cap[0]\n            };\n        }\n    }\n    code(src) {\n        const cap = this.rules.block.code.exec(src);\n        if (cap) {\n            const text = cap[0].replace(/^ {1,4}/gm, '');\n            return {\n                type: 'code',\n                raw: cap[0],\n                codeBlockStyle: 'indented',\n                text: !this.options.pedantic\n                    ? rtrim(text, '\\n')\n                    : text\n            };\n        }\n    }\n    fences(src) {\n        const cap = this.rules.block.fences.exec(src);\n        if (cap) {\n            const raw = cap[0];\n            const text = indentCodeCompensation(raw, cap[3] || '');\n            return {\n                type: 'code',\n                raw,\n                lang: cap[2] ? cap[2].trim().replace(this.rules.inline._escapes, '$1') : cap[2],\n                text\n            };\n        }\n    }\n    heading(src) {\n        const cap = this.rules.block.heading.exec(src);\n        if (cap) {\n            let text = cap[2].trim();\n            // remove trailing #s\n            if (/#$/.test(text)) {\n                const trimmed = rtrim(text, '#');\n                if (this.options.pedantic) {\n                    text = trimmed.trim();\n                }\n                else if (!trimmed || / $/.test(trimmed)) {\n                    // CommonMark requires space before trailing #s\n                    text = trimmed.trim();\n                }\n            }\n            return {\n                type: 'heading',\n                raw: cap[0],\n                depth: cap[1].length,\n                text,\n                tokens: this.lexer.inline(text)\n            };\n        }\n    }\n    hr(src) {\n        const cap = this.rules.block.hr.exec(src);\n        if (cap) {\n            return {\n                type: 'hr',\n                raw: cap[0]\n            };\n        }\n    }\n    blockquote(src) {\n        const cap = this.rules.block.blockquote.exec(src);\n        if (cap) {\n            const text = rtrim(cap[0].replace(/^ *>[ \\t]?/gm, ''), '\\n');\n            const top = this.lexer.state.top;\n            this.lexer.state.top = true;\n            const tokens = this.lexer.blockTokens(text);\n            this.lexer.state.top = top;\n            return {\n                type: 'blockquote',\n                raw: cap[0],\n                tokens,\n                text\n            };\n        }\n    }\n    list(src) {\n        let cap = this.rules.block.list.exec(src);\n        if (cap) {\n            let bull = cap[1].trim();\n            const isordered = bull.length > 1;\n            const list = {\n                type: 'list',\n                raw: '',\n                ordered: isordered,\n                start: isordered ? +bull.slice(0, -1) : '',\n                loose: false,\n                items: []\n            };\n            bull = isordered ? `\\\\d{1,9}\\\\${bull.slice(-1)}` : `\\\\${bull}`;\n            if (this.options.pedantic) {\n                bull = isordered ? bull : '[*+-]';\n            }\n            // Get next list item\n            const itemRegex = new RegExp(`^( {0,3}${bull})((?:[\\t ][^\\\\n]*)?(?:\\\\n|$))`);\n            let raw = '';\n            let itemContents = '';\n            let endsWithBlankLine = false;\n            // Check if current bullet point can start a new List Item\n            while (src) {\n                let endEarly = false;\n                if (!(cap = itemRegex.exec(src))) {\n                    break;\n                }\n                if (this.rules.block.hr.test(src)) { // End list if bullet was actually HR (possibly move into itemRegex?)\n                    break;\n                }\n                raw = cap[0];\n                src = src.substring(raw.length);\n                let line = cap[2].split('\\n', 1)[0].replace(/^\\t+/, (t) => ' '.repeat(3 * t.length));\n                let nextLine = src.split('\\n', 1)[0];\n                let indent = 0;\n                if (this.options.pedantic) {\n                    indent = 2;\n                    itemContents = line.trimStart();\n                }\n                else {\n                    indent = cap[2].search(/[^ ]/); // Find first non-space char\n                    indent = indent > 4 ? 1 : indent; // Treat indented code blocks (> 4 spaces) as having only 1 indent\n                    itemContents = line.slice(indent);\n                    indent += cap[1].length;\n                }\n                let blankLine = false;\n                if (!line && /^ *$/.test(nextLine)) { // Items begin with at most one blank line\n                    raw += nextLine + '\\n';\n                    src = src.substring(nextLine.length + 1);\n                    endEarly = true;\n                }\n                if (!endEarly) {\n                    const nextBulletRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \\t][^\\\\n]*)?(?:\\\\n|$))`);\n                    const hrRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`);\n                    const fencesBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}(?:\\`\\`\\`|~~~)`);\n                    const headingBeginRegex = new RegExp(`^ {0,${Math.min(3, indent - 1)}}#`);\n                    // Check if following lines should be included in List Item\n                    while (src) {\n                        const rawLine = src.split('\\n', 1)[0];\n                        nextLine = rawLine;\n                        // Re-align to follow commonmark nesting rules\n                        if (this.options.pedantic) {\n                            nextLine = nextLine.replace(/^ {1,4}(?=( {4})*[^ ])/g, '  ');\n                        }\n                        // End list item if found code fences\n                        if (fencesBeginRegex.test(nextLine)) {\n                            break;\n                        }\n                        // End list item if found start of new heading\n                        if (headingBeginRegex.test(nextLine)) {\n                            break;\n                        }\n                        // End list item if found start of new bullet\n                        if (nextBulletRegex.test(nextLine)) {\n                            break;\n                        }\n                        // Horizontal rule found\n                        if (hrRegex.test(src)) {\n                            break;\n                        }\n                        if (nextLine.search(/[^ ]/) >= indent || !nextLine.trim()) { // Dedent if possible\n                            itemContents += '\\n' + nextLine.slice(indent);\n                        }\n                        else {\n                            // not enough indentation\n                            if (blankLine) {\n                                break;\n                            }\n                            // paragraph continuation unless last line was a different block level element\n                            if (line.search(/[^ ]/) >= 4) { // indented code block\n                                break;\n                            }\n                            if (fencesBeginRegex.test(line)) {\n                                break;\n                            }\n                            if (headingBeginRegex.test(line)) {\n                                break;\n                            }\n                            if (hrRegex.test(line)) {\n                                break;\n                            }\n                            itemContents += '\\n' + nextLine;\n                        }\n                        if (!blankLine && !nextLine.trim()) { // Check if current line is blank\n                            blankLine = true;\n                        }\n                        raw += rawLine + '\\n';\n                        src = src.substring(rawLine.length + 1);\n                        line = nextLine.slice(indent);\n                    }\n                }\n                if (!list.loose) {\n                    // If the previous item ended with a blank line, the list is loose\n                    if (endsWithBlankLine) {\n                        list.loose = true;\n                    }\n                    else if (/\\n *\\n *$/.test(raw)) {\n                        endsWithBlankLine = true;\n                    }\n                }\n                let istask = null;\n                let ischecked;\n                // Check for task list items\n                if (this.options.gfm) {\n                    istask = /^\\[[ xX]\\] /.exec(itemContents);\n                    if (istask) {\n                        ischecked = istask[0] !== '[ ] ';\n                        itemContents = itemContents.replace(/^\\[[ xX]\\] +/, '');\n                    }\n                }\n                list.items.push({\n                    type: 'list_item',\n                    raw,\n                    task: !!istask,\n                    checked: ischecked,\n                    loose: false,\n                    text: itemContents,\n                    tokens: []\n                });\n                list.raw += raw;\n            }\n            // Do not consume newlines at end of final item. Alternatively, make itemRegex *start* with any newlines to simplify/speed up endsWithBlankLine logic\n            list.items[list.items.length - 1].raw = raw.trimEnd();\n            list.items[list.items.length - 1].text = itemContents.trimEnd();\n            list.raw = list.raw.trimEnd();\n            // Item child tokens handled here at end because we needed to have the final item to trim it first\n            for (let i = 0; i < list.items.length; i++) {\n                this.lexer.state.top = false;\n                list.items[i].tokens = this.lexer.blockTokens(list.items[i].text, []);\n                if (!list.loose) {\n                    // Check if list should be loose\n                    const spacers = list.items[i].tokens.filter(t => t.type === 'space');\n                    const hasMultipleLineBreaks = spacers.length > 0 && spacers.some(t => /\\n.*\\n/.test(t.raw));\n                    list.loose = hasMultipleLineBreaks;\n                }\n            }\n            // Set all items to loose if list is loose\n            if (list.loose) {\n                for (let i = 0; i < list.items.length; i++) {\n                    list.items[i].loose = true;\n                }\n            }\n            return list;\n        }\n    }\n    html(src) {\n        const cap = this.rules.block.html.exec(src);\n        if (cap) {\n            const token = {\n                type: 'html',\n                block: true,\n                raw: cap[0],\n                pre: cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style',\n                text: cap[0]\n            };\n            return token;\n        }\n    }\n    def(src) {\n        const cap = this.rules.block.def.exec(src);\n        if (cap) {\n            const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n            const href = cap[2] ? cap[2].replace(/^<(.*)>$/, '$1').replace(this.rules.inline._escapes, '$1') : '';\n            const title = cap[3] ? cap[3].substring(1, cap[3].length - 1).replace(this.rules.inline._escapes, '$1') : cap[3];\n            return {\n                type: 'def',\n                tag,\n                raw: cap[0],\n                href,\n                title\n            };\n        }\n    }\n    table(src) {\n        const cap = this.rules.block.table.exec(src);\n        if (cap) {\n            if (!/[:|]/.test(cap[2])) {\n                // delimiter row must have a pipe (|) or colon (:) otherwise it is a setext heading\n                return;\n            }\n            const item = {\n                type: 'table',\n                raw: cap[0],\n                header: splitCells(cap[1]).map(c => {\n                    return { text: c, tokens: [] };\n                }),\n                align: cap[2].replace(/^\\||\\| *$/g, '').split('|'),\n                rows: cap[3] && cap[3].trim() ? cap[3].replace(/\\n[ \\t]*$/, '').split('\\n') : []\n            };\n            if (item.header.length === item.align.length) {\n                let l = item.align.length;\n                let i, j, k, row;\n                for (i = 0; i < l; i++) {\n                    const align = item.align[i];\n                    if (align) {\n                        if (/^ *-+: *$/.test(align)) {\n                            item.align[i] = 'right';\n                        }\n                        else if (/^ *:-+: *$/.test(align)) {\n                            item.align[i] = 'center';\n                        }\n                        else if (/^ *:-+ *$/.test(align)) {\n                            item.align[i] = 'left';\n                        }\n                        else {\n                            item.align[i] = null;\n                        }\n                    }\n                }\n                l = item.rows.length;\n                for (i = 0; i < l; i++) {\n                    item.rows[i] = splitCells(item.rows[i], item.header.length).map(c => {\n                        return { text: c, tokens: [] };\n                    });\n                }\n                // parse child tokens inside headers and cells\n                // header child tokens\n                l = item.header.length;\n                for (j = 0; j < l; j++) {\n                    item.header[j].tokens = this.lexer.inline(item.header[j].text);\n                }\n                // cell child tokens\n                l = item.rows.length;\n                for (j = 0; j < l; j++) {\n                    row = item.rows[j];\n                    for (k = 0; k < row.length; k++) {\n                        row[k].tokens = this.lexer.inline(row[k].text);\n                    }\n                }\n                return item;\n            }\n        }\n    }\n    lheading(src) {\n        const cap = this.rules.block.lheading.exec(src);\n        if (cap) {\n            return {\n                type: 'heading',\n                raw: cap[0],\n                depth: cap[2].charAt(0) === '=' ? 1 : 2,\n                text: cap[1],\n                tokens: this.lexer.inline(cap[1])\n            };\n        }\n    }\n    paragraph(src) {\n        const cap = this.rules.block.paragraph.exec(src);\n        if (cap) {\n            const text = cap[1].charAt(cap[1].length - 1) === '\\n'\n                ? cap[1].slice(0, -1)\n                : cap[1];\n            return {\n                type: 'paragraph',\n                raw: cap[0],\n                text,\n                tokens: this.lexer.inline(text)\n            };\n        }\n    }\n    text(src) {\n        const cap = this.rules.block.text.exec(src);\n        if (cap) {\n            return {\n                type: 'text',\n                raw: cap[0],\n                text: cap[0],\n                tokens: this.lexer.inline(cap[0])\n            };\n        }\n    }\n    escape(src) {\n        const cap = this.rules.inline.escape.exec(src);\n        if (cap) {\n            return {\n                type: 'escape',\n                raw: cap[0],\n                text: escape(cap[1])\n            };\n        }\n    }\n    tag(src) {\n        const cap = this.rules.inline.tag.exec(src);\n        if (cap) {\n            if (!this.lexer.state.inLink && /^<a /i.test(cap[0])) {\n                this.lexer.state.inLink = true;\n            }\n            else if (this.lexer.state.inLink && /^<\\/a>/i.test(cap[0])) {\n                this.lexer.state.inLink = false;\n            }\n            if (!this.lexer.state.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n                this.lexer.state.inRawBlock = true;\n            }\n            else if (this.lexer.state.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n                this.lexer.state.inRawBlock = false;\n            }\n            return {\n                type: 'html',\n                raw: cap[0],\n                inLink: this.lexer.state.inLink,\n                inRawBlock: this.lexer.state.inRawBlock,\n                block: false,\n                text: cap[0]\n            };\n        }\n    }\n    link(src) {\n        const cap = this.rules.inline.link.exec(src);\n        if (cap) {\n            const trimmedUrl = cap[2].trim();\n            if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n                // commonmark requires matching angle brackets\n                if (!(/>$/.test(trimmedUrl))) {\n                    return;\n                }\n                // ending angle bracket cannot be escaped\n                const rtrimSlash = rtrim(trimmedUrl.slice(0, -1), '\\\\');\n                if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n                    return;\n                }\n            }\n            else {\n                // find closing parenthesis\n                const lastParenIndex = findClosingBracket(cap[2], '()');\n                if (lastParenIndex > -1) {\n                    const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n                    const linkLen = start + cap[1].length + lastParenIndex;\n                    cap[2] = cap[2].substring(0, lastParenIndex);\n                    cap[0] = cap[0].substring(0, linkLen).trim();\n                    cap[3] = '';\n                }\n            }\n            let href = cap[2];\n            let title = '';\n            if (this.options.pedantic) {\n                // split pedantic href and title\n                const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n                if (link) {\n                    href = link[1];\n                    title = link[3];\n                }\n            }\n            else {\n                title = cap[3] ? cap[3].slice(1, -1) : '';\n            }\n            href = href.trim();\n            if (/^</.test(href)) {\n                if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\n                    // pedantic allows starting angle bracket without ending angle bracket\n                    href = href.slice(1);\n                }\n                else {\n                    href = href.slice(1, -1);\n                }\n            }\n            return outputLink(cap, {\n                href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n                title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n            }, cap[0], this.lexer);\n        }\n    }\n    reflink(src, links) {\n        let cap;\n        if ((cap = this.rules.inline.reflink.exec(src))\n            || (cap = this.rules.inline.nolink.exec(src))) {\n            let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n            link = links[link.toLowerCase()];\n            if (!link) {\n                const text = cap[0].charAt(0);\n                return {\n                    type: 'text',\n                    raw: text,\n                    text\n                };\n            }\n            return outputLink(cap, link, cap[0], this.lexer);\n        }\n    }\n    emStrong(src, maskedSrc, prevChar = '') {\n        let match = this.rules.inline.emStrong.lDelim.exec(src);\n        if (!match)\n            return;\n        // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n        if (match[3] && prevChar.match(/[\\p{L}\\p{N}]/u))\n            return;\n        const nextChar = match[1] || match[2] || '';\n        if (!nextChar || !prevChar || this.rules.inline.punctuation.exec(prevChar)) {\n            // unicode Regex counts emoji as 1 char; spread into array for proper count (used multiple times below)\n            const lLength = [...match[0]].length - 1;\n            let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;\n            const endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n            endReg.lastIndex = 0;\n            // Clip maskedSrc to same section of string as src (move to lexer?)\n            maskedSrc = maskedSrc.slice(-1 * src.length + lLength);\n            while ((match = endReg.exec(maskedSrc)) != null) {\n                rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n                if (!rDelim)\n                    continue; // skip single * in __abc*abc__\n                rLength = [...rDelim].length;\n                if (match[3] || match[4]) { // found another Left Delim\n                    delimTotal += rLength;\n                    continue;\n                }\n                else if (match[5] || match[6]) { // either Left or Right Delim\n                    if (lLength % 3 && !((lLength + rLength) % 3)) {\n                        midDelimTotal += rLength;\n                        continue; // CommonMark Emphasis Rules 9-10\n                    }\n                }\n                delimTotal -= rLength;\n                if (delimTotal > 0)\n                    continue; // Haven't found enough closing delimiters\n                // Remove extra characters. *a*** -> *a*\n                rLength = Math.min(rLength, rLength + delimTotal + midDelimTotal);\n                // char length can be >1 for unicode characters;\n                const lastCharLength = [...match[0]][0].length;\n                const raw = src.slice(0, lLength + match.index + lastCharLength + rLength);\n                // Create `em` if smallest delimiter has odd char count. *a***\n                if (Math.min(lLength, rLength) % 2) {\n                    const text = raw.slice(1, -1);\n                    return {\n                        type: 'em',\n                        raw,\n                        text,\n                        tokens: this.lexer.inlineTokens(text)\n                    };\n                }\n                // Create 'strong' if smallest delimiter has even char count. **a***\n                const text = raw.slice(2, -2);\n                return {\n                    type: 'strong',\n                    raw,\n                    text,\n                    tokens: this.lexer.inlineTokens(text)\n                };\n            }\n        }\n    }\n    codespan(src) {\n        const cap = this.rules.inline.code.exec(src);\n        if (cap) {\n            let text = cap[2].replace(/\\n/g, ' ');\n            const hasNonSpaceChars = /[^ ]/.test(text);\n            const hasSpaceCharsOnBothEnds = /^ /.test(text) && / $/.test(text);\n            if (hasNonSpaceChars && hasSpaceCharsOnBothEnds) {\n                text = text.substring(1, text.length - 1);\n            }\n            text = escape(text, true);\n            return {\n                type: 'codespan',\n                raw: cap[0],\n                text\n            };\n        }\n    }\n    br(src) {\n        const cap = this.rules.inline.br.exec(src);\n        if (cap) {\n            return {\n                type: 'br',\n                raw: cap[0]\n            };\n        }\n    }\n    del(src) {\n        const cap = this.rules.inline.del.exec(src);\n        if (cap) {\n            return {\n                type: 'del',\n                raw: cap[0],\n                text: cap[2],\n                tokens: this.lexer.inlineTokens(cap[2])\n            };\n        }\n    }\n    autolink(src) {\n        const cap = this.rules.inline.autolink.exec(src);\n        if (cap) {\n            let text, href;\n            if (cap[2] === '@') {\n                text = escape(cap[1]);\n                href = 'mailto:' + text;\n            }\n            else {\n                text = escape(cap[1]);\n                href = text;\n            }\n            return {\n                type: 'link',\n                raw: cap[0],\n                text,\n                href,\n                tokens: [\n                    {\n                        type: 'text',\n                        raw: text,\n                        text\n                    }\n                ]\n            };\n        }\n    }\n    url(src) {\n        let cap;\n        if (cap = this.rules.inline.url.exec(src)) {\n            let text, href;\n            if (cap[2] === '@') {\n                text = escape(cap[0]);\n                href = 'mailto:' + text;\n            }\n            else {\n                // do extended autolink path validation\n                let prevCapZero;\n                do {\n                    prevCapZero = cap[0];\n                    cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n                } while (prevCapZero !== cap[0]);\n                text = escape(cap[0]);\n                if (cap[1] === 'www.') {\n                    href = 'http://' + cap[0];\n                }\n                else {\n                    href = cap[0];\n                }\n            }\n            return {\n                type: 'link',\n                raw: cap[0],\n                text,\n                href,\n                tokens: [\n                    {\n                        type: 'text',\n                        raw: text,\n                        text\n                    }\n                ]\n            };\n        }\n    }\n    inlineText(src) {\n        const cap = this.rules.inline.text.exec(src);\n        if (cap) {\n            let text;\n            if (this.lexer.state.inRawBlock) {\n                text = cap[0];\n            }\n            else {\n                text = escape(cap[0]);\n            }\n            return {\n                type: 'text',\n                raw: cap[0],\n                text\n            };\n        }\n    }\n}\n","import { noopTest, edit } from './helpers.ts';\n/**\n * Block-Level Grammar\n */\n// Not all rules are defined in the object literal\n// @ts-expect-error\nexport const block = {\n    newline: /^(?: *(?:\\n|$))+/,\n    code: /^( {4}[^\\n]+(?:\\n(?: *(?:\\n|$))*)?)+/,\n    fences: /^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,\n    hr: /^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,\n    heading: /^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,\n    blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n    list: /^( {0,3}bull)([ \\t][^\\n]+?)?(?:\\n|$)/,\n    html: '^ {0,3}(?:' // optional indentation\n        + '<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n        + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n        + '|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)' // (3)\n        + '|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)' // (4)\n        + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)' // (5)\n        + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (6)\n        + '|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) open tag\n        + '|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n *)+\\\\n|$)' // (7) closing tag\n        + ')',\n    def: /^ {0,3}\\[(label)\\]: *(?:\\n *)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n *)?| *\\n *)(title))? *(?:\\n+|$)/,\n    table: noopTest,\n    lheading: /^(?!bull )((?:.|\\n(?!\\s*?\\n|bull ))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    // regex template, placeholders will be replaced according to different paragraph\n    // interruption rules of commonmark and the original markdown spec:\n    _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,\n    text: /^[^\\n]+/\n};\nblock._label = /(?!\\s*\\])(?:\\\\.|[^\\[\\]\\\\])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n    .replace('label', block._label)\n    .replace('title', block._title)\n    .getRegex();\nblock.bullet = /(?:[*+-]|\\d{1,9}[.)])/;\nblock.listItemStart = edit(/^( *)(bull) */)\n    .replace('bull', block.bullet)\n    .getRegex();\nblock.list = edit(block.list)\n    .replace(/bull/g, block.bullet)\n    .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n    .replace('def', '\\\\n+(?=' + block.def.source + ')')\n    .getRegex();\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n    + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n    + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n    + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n    + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n    + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?(?:-->|$)/;\nblock.html = edit(block.html, 'i')\n    .replace('comment', block._comment)\n    .replace('tag', block._tag)\n    .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n    .getRegex();\nblock.lheading = edit(block.lheading)\n    .replace(/bull/g, block.bullet) // lists can interrupt\n    .getRegex();\nblock.paragraph = edit(block._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' {0,3}#{1,6}(?:\\\\s|$)')\n    .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n    .replace('|table', '')\n    .replace('blockquote', ' {0,3}>')\n    .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n    .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n    .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n    .getRegex();\nblock.blockquote = edit(block.blockquote)\n    .replace('paragraph', block.paragraph)\n    .getRegex();\n/**\n * Normal Block Grammar\n */\nblock.normal = { ...block };\n/**\n * GFM Block Grammar\n */\nblock.gfm = {\n    ...block.normal,\n    table: '^ *([^\\\\n ].*)\\\\n' // Header\n        + ' {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)' // Align\n        + '(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n};\nblock.gfm.table = edit(block.gfm.table)\n    .replace('hr', block.hr)\n    .replace('heading', ' {0,3}#{1,6}(?:\\\\s|$)')\n    .replace('blockquote', ' {0,3}>')\n    .replace('code', ' {4}[^\\\\n]')\n    .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n    .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n    .replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n    .getRegex();\nblock.gfm.paragraph = edit(block._paragraph)\n    .replace('hr', block.hr)\n    .replace('heading', ' {0,3}#{1,6}(?:\\\\s|$)')\n    .replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n    .replace('table', block.gfm.table) // interrupt paragraphs with table\n    .replace('blockquote', ' {0,3}>')\n    .replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n')\n    .replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n    .replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)')\n    .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n    .getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\nblock.pedantic = {\n    ...block.normal,\n    html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)'\n        + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n        + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n        .replace('comment', block._comment)\n        .replace(/tag/g, '(?!(?:'\n        + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n        + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n        + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n        .getRegex(),\n    def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n    heading: /^(#{1,6})(.*)(?:\\n+|$)/,\n    fences: noopTest,\n    lheading: /^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n    paragraph: edit(block.normal._paragraph)\n        .replace('hr', block.hr)\n        .replace('heading', ' *#{1,6} *[^\\n]')\n        .replace('lheading', block.lheading)\n        .replace('blockquote', ' {0,3}>')\n        .replace('|fences', '')\n        .replace('|list', '')\n        .replace('|html', '')\n        .getRegex()\n};\n/**\n * Inline-Level Grammar\n */\n// Not all rules are defined in the object literal\n// @ts-expect-error\nexport const inline = {\n    escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n    autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n    url: noopTest,\n    tag: '^comment'\n        + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n        + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n        + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n        + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n        + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n    link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n    reflink: /^!?\\[(label)\\]\\[(ref)\\]/,\n    nolink: /^!?\\[(ref)\\](?:\\[\\])?/,\n    reflinkSearch: 'reflink|nolink(?!\\\\()',\n    emStrong: {\n        lDelim: /^(?:\\*+(?:((?!\\*)[punct])|[^\\s*]))|^_+(?:((?!_)[punct])|([^\\s_]))/,\n        //         (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.\n        //         | Skip orphan inside strong      | Consume to delim | (1) #***              | (2) a***#, a***                    | (3) #***a, ***a                  | (4) ***#                 | (5) #***#                         | (6) a***a\n        rDelimAst: /^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])/,\n        rDelimUnd: /^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/ // ^- Not allowed for _\n    },\n    code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n    br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n    del: noopTest,\n    text: /^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,\n    punctuation: /^((?![*_])[\\spunctuation])/\n};\n// list of unicode punctuation marks, plus any missing characters from CommonMark spec\ninline._punctuation = '\\\\p{P}$+<=>`^|~';\ninline.punctuation = edit(inline.punctuation, 'u').replace(/punctuation/g, inline._punctuation).getRegex();\n// sequences em should skip over [title](link), `code`, <html>\ninline.blockSkip = /\\[[^[\\]]*?\\]\\([^\\(\\)]*?\\)|`[^`]*?`|<[^<>]*?>/g;\ninline.anyPunctuation = /\\\\[punct]/g;\ninline._escapes = /\\\\([punct])/g;\ninline._comment = edit(block._comment).replace('(?:-->|$)', '-->').getRegex();\ninline.emStrong.lDelim = edit(inline.emStrong.lDelim, 'u')\n    .replace(/punct/g, inline._punctuation)\n    .getRegex();\ninline.emStrong.rDelimAst = edit(inline.emStrong.rDelimAst, 'gu')\n    .replace(/punct/g, inline._punctuation)\n    .getRegex();\ninline.emStrong.rDelimUnd = edit(inline.emStrong.rDelimUnd, 'gu')\n    .replace(/punct/g, inline._punctuation)\n    .getRegex();\ninline.anyPunctuation = edit(inline.anyPunctuation, 'gu')\n    .replace(/punct/g, inline._punctuation)\n    .getRegex();\ninline._escapes = edit(inline._escapes, 'gu')\n    .replace(/punct/g, inline._punctuation)\n    .getRegex();\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n    .replace('scheme', inline._scheme)\n    .replace('email', inline._email)\n    .getRegex();\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\ninline.tag = edit(inline.tag)\n    .replace('comment', inline._comment)\n    .replace('attribute', inline._attribute)\n    .getRegex();\ninline._label = /(?:\\[(?:\\\\.|[^\\[\\]\\\\])*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\.|[^\\n<>\\\\])+>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\ninline.link = edit(inline.link)\n    .replace('label', inline._label)\n    .replace('href', inline._href)\n    .replace('title', inline._title)\n    .getRegex();\ninline.reflink = edit(inline.reflink)\n    .replace('label', inline._label)\n    .replace('ref', block._label)\n    .getRegex();\ninline.nolink = edit(inline.nolink)\n    .replace('ref', block._label)\n    .getRegex();\ninline.reflinkSearch = edit(inline.reflinkSearch, 'g')\n    .replace('reflink', inline.reflink)\n    .replace('nolink', inline.nolink)\n    .getRegex();\n/**\n * Normal Inline Grammar\n */\ninline.normal = { ...inline };\n/**\n * Pedantic Inline Grammar\n */\ninline.pedantic = {\n    ...inline.normal,\n    strong: {\n        start: /^__|\\*\\*/,\n        middle: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n        endAst: /\\*\\*(?!\\*)/g,\n        endUnd: /__(?!_)/g\n    },\n    em: {\n        start: /^_|\\*/,\n        middle: /^()\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)|^_(?=\\S)([\\s\\S]*?\\S)_(?!_)/,\n        endAst: /\\*(?!\\*)/g,\n        endUnd: /_(?!_)/g\n    },\n    link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n        .replace('label', inline._label)\n        .getRegex(),\n    reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n        .replace('label', inline._label)\n        .getRegex()\n};\n/**\n * GFM Inline Grammar\n */\ninline.gfm = {\n    ...inline.normal,\n    escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n    _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n    url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n    _backpedal: /(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,\n    del: /^(~~?)(?=[^\\s~])([\\s\\S]*?[^\\s~])\\1(?=[^~]|$)/,\n    text: /^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/\n};\ninline.gfm.url = edit(inline.gfm.url, 'i')\n    .replace('email', inline.gfm._extended_email)\n    .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\ninline.breaks = {\n    ...inline.gfm,\n    br: edit(inline.br).replace('{2,}', '*').getRegex(),\n    text: edit(inline.gfm.text)\n        .replace('\\\\b_', '\\\\b_| {2,}\\\\n')\n        .replace(/\\{2,\\}/g, '*')\n        .getRegex()\n};\n","import { _Tokenizer } from './Tokenizer.ts';\nimport { _defaults } from './defaults.ts';\nimport { block, inline } from './rules.ts';\n/**\n * Block Lexer\n */\nexport class _Lexer {\n    tokens;\n    options;\n    state;\n    tokenizer;\n    inlineQueue;\n    constructor(options) {\n        // TokenList cannot be created in one go\n        // @ts-expect-error\n        this.tokens = [];\n        this.tokens.links = Object.create(null);\n        this.options = options || _defaults;\n        this.options.tokenizer = this.options.tokenizer || new _Tokenizer();\n        this.tokenizer = this.options.tokenizer;\n        this.tokenizer.options = this.options;\n        this.tokenizer.lexer = this;\n        this.inlineQueue = [];\n        this.state = {\n            inLink: false,\n            inRawBlock: false,\n            top: true\n        };\n        const rules = {\n            block: block.normal,\n            inline: inline.normal\n        };\n        if (this.options.pedantic) {\n            rules.block = block.pedantic;\n            rules.inline = inline.pedantic;\n        }\n        else if (this.options.gfm) {\n            rules.block = block.gfm;\n            if (this.options.breaks) {\n                rules.inline = inline.breaks;\n            }\n            else {\n                rules.inline = inline.gfm;\n            }\n        }\n        this.tokenizer.rules = rules;\n    }\n    /**\n     * Expose Rules\n     */\n    static get rules() {\n        return {\n            block,\n            inline\n        };\n    }\n    /**\n     * Static Lex Method\n     */\n    static lex(src, options) {\n        const lexer = new _Lexer(options);\n        return lexer.lex(src);\n    }\n    /**\n     * Static Lex Inline Method\n     */\n    static lexInline(src, options) {\n        const lexer = new _Lexer(options);\n        return lexer.inlineTokens(src);\n    }\n    /**\n     * Preprocessing\n     */\n    lex(src) {\n        src = src\n            .replace(/\\r\\n|\\r/g, '\\n');\n        this.blockTokens(src, this.tokens);\n        let next;\n        while (next = this.inlineQueue.shift()) {\n            this.inlineTokens(next.src, next.tokens);\n        }\n        return this.tokens;\n    }\n    blockTokens(src, tokens = []) {\n        if (this.options.pedantic) {\n            src = src.replace(/\\t/g, '    ').replace(/^ +$/gm, '');\n        }\n        else {\n            src = src.replace(/^( *)(\\t+)/gm, (_, leading, tabs) => {\n                return leading + '    '.repeat(tabs.length);\n            });\n        }\n        let token;\n        let lastToken;\n        let cutSrc;\n        let lastParagraphClipped;\n        while (src) {\n            if (this.options.extensions\n                && this.options.extensions.block\n                && this.options.extensions.block.some((extTokenizer) => {\n                    if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n                        src = src.substring(token.raw.length);\n                        tokens.push(token);\n                        return true;\n                    }\n                    return false;\n                })) {\n                continue;\n            }\n            // newline\n            if (token = this.tokenizer.space(src)) {\n                src = src.substring(token.raw.length);\n                if (token.raw.length === 1 && tokens.length > 0) {\n                    // if there's a single \\n as a spacer, it's terminating the last line,\n                    // so move it there so that we don't get unnecessary paragraph tags\n                    tokens[tokens.length - 1].raw += '\\n';\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // code\n            if (token = this.tokenizer.code(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                // An indented code block cannot interrupt a paragraph.\n                if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.text;\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // fences\n            if (token = this.tokenizer.fences(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // heading\n            if (token = this.tokenizer.heading(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // hr\n            if (token = this.tokenizer.hr(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // blockquote\n            if (token = this.tokenizer.blockquote(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // list\n            if (token = this.tokenizer.list(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // html\n            if (token = this.tokenizer.html(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // def\n            if (token = this.tokenizer.def(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && (lastToken.type === 'paragraph' || lastToken.type === 'text')) {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.raw;\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else if (!this.tokens.links[token.tag]) {\n                    this.tokens.links[token.tag] = {\n                        href: token.href,\n                        title: token.title\n                    };\n                }\n                continue;\n            }\n            // table (gfm)\n            if (token = this.tokenizer.table(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // lheading\n            if (token = this.tokenizer.lheading(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // top-level paragraph\n            // prevent paragraph consuming extensions by clipping 'src' to extension start\n            cutSrc = src;\n            if (this.options.extensions && this.options.extensions.startBlock) {\n                let startIndex = Infinity;\n                const tempSrc = src.slice(1);\n                let tempStart;\n                this.options.extensions.startBlock.forEach((getStartIndex) => {\n                    tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n                    if (typeof tempStart === 'number' && tempStart >= 0) {\n                        startIndex = Math.min(startIndex, tempStart);\n                    }\n                });\n                if (startIndex < Infinity && startIndex >= 0) {\n                    cutSrc = src.substring(0, startIndex + 1);\n                }\n            }\n            if (this.state.top && (token = this.tokenizer.paragraph(cutSrc))) {\n                lastToken = tokens[tokens.length - 1];\n                if (lastParagraphClipped && lastToken.type === 'paragraph') {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.text;\n                    this.inlineQueue.pop();\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                lastParagraphClipped = (cutSrc.length !== src.length);\n                src = src.substring(token.raw.length);\n                continue;\n            }\n            // text\n            if (token = this.tokenizer.text(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && lastToken.type === 'text') {\n                    lastToken.raw += '\\n' + token.raw;\n                    lastToken.text += '\\n' + token.text;\n                    this.inlineQueue.pop();\n                    this.inlineQueue[this.inlineQueue.length - 1].src = lastToken.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            if (src) {\n                const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n                if (this.options.silent) {\n                    console.error(errMsg);\n                    break;\n                }\n                else {\n                    throw new Error(errMsg);\n                }\n            }\n        }\n        this.state.top = true;\n        return tokens;\n    }\n    inline(src, tokens = []) {\n        this.inlineQueue.push({ src, tokens });\n        return tokens;\n    }\n    /**\n     * Lexing/Compiling\n     */\n    inlineTokens(src, tokens = []) {\n        let token, lastToken, cutSrc;\n        // String with links masked to avoid interference with em and strong\n        let maskedSrc = src;\n        let match;\n        let keepPrevChar, prevChar;\n        // Mask out reflinks\n        if (this.tokens.links) {\n            const links = Object.keys(this.tokens.links);\n            if (links.length > 0) {\n                while ((match = this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc)) != null) {\n                    if (links.includes(match[0].slice(match[0].lastIndexOf('[') + 1, -1))) {\n                        maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex);\n                    }\n                }\n            }\n        }\n        // Mask out other blocks\n        while ((match = this.tokenizer.rules.inline.blockSkip.exec(maskedSrc)) != null) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '[' + 'a'.repeat(match[0].length - 2) + ']' + maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);\n        }\n        // Mask out escaped characters\n        while ((match = this.tokenizer.rules.inline.anyPunctuation.exec(maskedSrc)) != null) {\n            maskedSrc = maskedSrc.slice(0, match.index) + '++' + maskedSrc.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);\n        }\n        while (src) {\n            if (!keepPrevChar) {\n                prevChar = '';\n            }\n            keepPrevChar = false;\n            // extensions\n            if (this.options.extensions\n                && this.options.extensions.inline\n                && this.options.extensions.inline.some((extTokenizer) => {\n                    if (token = extTokenizer.call({ lexer: this }, src, tokens)) {\n                        src = src.substring(token.raw.length);\n                        tokens.push(token);\n                        return true;\n                    }\n                    return false;\n                })) {\n                continue;\n            }\n            // escape\n            if (token = this.tokenizer.escape(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // tag\n            if (token = this.tokenizer.tag(src)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n                    lastToken.raw += token.raw;\n                    lastToken.text += token.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // link\n            if (token = this.tokenizer.link(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // reflink, nolink\n            if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n                src = src.substring(token.raw.length);\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && token.type === 'text' && lastToken.type === 'text') {\n                    lastToken.raw += token.raw;\n                    lastToken.text += token.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            // em & strong\n            if (token = this.tokenizer.emStrong(src, maskedSrc, prevChar)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // code\n            if (token = this.tokenizer.codespan(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // br\n            if (token = this.tokenizer.br(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // del (gfm)\n            if (token = this.tokenizer.del(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // autolink\n            if (token = this.tokenizer.autolink(src)) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // url (gfm)\n            if (!this.state.inLink && (token = this.tokenizer.url(src))) {\n                src = src.substring(token.raw.length);\n                tokens.push(token);\n                continue;\n            }\n            // text\n            // prevent inlineText consuming extensions by clipping 'src' to extension start\n            cutSrc = src;\n            if (this.options.extensions && this.options.extensions.startInline) {\n                let startIndex = Infinity;\n                const tempSrc = src.slice(1);\n                let tempStart;\n                this.options.extensions.startInline.forEach((getStartIndex) => {\n                    tempStart = getStartIndex.call({ lexer: this }, tempSrc);\n                    if (typeof tempStart === 'number' && tempStart >= 0) {\n                        startIndex = Math.min(startIndex, tempStart);\n                    }\n                });\n                if (startIndex < Infinity && startIndex >= 0) {\n                    cutSrc = src.substring(0, startIndex + 1);\n                }\n            }\n            if (token = this.tokenizer.inlineText(cutSrc)) {\n                src = src.substring(token.raw.length);\n                if (token.raw.slice(-1) !== '_') { // Track prevChar before string of ____ started\n                    prevChar = token.raw.slice(-1);\n                }\n                keepPrevChar = true;\n                lastToken = tokens[tokens.length - 1];\n                if (lastToken && lastToken.type === 'text') {\n                    lastToken.raw += token.raw;\n                    lastToken.text += token.text;\n                }\n                else {\n                    tokens.push(token);\n                }\n                continue;\n            }\n            if (src) {\n                const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n                if (this.options.silent) {\n                    console.error(errMsg);\n                    break;\n                }\n                else {\n                    throw new Error(errMsg);\n                }\n            }\n        }\n        return tokens;\n    }\n}\n","import { _defaults } from './defaults.ts';\nimport { cleanUrl, escape } from './helpers.ts';\n/**\n * Renderer\n */\nexport class _Renderer {\n    options;\n    constructor(options) {\n        this.options = options || _defaults;\n    }\n    code(code, infostring, escaped) {\n        const lang = (infostring || '').match(/^\\S*/)?.[0];\n        code = code.replace(/\\n$/, '') + '\\n';\n        if (!lang) {\n            return '<pre><code>'\n                + (escaped ? code : escape(code, true))\n                + '</code></pre>\\n';\n        }\n        return '<pre><code class=\"language-'\n            + escape(lang)\n            + '\">'\n            + (escaped ? code : escape(code, true))\n            + '</code></pre>\\n';\n    }\n    blockquote(quote) {\n        return `<blockquote>\\n${quote}</blockquote>\\n`;\n    }\n    html(html, block) {\n        return html;\n    }\n    heading(text, level, raw) {\n        // ignore IDs\n        return `<h${level}>${text}</h${level}>\\n`;\n    }\n    hr() {\n        return '<hr>\\n';\n    }\n    list(body, ordered, start) {\n        const type = ordered ? 'ol' : 'ul';\n        const startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n        return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n    }\n    listitem(text, task, checked) {\n        return `<li>${text}</li>\\n`;\n    }\n    checkbox(checked) {\n        return '<input '\n            + (checked ? 'checked=\"\" ' : '')\n            + 'disabled=\"\" type=\"checkbox\">';\n    }\n    paragraph(text) {\n        return `<p>${text}</p>\\n`;\n    }\n    table(header, body) {\n        if (body)\n            body = `<tbody>${body}</tbody>`;\n        return '<table>\\n'\n            + '<thead>\\n'\n            + header\n            + '</thead>\\n'\n            + body\n            + '</table>\\n';\n    }\n    tablerow(content) {\n        return `<tr>\\n${content}</tr>\\n`;\n    }\n    tablecell(content, flags) {\n        const type = flags.header ? 'th' : 'td';\n        const tag = flags.align\n            ? `<${type} align=\"${flags.align}\">`\n            : `<${type}>`;\n        return tag + content + `</${type}>\\n`;\n    }\n    /**\n     * span level renderer\n     */\n    strong(text) {\n        return `<strong>${text}</strong>`;\n    }\n    em(text) {\n        return `<em>${text}</em>`;\n    }\n    codespan(text) {\n        return `<code>${text}</code>`;\n    }\n    br() {\n        return '<br>';\n    }\n    del(text) {\n        return `<del>${text}</del>`;\n    }\n    link(href, title, text) {\n        const cleanHref = cleanUrl(href);\n        if (cleanHref === null) {\n            return text;\n        }\n        href = cleanHref;\n        let out = '<a href=\"' + href + '\"';\n        if (title) {\n            out += ' title=\"' + title + '\"';\n        }\n        out += '>' + text + '</a>';\n        return out;\n    }\n    image(href, title, text) {\n        const cleanHref = cleanUrl(href);\n        if (cleanHref === null) {\n            return text;\n        }\n        href = cleanHref;\n        let out = `<img src=\"${href}\" alt=\"${text}\"`;\n        if (title) {\n            out += ` title=\"${title}\"`;\n        }\n        out += '>';\n        return out;\n    }\n    text(text) {\n        return text;\n    }\n}\n","/**\n * TextRenderer\n * returns only the textual part of the token\n */\nexport class _TextRenderer {\n    // no need for block level renderers\n    strong(text) {\n        return text;\n    }\n    em(text) {\n        return text;\n    }\n    codespan(text) {\n        return text;\n    }\n    del(text) {\n        return text;\n    }\n    html(text) {\n        return text;\n    }\n    text(text) {\n        return text;\n    }\n    link(href, title, text) {\n        return '' + text;\n    }\n    image(href, title, text) {\n        return '' + text;\n    }\n    br() {\n        return '';\n    }\n}\n","import { _Renderer } from './Renderer.ts';\nimport { _TextRenderer } from './TextRenderer.ts';\nimport { _defaults } from './defaults.ts';\nimport { unescape } from './helpers.ts';\n/**\n * Parsing & Compiling\n */\nexport class _Parser {\n    options;\n    renderer;\n    textRenderer;\n    constructor(options) {\n        this.options = options || _defaults;\n        this.options.renderer = this.options.renderer || new _Renderer();\n        this.renderer = this.options.renderer;\n        this.renderer.options = this.options;\n        this.textRenderer = new _TextRenderer();\n    }\n    /**\n     * Static Parse Method\n     */\n    static parse(tokens, options) {\n        const parser = new _Parser(options);\n        return parser.parse(tokens);\n    }\n    /**\n     * Static Parse Inline Method\n     */\n    static parseInline(tokens, options) {\n        const parser = new _Parser(options);\n        return parser.parseInline(tokens);\n    }\n    /**\n     * Parse Loop\n     */\n    parse(tokens, top = true) {\n        let out = '';\n        for (let i = 0; i < tokens.length; i++) {\n            const token = tokens[i];\n            // Run any renderer extensions\n            if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n                const genericToken = token;\n                const ret = this.options.extensions.renderers[genericToken.type].call({ parser: this }, genericToken);\n                if (ret !== false || !['space', 'hr', 'heading', 'code', 'table', 'blockquote', 'list', 'html', 'paragraph', 'text'].includes(genericToken.type)) {\n                    out += ret || '';\n                    continue;\n                }\n            }\n            switch (token.type) {\n                case 'space': {\n                    continue;\n                }\n                case 'hr': {\n                    out += this.renderer.hr();\n                    continue;\n                }\n                case 'heading': {\n                    const headingToken = token;\n                    out += this.renderer.heading(this.parseInline(headingToken.tokens), headingToken.depth, unescape(this.parseInline(headingToken.tokens, this.textRenderer)));\n                    continue;\n                }\n                case 'code': {\n                    const codeToken = token;\n                    out += this.renderer.code(codeToken.text, codeToken.lang, !!codeToken.escaped);\n                    continue;\n                }\n                case 'table': {\n                    const tableToken = token;\n                    let header = '';\n                    // header\n                    let cell = '';\n                    for (let j = 0; j < tableToken.header.length; j++) {\n                        cell += this.renderer.tablecell(this.parseInline(tableToken.header[j].tokens), { header: true, align: tableToken.align[j] });\n                    }\n                    header += this.renderer.tablerow(cell);\n                    let body = '';\n                    for (let j = 0; j < tableToken.rows.length; j++) {\n                        const row = tableToken.rows[j];\n                        cell = '';\n                        for (let k = 0; k < row.length; k++) {\n                            cell += this.renderer.tablecell(this.parseInline(row[k].tokens), { header: false, align: tableToken.align[k] });\n                        }\n                        body += this.renderer.tablerow(cell);\n                    }\n                    out += this.renderer.table(header, body);\n                    continue;\n                }\n                case 'blockquote': {\n                    const blockquoteToken = token;\n                    const body = this.parse(blockquoteToken.tokens);\n                    out += this.renderer.blockquote(body);\n                    continue;\n                }\n                case 'list': {\n                    const listToken = token;\n                    const ordered = listToken.ordered;\n                    const start = listToken.start;\n                    const loose = listToken.loose;\n                    let body = '';\n                    for (let j = 0; j < listToken.items.length; j++) {\n                        const item = listToken.items[j];\n                        const checked = item.checked;\n                        const task = item.task;\n                        let itemBody = '';\n                        if (item.task) {\n                            const checkbox = this.renderer.checkbox(!!checked);\n                            if (loose) {\n                                if (item.tokens.length > 0 && item.tokens[0].type === 'paragraph') {\n                                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n                                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                                        item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                                    }\n                                }\n                                else {\n                                    item.tokens.unshift({\n                                        type: 'text',\n                                        text: checkbox + ' '\n                                    });\n                                }\n                            }\n                            else {\n                                itemBody += checkbox + ' ';\n                            }\n                        }\n                        itemBody += this.parse(item.tokens, loose);\n                        body += this.renderer.listitem(itemBody, task, !!checked);\n                    }\n                    out += this.renderer.list(body, ordered, start);\n                    continue;\n                }\n                case 'html': {\n                    const htmlToken = token;\n                    out += this.renderer.html(htmlToken.text, htmlToken.block);\n                    continue;\n                }\n                case 'paragraph': {\n                    const paragraphToken = token;\n                    out += this.renderer.paragraph(this.parseInline(paragraphToken.tokens));\n                    continue;\n                }\n                case 'text': {\n                    let textToken = token;\n                    let body = textToken.tokens ? this.parseInline(textToken.tokens) : textToken.text;\n                    while (i + 1 < tokens.length && tokens[i + 1].type === 'text') {\n                        textToken = tokens[++i];\n                        body += '\\n' + (textToken.tokens ? this.parseInline(textToken.tokens) : textToken.text);\n                    }\n                    out += top ? this.renderer.paragraph(body) : body;\n                    continue;\n                }\n                default: {\n                    const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n                    if (this.options.silent) {\n                        console.error(errMsg);\n                        return '';\n                    }\n                    else {\n                        throw new Error(errMsg);\n                    }\n                }\n            }\n        }\n        return out;\n    }\n    /**\n     * Parse Inline Tokens\n     */\n    parseInline(tokens, renderer) {\n        renderer = renderer || this.renderer;\n        let out = '';\n        for (let i = 0; i < tokens.length; i++) {\n            const token = tokens[i];\n            // Run any renderer extensions\n            if (this.options.extensions && this.options.extensions.renderers && this.options.extensions.renderers[token.type]) {\n                const ret = this.options.extensions.renderers[token.type].call({ parser: this }, token);\n                if (ret !== false || !['escape', 'html', 'link', 'image', 'strong', 'em', 'codespan', 'br', 'del', 'text'].includes(token.type)) {\n                    out += ret || '';\n                    continue;\n                }\n            }\n            switch (token.type) {\n                case 'escape': {\n                    const escapeToken = token;\n                    out += renderer.text(escapeToken.text);\n                    break;\n                }\n                case 'html': {\n                    const tagToken = token;\n                    out += renderer.html(tagToken.text);\n                    break;\n                }\n                case 'link': {\n                    const linkToken = token;\n                    out += renderer.link(linkToken.href, linkToken.title, this.parseInline(linkToken.tokens, renderer));\n                    break;\n                }\n                case 'image': {\n                    const imageToken = token;\n                    out += renderer.image(imageToken.href, imageToken.title, imageToken.text);\n                    break;\n                }\n                case 'strong': {\n                    const strongToken = token;\n                    out += renderer.strong(this.parseInline(strongToken.tokens, renderer));\n                    break;\n                }\n                case 'em': {\n                    const emToken = token;\n                    out += renderer.em(this.parseInline(emToken.tokens, renderer));\n                    break;\n                }\n                case 'codespan': {\n                    const codespanToken = token;\n                    out += renderer.codespan(codespanToken.text);\n                    break;\n                }\n                case 'br': {\n                    out += renderer.br();\n                    break;\n                }\n                case 'del': {\n                    const delToken = token;\n                    out += renderer.del(this.parseInline(delToken.tokens, renderer));\n                    break;\n                }\n                case 'text': {\n                    const textToken = token;\n                    out += renderer.text(textToken.text);\n                    break;\n                }\n                default: {\n                    const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n                    if (this.options.silent) {\n                        console.error(errMsg);\n                        return '';\n                    }\n                    else {\n                        throw new Error(errMsg);\n                    }\n                }\n            }\n        }\n        return out;\n    }\n}\n","import { _defaults } from './defaults.ts';\nexport class _Hooks {\n    options;\n    constructor(options) {\n        this.options = options || _defaults;\n    }\n    static passThroughHooks = new Set([\n        'preprocess',\n        'postprocess'\n    ]);\n    /**\n     * Process markdown before marked\n     */\n    preprocess(markdown) {\n        return markdown;\n    }\n    /**\n     * Process HTML after marked is finished\n     */\n    postprocess(html) {\n        return html;\n    }\n}\n","import { _getDefaults } from './defaults.ts';\nimport { _Lexer } from './Lexer.ts';\nimport { _Parser } from './Parser.ts';\nimport { _Hooks } from './Hooks.ts';\nimport { _Renderer } from './Renderer.ts';\nimport { _Tokenizer } from './Tokenizer.ts';\nimport { _TextRenderer } from './TextRenderer.ts';\nimport { escape } from './helpers.ts';\nexport class Marked {\n    defaults = _getDefaults();\n    options = this.setOptions;\n    parse = this.#parseMarkdown(_Lexer.lex, _Parser.parse);\n    parseInline = this.#parseMarkdown(_Lexer.lexInline, _Parser.parseInline);\n    Parser = _Parser;\n    Renderer = _Renderer;\n    TextRenderer = _TextRenderer;\n    Lexer = _Lexer;\n    Tokenizer = _Tokenizer;\n    Hooks = _Hooks;\n    constructor(...args) {\n        this.use(...args);\n    }\n    /**\n     * Run callback for every token\n     */\n    walkTokens(tokens, callback) {\n        let values = [];\n        for (const token of tokens) {\n            values = values.concat(callback.call(this, token));\n            switch (token.type) {\n                case 'table': {\n                    const tableToken = token;\n                    for (const cell of tableToken.header) {\n                        values = values.concat(this.walkTokens(cell.tokens, callback));\n                    }\n                    for (const row of tableToken.rows) {\n                        for (const cell of row) {\n                            values = values.concat(this.walkTokens(cell.tokens, callback));\n                        }\n                    }\n                    break;\n                }\n                case 'list': {\n                    const listToken = token;\n                    values = values.concat(this.walkTokens(listToken.items, callback));\n                    break;\n                }\n                default: {\n                    const genericToken = token;\n                    if (this.defaults.extensions?.childTokens?.[genericToken.type]) {\n                        this.defaults.extensions.childTokens[genericToken.type].forEach((childTokens) => {\n                            values = values.concat(this.walkTokens(genericToken[childTokens], callback));\n                        });\n                    }\n                    else if (genericToken.tokens) {\n                        values = values.concat(this.walkTokens(genericToken.tokens, callback));\n                    }\n                }\n            }\n        }\n        return values;\n    }\n    use(...args) {\n        const extensions = this.defaults.extensions || { renderers: {}, childTokens: {} };\n        args.forEach((pack) => {\n            // copy options to new object\n            const opts = { ...pack };\n            // set async to true if it was set to true before\n            opts.async = this.defaults.async || opts.async || false;\n            // ==-- Parse \"addon\" extensions --== //\n            if (pack.extensions) {\n                pack.extensions.forEach((ext) => {\n                    if (!ext.name) {\n                        throw new Error('extension name required');\n                    }\n                    if ('renderer' in ext) { // Renderer extensions\n                        const prevRenderer = extensions.renderers[ext.name];\n                        if (prevRenderer) {\n                            // Replace extension with func to run new extension but fall back if false\n                            extensions.renderers[ext.name] = function (...args) {\n                                let ret = ext.renderer.apply(this, args);\n                                if (ret === false) {\n                                    ret = prevRenderer.apply(this, args);\n                                }\n                                return ret;\n                            };\n                        }\n                        else {\n                            extensions.renderers[ext.name] = ext.renderer;\n                        }\n                    }\n                    if ('tokenizer' in ext) { // Tokenizer Extensions\n                        if (!ext.level || (ext.level !== 'block' && ext.level !== 'inline')) {\n                            throw new Error(\"extension level must be 'block' or 'inline'\");\n                        }\n                        const extLevel = extensions[ext.level];\n                        if (extLevel) {\n                            extLevel.unshift(ext.tokenizer);\n                        }\n                        else {\n                            extensions[ext.level] = [ext.tokenizer];\n                        }\n                        if (ext.start) { // Function to check for start of token\n                            if (ext.level === 'block') {\n                                if (extensions.startBlock) {\n                                    extensions.startBlock.push(ext.start);\n                                }\n                                else {\n                                    extensions.startBlock = [ext.start];\n                                }\n                            }\n                            else if (ext.level === 'inline') {\n                                if (extensions.startInline) {\n                                    extensions.startInline.push(ext.start);\n                                }\n                                else {\n                                    extensions.startInline = [ext.start];\n                                }\n                            }\n                        }\n                    }\n                    if ('childTokens' in ext && ext.childTokens) { // Child tokens to be visited by walkTokens\n                        extensions.childTokens[ext.name] = ext.childTokens;\n                    }\n                });\n                opts.extensions = extensions;\n            }\n            // ==-- Parse \"overwrite\" extensions --== //\n            if (pack.renderer) {\n                const renderer = this.defaults.renderer || new _Renderer(this.defaults);\n                for (const prop in pack.renderer) {\n                    const rendererFunc = pack.renderer[prop];\n                    const rendererKey = prop;\n                    const prevRenderer = renderer[rendererKey];\n                    // Replace renderer with func to run extension, but fall back if false\n                    renderer[rendererKey] = (...args) => {\n                        let ret = rendererFunc.apply(renderer, args);\n                        if (ret === false) {\n                            ret = prevRenderer.apply(renderer, args);\n                        }\n                        return ret || '';\n                    };\n                }\n                opts.renderer = renderer;\n            }\n            if (pack.tokenizer) {\n                const tokenizer = this.defaults.tokenizer || new _Tokenizer(this.defaults);\n                for (const prop in pack.tokenizer) {\n                    const tokenizerFunc = pack.tokenizer[prop];\n                    const tokenizerKey = prop;\n                    const prevTokenizer = tokenizer[tokenizerKey];\n                    // Replace tokenizer with func to run extension, but fall back if false\n                    tokenizer[tokenizerKey] = (...args) => {\n                        let ret = tokenizerFunc.apply(tokenizer, args);\n                        if (ret === false) {\n                            ret = prevTokenizer.apply(tokenizer, args);\n                        }\n                        return ret;\n                    };\n                }\n                opts.tokenizer = tokenizer;\n            }\n            // ==-- Parse Hooks extensions --== //\n            if (pack.hooks) {\n                const hooks = this.defaults.hooks || new _Hooks();\n                for (const prop in pack.hooks) {\n                    const hooksFunc = pack.hooks[prop];\n                    const hooksKey = prop;\n                    const prevHook = hooks[hooksKey];\n                    if (_Hooks.passThroughHooks.has(prop)) {\n                        hooks[hooksKey] = (arg) => {\n                            if (this.defaults.async) {\n                                return Promise.resolve(hooksFunc.call(hooks, arg)).then(ret => {\n                                    return prevHook.call(hooks, ret);\n                                });\n                            }\n                            const ret = hooksFunc.call(hooks, arg);\n                            return prevHook.call(hooks, ret);\n                        };\n                    }\n                    else {\n                        hooks[hooksKey] = (...args) => {\n                            let ret = hooksFunc.apply(hooks, args);\n                            if (ret === false) {\n                                ret = prevHook.apply(hooks, args);\n                            }\n                            return ret;\n                        };\n                    }\n                }\n                opts.hooks = hooks;\n            }\n            // ==-- Parse WalkTokens extensions --== //\n            if (pack.walkTokens) {\n                const walkTokens = this.defaults.walkTokens;\n                const packWalktokens = pack.walkTokens;\n                opts.walkTokens = function (token) {\n                    let values = [];\n                    values.push(packWalktokens.call(this, token));\n                    if (walkTokens) {\n                        values = values.concat(walkTokens.call(this, token));\n                    }\n                    return values;\n                };\n            }\n            this.defaults = { ...this.defaults, ...opts };\n        });\n        return this;\n    }\n    setOptions(opt) {\n        this.defaults = { ...this.defaults, ...opt };\n        return this;\n    }\n    lexer(src, options) {\n        return _Lexer.lex(src, options ?? this.defaults);\n    }\n    parser(tokens, options) {\n        return _Parser.parse(tokens, options ?? this.defaults);\n    }\n    #parseMarkdown(lexer, parser) {\n        return (src, options) => {\n            const origOpt = { ...options };\n            const opt = { ...this.defaults, ...origOpt };\n            // Show warning if an extension set async to true but the parse was called with async: false\n            if (this.defaults.async === true && origOpt.async === false) {\n                if (!opt.silent) {\n                    console.warn('marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored.');\n                }\n                opt.async = true;\n            }\n            const throwError = this.#onError(!!opt.silent, !!opt.async);\n            // throw error in case of non string input\n            if (typeof src === 'undefined' || src === null) {\n                return throwError(new Error('marked(): input parameter is undefined or null'));\n            }\n            if (typeof src !== 'string') {\n                return throwError(new Error('marked(): input parameter is of type '\n                    + Object.prototype.toString.call(src) + ', string expected'));\n            }\n            if (opt.hooks) {\n                opt.hooks.options = opt;\n            }\n            if (opt.async) {\n                return Promise.resolve(opt.hooks ? opt.hooks.preprocess(src) : src)\n                    .then(src => lexer(src, opt))\n                    .then(tokens => opt.walkTokens ? Promise.all(this.walkTokens(tokens, opt.walkTokens)).then(() => tokens) : tokens)\n                    .then(tokens => parser(tokens, opt))\n                    .then(html => opt.hooks ? opt.hooks.postprocess(html) : html)\n                    .catch(throwError);\n            }\n            try {\n                if (opt.hooks) {\n                    src = opt.hooks.preprocess(src);\n                }\n                const tokens = lexer(src, opt);\n                if (opt.walkTokens) {\n                    this.walkTokens(tokens, opt.walkTokens);\n                }\n                let html = parser(tokens, opt);\n                if (opt.hooks) {\n                    html = opt.hooks.postprocess(html);\n                }\n                return html;\n            }\n            catch (e) {\n                return throwError(e);\n            }\n        };\n    }\n    #onError(silent, async) {\n        return (e) => {\n            e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n            if (silent) {\n                const msg = '<p>An error occurred:</p><pre>'\n                    + escape(e.message + '', true)\n                    + '</pre>';\n                if (async) {\n                    return Promise.resolve(msg);\n                }\n                return msg;\n            }\n            if (async) {\n                return Promise.reject(e);\n            }\n            throw e;\n        };\n    }\n}\n","import { _Lexer } from './Lexer.ts';\nimport { _Parser } from './Parser.ts';\nimport { _Tokenizer } from './Tokenizer.ts';\nimport { _Renderer } from './Renderer.ts';\nimport { _TextRenderer } from './TextRenderer.ts';\nimport { _Hooks } from './Hooks.ts';\nimport { Marked } from './Instance.ts';\nimport { _getDefaults, changeDefaults, _defaults } from './defaults.ts';\nconst markedInstance = new Marked();\nexport function marked(src, opt) {\n    return markedInstance.parse(src, opt);\n}\n/**\n * Sets the default options.\n *\n * @param options Hash of options\n */\nmarked.options =\n    marked.setOptions = function (options) {\n        markedInstance.setOptions(options);\n        marked.defaults = markedInstance.defaults;\n        changeDefaults(marked.defaults);\n        return marked;\n    };\n/**\n * Gets the original marked default options.\n */\nmarked.getDefaults = _getDefaults;\nmarked.defaults = _defaults;\n/**\n * Use Extension\n */\nmarked.use = function (...args) {\n    markedInstance.use(...args);\n    marked.defaults = markedInstance.defaults;\n    changeDefaults(marked.defaults);\n    return marked;\n};\n/**\n * Run callback for every token\n */\nmarked.walkTokens = function (tokens, callback) {\n    return markedInstance.walkTokens(tokens, callback);\n};\n/**\n * Compiles markdown to HTML without enclosing `p` tag.\n *\n * @param src String of markdown source to be compiled\n * @param options Hash of options\n * @return String of compiled HTML\n */\nmarked.parseInline = markedInstance.parseInline;\n/**\n * Expose\n */\nmarked.Parser = _Parser;\nmarked.parser = _Parser.parse;\nmarked.Renderer = _Renderer;\nmarked.TextRenderer = _TextRenderer;\nmarked.Lexer = _Lexer;\nmarked.lexer = _Lexer.lex;\nmarked.Tokenizer = _Tokenizer;\nmarked.Hooks = _Hooks;\nmarked.parse = marked;\nexport const options = marked.options;\nexport const setOptions = marked.setOptions;\nexport const use = marked.use;\nexport const walkTokens = marked.walkTokens;\nexport const parseInline = marked.parseInline;\nexport const parse = marked;\nexport const parser = _Parser.parse;\nexport const lexer = _Lexer.lex;\nexport { _defaults as defaults, _getDefaults as getDefaults } from './defaults.ts';\nexport { _Lexer as Lexer } from './Lexer.ts';\nexport { _Parser as Parser } from './Parser.ts';\nexport { _Tokenizer as Tokenizer } from './Tokenizer.ts';\nexport { _Renderer as Renderer } from './Renderer.ts';\nexport { _TextRenderer as TextRenderer } from './TextRenderer.ts';\nexport { _Hooks as Hooks } from './Hooks.ts';\nexport { Marked } from './Instance.ts';\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","/**\n * Virtual DOM Node\n * @typedef VNode\n * @property {string | function} nodeName The string of the DOM node to create or Component constructor to render\n * @property {Array<VNode | string>} children The children of node\n * @property {string | number | undefined} key The key used to identify this VNode in a list\n * @property {object} attributes The properties of this VNode\n */\nexport const VNode = function VNode() {};\n","/**\n * @typedef {import('./component').Component} Component\n * @typedef {import('./vnode').VNode} VNode\n */\n\n/**\n * Global options\n * @public\n * @typedef Options\n * @property {boolean} [syncComponentUpdates] If `true`, `prop` changes trigger synchronous component updates. Defaults to true.\n * @property {(vnode: VNode) => void} [vnode] Processes all created VNodes.\n * @property {(component: Component) => void} [afterMount] Hook invoked after a component is mounted.\n * @property {(component: Component) => void} [afterUpdate] Hook invoked after the DOM is updated with a component's latest render.\n * @property {(component: Component) => void} [beforeUnmount] Hook invoked immediately before a component is unmounted.\n * @property {(rerender: function) => void} [debounceRendering] Hook invoked whenever a rerender is requested. Can be used to debounce rerenders.\n * @property {(event: Event) => Event | void} [event] Hook invoked before any Preact event listeners. The return value (if any) replaces the native browser event given to event listeners\n */\n\n/** @type {Options}  */\nconst options = {};\n\nexport default options;\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility\n * reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a\n * lightweight representation of the structure of a DOM tree. This structure can\n * be realized by recursively comparing it against the current _actual_ DOM\n * structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string | function} nodeName An element name. Ex: `div`, `a`, `span`, etc.\n * @param {object | null} attributes Any attributes/props to set on the created element.\n * @param {VNode[]} [rest] Additional arguments are taken to be children to\n *  append. Can be infinitely nested Arrays.\n *\n * @public\n */\nexport function h(nodeName, attributes) {\n\tlet children=EMPTY_CHILDREN, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children!=null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop!==undefined) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse {\n\t\t\tif (typeof child==='boolean') child = null;\n\n\t\t\tif ((simple = typeof nodeName!=='function')) {\n\t\t\t\tif (child==null) child = '';\n\t\t\t\telse if (typeof child==='number') child = String(child);\n\t\t\t\telse if (typeof child!=='string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse if (children===EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tlet p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes==null ? undefined : attributes;\n\tp.key = attributes==null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode!==undefined) options.vnode(p);\n\n\treturn p;\n}\n","/**\n * Copy all properties from `props` onto `obj`.\n * @param {object} obj Object onto which properties should be copied.\n * @param {object} props Object from which to copy properties.\n * @returns {object}\n * @private\n */\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/** Invoke or update a ref, depending on whether it is a function or object ref.\n *  @param {object|function} [ref=null]\n *  @param {any} [value]\n */\nexport function applyRef(ref, value) {\n\tif (ref) {\n\t\tif (typeof ref=='function') ref(value);\n\t\telse ref.current = value;\n\t}\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n * @type {(callback: function) => void}\n */\nexport const defer = typeof Promise=='function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n","import { extend } from './util';\nimport { h } from './h';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./vnode').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./vnode').VNode>} [rest] Any additional arguments will be used as replacement\n *  children.\n */\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(extend({}, vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n","// render modes\n\n/** Do not re-render a component */\nexport const NO_RENDER = 0;\n/** Synchronously re-render a component and its children */\nexport const SYNC_RENDER = 1;\n/** Synchronously re-render a component, even if its lifecycle methods attempt to prevent it. */\nexport const FORCE_RENDER = 2;\n/** Queue asynchronous re-render of a component and it's children */\nexport const ASYNC_RENDER = 3;\n\n\nexport const ATTR_KEY = '__preactattr_';\n\n/** DOM properties that should NOT have \"px\" added when numeric */\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/**\n * Managed queue of dirty components to be re-rendered\n * @type {Array<import('./component').Component>}\n */\nlet items = [];\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./component').Component} component The component to rerender\n */\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\n/** Rerender all enqueued dirty components */\nexport function rerender() {\n\tlet p;\n\twhile ( (p = items.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { extend } from '../util';\n\n\n/**\n * Check if two nodes are equivalent.\n * @param {import('../dom').PreactElement} node DOM Node to compare\n * @param {import('../vnode').VNode} vnode Virtual DOM node to compare\n * @param {boolean} [hydrating=false] If true, ignores component constructors\n *  when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\t\treturn node.splitText!==undefined;\n\t}\n\tif (typeof vnode.nodeName==='string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor===vnode.nodeName;\n}\n\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n * @param {import('../dom').PreactElement} node A DOM Element to inspect the name of.\n * @param {string} nodeName Unnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || node.nodeName.toLowerCase()===nodeName.toLowerCase();\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {import('../vnode').VNode} vnode The VNode to get props for\n * @returns {object} The props to use for this VNode\n */\nexport function getNodeProps(vnode) {\n\tlet props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps!==undefined) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport { applyRef } from '../util';\nimport options from '../options';\n\n/**\n * A DOM event listener\n * @typedef {(e: Event) => void} EventListner\n */\n\n/**\n * A mapping of event types to event listeners\n * @typedef {Object.<string, EventListener>} EventListenerMap\n */\n\n/**\n * Properties Preact adds to elements it creates\n * @typedef PreactElementExtensions\n * @property {string} [normalizedNodeName] A normalized node name to use in diffing\n * @property {EventListenerMap} [_listeners] A map of event listeners added by components to this DOM node\n * @property {import('../component').Component} [_component] The component that rendered this DOM node\n * @property {function} [_componentConstructor] The constructor of the component that rendered this DOM node\n */\n\n/**\n * A DOM element that has been extended with Preact properties\n * @typedef {Element & ElementCSSInlineStyle & PreactElementExtensions} PreactElement\n */\n\n/**\n * Create an element with the given nodeName.\n * @param {string} nodeName The DOM node to create\n * @param {boolean} [isSvg=false] If `true`, creates an element within the SVG\n *  namespace.\n * @returns {PreactElement} The created DOM node\n */\nexport function createNode(nodeName, isSvg) {\n\t/** @type {PreactElement} */\n\tlet node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n\n/**\n * Remove a child node from its parent if attached.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n\n/**\n * Set a named attribute on the given Node, with special behavior for some names\n * and event handlers. If `value` is `null`, the attribute/handler will be\n * removed.\n * @param {PreactElement} node An element to mutate\n * @param {string} name The name/key to set, such as an event or attribute name\n * @param {*} old The last value that was set for this name/node pair\n * @param {*} value An attribute value, such as a function to be used as an\n *  event handler\n * @param {boolean} isSvg Are we currently diffing inside an svg?\n * @private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\tif (name==='className') name = 'class';\n\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || typeof value==='string' || typeof old==='string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (typeof old!=='string') {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && IS_NON_DIMENSIONAL.test(i)===false ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\telse {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\t// Attempt to set a DOM property to the given value.\n\t\t// IE & FF throw for certain property-value combinations.\n\t\ttry {\n\t\t\tnode[name] = value==null ? '' : value;\n\t\t} catch (e) { }\n\t\tif ((value==null || value===false) && name!='spellcheck') node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && (name !== (name = name.replace(/^xlink:?/, '')));\n\t\t// spellcheck is treated differently than all other boolean values and\n\t\t// should not be removed when the value is `false`. See:\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-spellcheck\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { ATTR_KEY } from '../constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode } from './component';\nimport { createNode, setAccessor } from '../dom/index';\nimport { unmountComponent } from './component';\nimport options from '../options';\nimport { applyRef } from '../util';\nimport { removeNode } from '../dom/index';\n\n/**\n * Queue of components that have been mounted and are awaiting componentDidMount\n * @type {Array<import('../component').Component>}\n */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c = mounts.shift())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/**\n * Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing\n *  the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {Element} parent ?\n * @param {boolean} componentRoot ?\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent!=null && parent.ownerSVGElement!==undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom!=null && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\n/**\n * Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} [componentRoot] ?\n * @private\n */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tlet out = dom,\n\t\tprevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode==null || typeof vnode==='boolean') vnode = '';\n\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText!==undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout[ATTR_KEY] = true;\n\n\t\treturn out;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff:\n\tlet vnodeName = vnode.nodeName;\n\tif (typeof vnodeName==='function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName==='svg' ? true : vnodeName==='foreignObject' ? false : isSvgMode;\n\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY],\n\t\tvchildren = vnode.children;\n\n\tif (props==null) {\n\t\tprops = out[ATTR_KEY] = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc!=null && fc.splitText!==undefined && fc.nextSibling==null) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc!=null) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML!=null);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/**\n * Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n * @param {import('../dom').PreactElement} dom Element whose children should be compared & mutated\n * @param {Array<import('../vnode').VNode>} vchildren Array of VNodes to compare to `dom.childNodes`\n * @param {object} context Implicitly descendant context object (from most\n *  recent `getChildContext()`)\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} isHydrating if `true`, consumes externally created elements\n *  similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren ? vchildren.length : 0,\n\t\tj, c, f, vchild, child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len!==0) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen && props ? child._component ? child._component.__key : props.key : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (props || (child.splitText!==undefined ? (isHydrating ? child.nodeValue.trim() : true) : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen!==0) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && keyed[key]!==undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tif (children[j]!==undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child!==dom && child!==f) {\n\t\t\t\tif (f==null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child===f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]!==undefined) recollectNodeTree(keyed[i], false);\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min<=childrenLen) {\n\t\tif ((child = children[childrenLen--])!==undefined) recollectNodeTree(child, false);\n\t}\n}\n\n\n\n/**\n * Recursively recycle (or just unmount) a node and its descendants.\n * @param {import('../dom').PreactElement} node DOM node to start\n *  unmount/removal from\n * @param {boolean} [unmountOnly=false] If `true`, only triggers unmount\n *  lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY]!=null) applyRef(node[ATTR_KEY].ref, null);\n\n\t\tif (unmountOnly===false || node[ATTR_KEY]==null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n\n/**\n * Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tlet next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n\n/**\n * Apply differences in attributes from a VNode to the given DOM Element.\n * @param {import('../dom').PreactElement} dom Element with attributes to diff `attrs` against\n * @param {object} attrs The desired end-state key-value attribute pairs\n * @param {object} old Current/previous attributes (from previous VNode or\n *  element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tlet name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name]!=null) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/**\n * Retains a pool of Components for re-use.\n * @type {Component[]}\n * @private\n */\nexport const recyclerComponents = [];\n\n\n/**\n * Create a component. Normalizes differences between PFC's and classful\n * Components.\n * @param {function} Ctor The constructor of the component to create\n * @param {object} props The initial props of the component\n * @param {object} context The initial context of the component\n * @returns {import('../component').Component}\n */\nexport function createComponent(Ctor, props, context) {\n\tlet inst, i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t}\n\telse {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor===Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { extend, applyRef } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree, removeChildren } from './diff';\nimport { createComponent, recyclerComponents } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n/**\n * Set a component's `props` and possibly re-render the component\n * @param {import('../component').Component} component The Component to set props on\n * @param {object} props The new props\n * @param {number} renderMode Render options - specifies how to re-render the component\n * @param {object} context The new context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n */\nexport function setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t}\n\t\telse if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode!==NO_RENDER) {\n\t\tif (renderMode===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\n\n\n/**\n * Render a Component, triggering necessary lifecycle events and taking\n * High-Order Components into account.\n * @param {import('../component').Component} component The component to render\n * @param {number} [renderMode] render mode, see constants.js for available options.\n * @param {boolean} [mountAll] Whether or not to immediately mount all components\n * @param {boolean} [isChild] ?\n * @private\n */\nexport function renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet props = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tskip = false,\n\t\tsnapshot = previousContext,\n\t\trendered, inst, cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (typeof childComponent==='function') {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context, false);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context, false);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t}\n\telse if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) component._renderCallbacks.pop().call(component);\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/**\n * Apply the Component referenced by a VNode to the DOM.\n * @param {import('../dom').PreactElement} dom The DOM node to mutate\n * @param {import('../vnode').VNode} vnode A Component-referencing VNode\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/**\n * Remove a component from the DOM and recycle it.\n * @param {import('../component').Component} component The Component instance to unmount\n * @private\n */\nexport function unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY]!=null) applyRef(base[ATTR_KEY].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n/**\n * Base Component class.\n * Provides `setState()` and `forceUpdate()`, which trigger rendering.\n * @typedef {object} Component\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components' getChildContext\n * @public\n *\n * @example\n * class MyFoo extends Component {\n *   render(props, state) {\n *     return <div />;\n *   }\n * }\n */\nexport function Component(props, context) {\n\tthis._dirty = true;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.context = context;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.props = props;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\n\nextend(Component.prototype, {\n\n\t/**\n\t * Update component state and schedule a re-render.\n\t * @param {object} state A dict of state properties to be shallowly merged\n\t * \tinto the current state, or a function that will produce such a dict. The\n\t * \tfunction is called with the current state and props.\n\t * @param {() => void} callback A function to be called once component state is\n\t * \tupdated\n\t */\n\tsetState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(\n\t\t\textend({}, this.state),\n\t\t\ttypeof state === 'function' ? state(this.state, this.props) : state\n\t\t);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/**\n\t * Immediately perform a synchronous re-render of the component.\n\t * @param {() => void} callback A function to be called after component is\n\t * \tre-rendered.\n\t * @private\n\t */\n\tforceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/**\n\t * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t * @param {object} props Props (eg: JSX attributes) received from parent\n\t * \telement/component\n\t * @param {object} state The component's current state\n\t * @param {object} context Context object, as returned by the nearest\n\t *  ancestor's `getChildContext()`\n\t * @returns {import('./vnode').VNode | void}\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/**\n * Render JSX into a `parent` Element.\n * @param {import('./vnode').VNode} vnode A (JSX) VNode to render\n * @param {import('./dom').PreactElement} parent DOM element to render into\n * @param {import('./dom').PreactElement} [merge] Attempt to re-use an existing DOM tree rooted at\n *  `merge`\n * @public\n *\n * @example\n * // render a div into <body>:\n * render(<div id=\"hello\">hello!</div>, document.body);\n *\n * @example\n * // render a \"Thing\" component into #foo:\n * const Thing = ({ name }) => <span>{ name }</span>;\n * render(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent, false);\n}\n","import { h, h as createElement } from './h';\nimport { cloneElement } from './clone-element';\nimport { Component } from './component';\nimport { render } from './render';\nimport { rerender } from './render-queue';\nimport options from './options';\n\nfunction createRef() {\n\treturn {};\n}\n\nexport default {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n\nexport {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".bolt.js?v=\" + {\"cookies\":\"17a82e1aa2b5b25ba9ce\",\"cookiesPreference\":\"f9857d3ad0571ca0fbb7\",\"externalLinkModal\":\"18a3a1a3944d21a7a08e\",\"userFeedbackModal\":\"27706a3a73033097e1c3\",\"trailerOverlay\":\"1bb1dbca063b24401f6e\",\"pressKitGalleryOverlay\":\"b13f90b4ee1b37f03a96\",\"landingAudio\":\"14b790422c85126b5166\",\"signUpForm\":\"1beddb122e9e1eb1341a\",\"calendarRemind\":\"91631128fe33582853b5\",\"debugInfo\":\"36740e71b2ec9e2a03d3\",\"customScroll\":\"f5620ac6dab89c7541c0\"}[chunkId] + \"\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames not based on template\n\tif (chunkId === \"cookies\") return \"css/cookies.bolt.css?v=17a82e1aa2b5b25ba9ce\";\n\tif (chunkId === \"cookiesPreference\") return \"css/cookiesPreference.bolt.css?v=f9857d3ad0571ca0fbb7\";\n\tif (chunkId === \"externalLinkModal\") return \"css/externalLinkModal.bolt.css?v=18a3a1a3944d21a7a08e\";\n\tif (chunkId === \"userFeedbackModal\") return \"css/userFeedbackModal.bolt.css?v=27706a3a73033097e1c3\";\n\tif (chunkId === \"trailerOverlay\") return \"css/trailerOverlay.bolt.css?v=1bb1dbca063b24401f6e\";\n\tif (chunkId === \"pressKitGalleryOverlay\") return \"css/pressKitGalleryOverlay.bolt.css?v=b13f90b4ee1b37f03a96\";\n\tif (chunkId === \"landingAudio\") return \"css/landingAudio.bolt.css?v=14b790422c85126b5166\";\n\tif (chunkId === \"signUpForm\") return \"css/signUpForm.bolt.css?v=1beddb122e9e1eb1341a\";\n\tif (chunkId === \"calendarRemind\") return \"css/calendarRemind.bolt.css?v=91631128fe33582853b5\";\n\tif (chunkId === \"debugInfo\") return \"css/debugInfo.bolt.css?v=36740e71b2ec9e2a03d3\";\n\tif (chunkId === \"customScroll\") return \"css/customScroll.bolt.css?v=f5620ac6dab89c7541c0\";\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"thundr:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t\"js/bolt\": 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"cookies\":1,\"cookiesPreference\":1,\"externalLinkModal\":1,\"userFeedbackModal\":1,\"trailerOverlay\":1,\"pressKitGalleryOverlay\":1,\"landingAudio\":1,\"signUpForm\":1,\"calendarRemind\":1,\"debugInfo\":1,\"customScroll\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"js/bolt\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = (typeof self !== 'undefined' ? self : this)[\"webpackChunkthundr\"] = (typeof self !== 'undefined' ? self : this)[\"webpackChunkthundr\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import 'base/bolt/setRelativeRoot';\nimport 'base-styles/reset.sss';\nimport 'base-styles/boltGlobal.sss';\n\nimport { h, render } from 'preact';\nimport { buildClientStoreData } from 'utils/bolt';\nimport BoltApp from 'base/bolt/boltApp';\nimport 'utils/historyPushEvent';\n\nlet initialStore = buildClientStoreData(window.__INITIAL_STATE__);\n\nlet elem = document.getElementById('app') || document.body;\nrender(<BoltApp initialStore={initialStore} />, elem, elem.firstChild);\n"],"names":["h","Component","Store","tracking","pure","clearAllBodyScrollLocks","accessNested","joinClasses","tryToPlayVideo","tabbingDetection","hoverDetection","parseQueryString","getValueForClientSize","addCSSRuleset","getPageIdFromURL","getRelativePageUrl","useDynamicAssetFolder","getPercentageThreshold","shouldShowShowtimes","navigateInternally","getIsDesktopSize","getIsSinglePageIframed","getCookie","getHeaderHeight","getCopy","Header","Footer","LandscapeOverlay","DynamicPageLoader","pages","SidePanelLoader","VideoOverlayLoader","pixelsCategories","webp","isWebPSupported","window","marked","markedRenderer","Renderer","replaceCopyVariables","text","replace","match","backslash","name","html","link","href","title","attributes","slice","target","encodeURI","e","test","page","qs","hash","onclick","role","attrString","Object","keys","map","key","join","setOptions","renderer","smartLists","videosWithError","s","isServer","BoltApp","_decorate","_initialize","_Component","constructor","props","state","appState","initialStore","orientation","client","bgImageLoaded","backgroundStyle","fallbackBackgroundStyle","posterVisible","audioMuted","isComponentLoaded","activePage","set","on","store","get","setState","init","appData","handleResize","emit","__START_PAGE_ID__","scrolling","bind","handlePopState","handleOrientationChange","updateVisibilityPercentages","updateBgStyle","hidePoster","removeBgVideo","playVideo","handleVisibilityChange","onPageContentLoad","toggleAudio","features","options","getBgData","ageGateEnabled","ageGate","externalLinkModalEnabled","externalLinkModal","enabled","userFeedbackModalEnabled","userFeedbackModal","powsterCookiesEnabled","cookiesModal","enableModal","tealiumCookiesEnabled","enableTealiumCookieConsent","evidonCookiesEnabled","requireUserConsent","ensightenCookiesEnabled","enableEnsighten","oneTrustCookiesEnabled","oneTrustCookieConsent","didomiCookiesEnabled","didomiCookieConsent","SMECookiesEnabled","SMECookieConsent","cookiesEnabled","F","d","kind","value","componentDidMount","isCalendarRemindMode","calendarNeeded","addEventListener","document","body","classList","add","headerHeight","query","then","component","Cookies","default","forceUpdate","CookiesPreference","doNotSetCookie","cookieName","lockOut","ofAge","ag","AgeGate","ExternalLinkModal","UserFeedbackModal","videoOverlay","TrailerOverlay","values","find","type","PressKitGalleryOverlay","landingAudio","LandingAudio","signUpBanner","formEmbeds","signUp","filter","length","SignUpForm","calRemindLoaded","calRemindLoadStarted","CalRemind","visibleScrollbar","colorVariables","color","background","backgroundColor","mailchimpData","id","baseUrl","uuid","lid","landingDelay","ib","Element","prototype","insertBefore","child","ref","localName","innerText","apply","arguments","componentWillUnmount","removeEventListener","off","clearTimeout","videoTimeout","componentDidUpdate","prevProps","prevState","showTrailerOverlay","trailerOverlay","overlayOpen","data","video","cookieHeight","cookieContainer","querySelector","getComputedStyle","height","isDesktopSize","prevIsDesktopSize","isDesktopWidth","prevIsDesktopWidth","homeActivePercentage","homePercentagePausePoint","$bgVideo","loopDisabled","getBgValue","videoEnded","currentTime","duration","paused","play","pause","debugMode","loadingDebugInfo","DebugInfo","bgSources","children","src","previousBgSources","load","pagesData","activePageType","activePageBgData","bg","pageWithBgData","backgroundData","hidden","stopped","ended","readyState","setTimeout","useSolidBgColor","backgroundImage","getBgImage","backgroundPosition","objectPosition","bgVideo","headerOpen","ignoreScroll","noShowtimesButtonPath","homeButton1Path","homeButton2Path","persistentPath","includes","field","desktop","tablet","mobile","undefined","bgValue","entries","_ref","device","getFallbackFormat","defaultFormat","split","pop","asset","fallbackFormat","videoExtensions","occluderTimeout","image","Image","onload","onerror","getAssetUrl","css","getH1","activePageDetails","fullPageName","meta","locale","copy","baseCopy","h1","closeAllOverlays","vh","innerHeight","documentElement","style","setProperty","newPage","getExtra","catch","muted","checkIfLoaded","renderLoadingOccluder","class","loadingOccluder","renderBgVideo","isPageDedicatedPage","section","preLoadImg","showtimesShowing","hideBackground","accessibilityCopy","autoPlay","playsInline","loop","poster","onCanPlay","onError","$ref","ariaLabel","$BACKGROUND_VIDEO_ARIA","endsWith","Picture","alt","renderMain","videos","header","showtimes","homeEnt","scrollerTallerThanWindow","widgetFullyExpanded","mainPage","currentPage","customPageComponent","renderedPage","isMobile","isMobileLandscape","deviceSize","isTabletLandscape","videoOverlayOpen","showtimesOverlayOpen","show","showtimesAnimation","animate","homeEntOverlayOpen","homeEntAnimation","sidePanelOpen","sidePanelAnimation","hubActivePercentage","hasStickyFooter","externalCookieBannerOpen","cookieMode","oneContinuousScroll","sonyHeaderEnabled","sonyFooterEnabled","disableMobileLandscape","disableTabletLandscape","iframeLandscapeEnabled","showLandscapeOverlay","hasMiniGallery","videoHasAudio","iconPosition","mainScrollStyle","scrollbarColor","headerOffset","bgCookieStyle","position","top","desktopSolidHeader","hub","previewPanelReplacingHomePage","boltPreviewPanel","boltHome","dedicatedPage","homeInactive","hubInactive","pageInactive","headerSolidBackground","loaded","hasShowtimes","some","p","hasHomeEnt","hasPressKit","bgRender","$BACKGROUND_IMAGE_ARIA","pageProps","mainScroll","hideScrollbar","solidBackground","headerData","offsetTop","calRemindOpen","footerData","footer","pageName","open","pageContainer","containerClass","pageWrapper","onLoad","onClick","sound","icon","render","cookies","externalCookieBanner","cookiePrefsOpen","cookiePreferencesOpen","cookieBannerOpen","ageGateOpen","ageGateOnlyOnPages","onlyOnPages","activePageIsSection","trim","headerType","footerType","navOpen","isRTL","styling","fontVariables","textDirection","coveredScreenSize","container","isIOS","categories","mainScrollWrapper","clientData","showtimesProviderInterstitialOpen","providerInterstitialOpen","sourceWindow","location","protocol","parent","url","origin","pathname","__webpack_public_path__","__RELATIVE_ROOT__","Button","Chevron","HTML","pad2","n","parse","str","checkAge","handleMouseDown","lockedOut","stopPropagation","interactivity","renderYearOptions","currentYear","Date","getFullYear","Array","i","year","event","preventDefault","day","month","minAge","now","allowedFrom","permitted","isSectionAgeGate","consentAge","$AGE_GATE_DESCRIPTION","$AGE_GATE_INSTRUCTION","$AGE_GATE_CONFIRM","$PRIVACY","$AGE_GATE_ACCESS_DENIED","fontStyles","useShort","labels","monthLabels","tt","ttOverride","ttSrc","nullIfDisabled","labelDay","labelShortDay","labelMonth","labelShortMonth","labelYear","labelShortYear","charAt","toUpperCase","sectionAgeGate","screenCover","screenContainer","markdown","description","prefCentreDescription","middle","wrapper","onSubmit","instruction","inputs","selectWrapper","onChange","input","$day","required","chevron","$month","$year","error","bottom","disabled","save","prefCentreSaveBtn","trigger","BurgerMenu","lineStyle","dark","pressKitOverlayOpen","homeScrolled","isSinglePageIframed","showtimesSearchOverlay","oneSheetOverlay","oneSheetOverlayOpen","trailerOverlayOpen","calendarRemind","calendarRemindOpen","extraClass","customBurgerMenu","pressKit","searching","line","tag","supportedTypes","htmlType","active","className","activeClass","useCapture","onMouseEnter","onMouseLeave","onMouseOut","onMouseDown","onKeyDown","onFocus","tabIndex","console","allButtonStyling","allStyling","noHover","parseDate","SECOND","MINUTE","HOUR","DAY","isDate","date","isNaN","parseOffset","Number","Math","abs","sign","hours","minutes","Countdown","remaining","days","seconds","counting","datetime","valid","offsetAmount","timeOffset","setMinutes","getMinutes","getTimezoneOffset","startTimer","stopTimer","updateTime","clearInterval","timer","setInterval","diff","max","floor","internalLink","closest","getAttribute","navOptions","pageId","queryString","renderValue","defaultLabel","label","denomination","wide","_ref2","heading","annotation","visible","containerStyle","paddingTop","remove","hide","onClickCapture","content","countdown","sections","smoothScrollTo","sortObjectByOrder","hideFooter","geoFromIP","Link","Close","ArrowDown","SonyFooter","dom","el","base","userRegion","getUserRegion","promise","onCreate","renderOpenFooter","toggleFooter","closeFooter","openFooter","startAutoExpandTimer","stopAutoExpandTimer","cancelAutoExpanding","onLinkClick","updateSticky","autoExpand","autoExpandDuration","region","ensightenTrackingEnabled","allowAutoExpand","showtimesFooter","pressKitFooter","hasTextPage","autoExpanding","updateCoveredScreenSize","componentWillReceiveProps","nextProps","lowestSection","elem","fallBackColor","activePageData","defaultFooter","sticky","$cta","offsetHeight","collapseTimer","openEvidon","evidon","notice","showPreferencesDialog","isLoneVideoDefaultFooter","pageExceptions","otherPages","showtimesScroller","logos","links","copyright","footerBgStyling","footerStyle","openWrapper","closeBtn","$COLLAPSE_FOOTER_ARIA","studioDetails","getLogos","renderLinks","footerCopyright","tealiumAction","DisneyGDPR","Core","openPreferencesDialog","ensightenAction","__dataLayer","OneTrustDialog","items","isOfAge","item","ageGateShowOnly","excludeFromShowtimes","showtimesOnly","geo","countryCode","r","toLowerCase","isAuRegion","__REGION__","push","footerLegalLinks","concat","fileImg","logo","$copy","markdownContent","startsWith","instant","openCookieConsentTool","disableNoOpNoRef","rel","renderExtra","scrollElem","isHomeEntFooter","videosFooter","loneVideoDefaultFooter","stickyState","staticAutoExpand","inlineFooter","signUpFormFooterLinks","ctaOpenCopy","ctaCloseCopy","toggleButtonText","toggleButtonAria","$EXPAND_FOOTER_ARIA","signUpOpen","signUpFormHeight","paddingBottom","dedicatedIframePage","lastSectionId","hasWatchMoreShadow","watchMore","synopsisFooterShadow","synopsis","addShadowToFooter","tiledItemsFooterShadow","tiledItems","needsShadow","sonyFooter","shadow","noSynopsisOrGallerySections","outer","noLegalBtn","scrollTop","getElementById","$SCROLL_UP_ARIA","arrow","sizer","cta","footerLegalButton","openCropper","arrowTop","Section","arrayWithUniqueKeys","isVideosPage","getPlaylistData","Download","VideoPlayer","SharePopout","Share","Transition","slugify","TOUCH_SLOP","TRANSITION_DURATION","Gallery","_defineProperty","array","foundYoutubePlaylists","obj","youtubePlaylistId","replacePlaylistWithVideos","loading","activeVideo","nextMediaContent","getNextVideo","images","changeImageRelative","activeVidIndex","findIndex","vid","autoRotate","hasMultipleGalleries","pageData","galleryData","contentCarousel","isMiniGallery","isEmbeded","gallery","paramountFeatures","toutCarousel","galleryHash","galleryDataArray","fileName","pdfSrc","altKey","unpackYoutubePlaylists","loadedSrcs","observerCallback","onDragStart","onDrag","onDragEnd","onImageClick","imageLoaded","renderImageLoader","downloadAll","downloadAllAsSingleFile","togglePlaying","videoClickHandler","onImageShare","getImageForHash","useDownloadAttribute","createElement","activeImage","getActiveImage","activeImageUrl","getSrc","activeImageIndex","img","isVideo","videoSrc","vimeoId","youtubeId","disneySrc","observer","IntersectionObserver","threshold","observe","contentWrapper","nextRotationTimer","changeImageTimeout","unobserve","disconnect","combinedId","isIntersecting","intersectionRatio","firstAutoRotationTriggered","setAutoRotateTimer","videoDataArray","Promise","all","getVideosFromPlaylist","concatArray","removeYoutubePlaylists","sortPlaylist","a","b","order","playlistOrder","reverse","indexOf","snippet","resourceId","videoId","playlistId","noCookies","thumbnails","medium","sort","thumbSrc","galleryComps","totalGalleries","activeImageFromStore","foundInGallery","selectVideoSrc","isSelectVideo","changeActiveImage","newSrc","history","replaceState","search","srcHasNotChanged","mobileSrc","tabletSrc","desktopSrc","isDesktop","grabbed","button","touches","transition","eventSource","pos","pageX","x","y","pageY","previous","lastEvent","deltaX","deltaY","transform","cancelable","speed","swipeToChange","offset","opts","direction","download","isEdge","c","context","getContext","width","naturalWidth","naturalHeight","drawImage","toDataURL","display","appendChild","click","removeChild","downloadImage","index","galleryImage","$galleryImage","movieSlug","isGIF","downloadGifOrPdf","crossOrigin","result","fetch","blob","URL","createObjectURL","dataset","downloadurl","forEach","path","isPDF","downloadAllInProgress","boolean","playing","triggerImageClick","shareMetaOverrides","imageUrl","siteUrl","metaOverrides","toggleShare","currentAssetSrc","autoRotateWaitingForLoad","videoPlayer","videoPlaying","renderArrow","rightArrowAria","leftArrowAria","arrowBtn","renderNavDots","activeKey","navDots","activeDot","isFirst","isLast","dotBtn","pointer","dot","goingLeft","goingRight","renderDownloadButtons","canDownloadAll","canDownloadSingle","customDownloadAll","downloadAllButton","useCustom","downloadContent","$ALL","downloadIcon","inProgress","downloadAttrs","downloadButton","lowerOpacity","downloadInProgress","$DOWNLOAD_ALL_ARIA","_extends","downloadBtnContainer","galleryDownloadButtons","downloadSingle","$DOWNLOAD_IMAGE_ARIA","$PDF","$IMAGE","spinner","onMarkdownClickCapture","renderImage","transitionDuration","imageTransitionContainer","visibleClass","imageTransitionVisible","leavingClass","imageTransitionLeaving","clickable","onTouchStart","onMouseMove","onTouchMove","onMouseUp","onTouchEnd","sameWindow","renderVideo","isYoutube","videoContainer","onPlay","onPause","noAutoplay","onLoaded","onLoadedHandler","onEnded","onEndedHandler","overrideStyles","autoMuteVideos","touchOverlay","pointerEvents","renderPDF","pdf","hasThumbnail","embed","renderContent","renderShare","shareCopy","$GALLERY_SHARE","$SHARE","share","$GALLERY_SHARE_ARIA","sharePopout","shareOpen","imageShareLink","toggleSharePop","shareUrl","shareImage","galleryTitle","canShare","galleryDescription","hideArrowsMobile","hideArrowsDesktop","shouldShowControls","showMobileArrows","activeSection","hasGif","isSafari","iosChromeGif","isSection","hasDownloads","hasExtraActions","includeTopArrows","miniGallery","$container","renderBgContent","inner","withMobileArrows","imageWrapper","arrows","mobileArrows","noDownloads","bottomWrapper","annotationTransitionContainer","annotationTransitionLeaving","galleryAnnotations","extraActions","renderOverlayedContent","isDualViewEnabled","getIsShowtimesOnlyIframed","getAppRegions","getCopyWithParams","HeaderExpanded","openNavMenu","showShowtimes","showHomeEnt","showCalendarRemind","triggerBurgerBtn","triggerActionButton","renderExtraActions","toggleRegionSelector","getRegionList","limitExceeded","dualViewEnabled","hasDynamicButton","forceShowtimesRefresh","regions","JSON","stringify","powsterHeader","regionSelector","extraRegions","specificRegions","disabledRegions","includeToggle","includeRegionsToggle","useLanguage","lang","languageFull","language","regionSelectorShowing","getCurrentHeaderAction","actions","customPath","action","getCurrentActionBtnAction","homeEntOpen","lastAction","shouldHideActionBtn","actionData","interstitialOpen","isPersistentBtnExcluded","btn","pageExclusions","exclusions","getSectionSpecificStyle","sectionUnderHeader","customHeaderColorsPerSection","variables","err","homeEntVisible","trackPersistentButtonClick","triggerPersistentButton","sharePopoutOpen","shareData","webShareEnabled","webShare","navigator","socialCopy","log","message","showtimesVisible","pressKitVisible","homeEntMerchantOpen","onlyShowtimesAndVideo","every","actionBtnColor","iconComponent","close","back","btnAriaLabel","$CLOSE_SHOWTIMES_ARIA","$BACK_BTN_SHOWTIMES_ARIA","hideActionBtn","isShowtimesOnlyIframed","externalBannerOpen","bannerPushDown","buttonStyle","left","outerActionButton","actionButton","homeEntBtn","pressKitBtn","providerInterstitial","renderRegionSelector","regionSelectorCta","$REGION_SELECTOR_COPY","$REGION_SELECTOR_LANG_COPY","allRegions","regionSelectorStyle","footerHeight","regionSelectorOverlay","showing","backdrop","regionSelectTitle","closeRegionSelector","$REGION_SELECTOR_CLOSE_BTN_ARIA","defaultRegionName","defaultLangName","$REGION_BTN_CURRENT_REGION_ARIA","regionSelectCountryCodes","$REGION_BTN_ARIA","renderPersistentButton","showtimesOverlay","homeEntOverlay","pressKitOverlay","boltShowtimes","persistentButtonOverride","excludeFromSection","previewProviderInterstitialOpen","buttonData","calendars","copyVariable","btnCopy","aria","$CALENDAR_REMINDER_BTN_ARIA","ageRestricted","$FIND_CINEMAS_BTN_ARIA","additionalStyles","headerCta","persistentBtn","sectionSpecificStyle","persistentCTAHeaderButtonBg","persistentCTAHeaderButtonBgHover","persistentCTAHeaderButtonTxtColor","persistentBtnLabel","homeActive","dualView","shareStyle","headerShareMovie","headerShareMovieMob","hideShare","shareBtn","showtimesShare","homeEntShare","pressKitShare","inactive","$OPEN_SHARE_ARIA","headerShare","shareDetails","closeBtnstyle","renderHeaderLogo","headerLogo","pageInclusions","headerLogoExclusions","headerLogoInclusions","hideHeaderLogo","unclickable","renderSonyHeader","sonyFeatures","sonyHeader","sharedMedia","urls","roots","sonyPicturesLink","$SONY_PICTURES_LINK","sonyLink","$SONY_LINK","a11y","languageSelector","currentLanguage","otherUrl","one","nameFull","sonyCALanguageSelector","separator","sony","zIndex","$SONY_PICTURES_LINK_ARIA_LABEL","sonyPicturesLogo","$SONY_PICTURES_LOGO_ALT","right","$SONY_LINK_ARIA_LABEL","sonyLogo","$SONY_LOGO_ALT","hubTextOverlayOpen","locationClassName","regionSelectorEnabled","hideBurgerMenu","burgerMenuAriaLabel","$OPEN_NAV_ARIA","$CLOSE_NAV_ARIA","$CLOSE_ONESHEET_ARIA","$CALENDAR_REMINDER_CLOSE_ARIA","$CLOSE_VIDEOS_ARIA","navDisabled","nav","menuText","$NAVIGATION_LABEL","showMenuText","navLabelStyle","headerNavLabel","burgerStyle","headerNavIconOpen","headerNavIconOpenMob","isBurgerIcon","headerContainer","burgerMenuBtn","showRegionSelector","regionSelectorClick","getMainPage","filterUnusedPages","Socials","closeAndNavigate","updateLinks","isSplitHeader","featuredLinks","navItems","filteredNavItems","standardLinks","linkType","trackNavLink","linkName","groupBookingsEnabled","groupBookingsShowtimes","cmp","hashInPage","getLinkSizing","isLinkOut","h4","h3","renderLink","element","isFeatured","calendarEnabled","isInternalLink","sizing","$MENU_CALENDAR_REMINDER","font","navSecondaryLink","navPrimaryLink","regionData","regionSelectorCustomisation","currentRegionNameOverride","slug","currentRegionLabel","regionSelectorButton","$REGION_SELECTOR_BTN_ARIA","renderSocial","socials","getTTSize","titleTreatmentSize","ttStyle","pushDown","bannerPushDownMobile","ttSize","deviceBreakpoint","maxWidth","maxHeight","standard","featured","totalLinks","splitHeader","hasRegionSelector","hasManyLinks","inert","linksContainer","joinPaths","getPagePath","Facebook","Whatsapp","Twitter","Pinterest","Tumblr","Viber","Mail","Telegram","Copy","Check","icons","facebook","whatsapp","twitter","pinterest","email","mail","tumblr","viber","telegram","copied","shareItems","__IS_LOCAL__","relativeUrl","currentPageData","fill","getSharingLink","renderIcon","copyToClipboard","handleClose","timeout","getShareURL","useMetaUrl","removeLocationQueryParameter","searchParams","delete","toString","safeString","encodeURIComponent","URLS","en","copyTimeout","shareCTA","marginTop","rtlContainer","headline","headerShareCta","$CLOSE_SHARE_ARIA","shareButtons","copyButton","$COPY_LINK_BTN_ARIA","shareButton","$SHARE_ARIA","backgroundContainer","xmlns","viewBox","Giphy","cx","cy","Snapchat","Spotify","Threads","Tiktok","svgStyle","Vimeo","Youtube","Phone","quizPhotobooth","phoneIcon","Matterhorn","onPlayerReady","iframe","allowfullscreen","webkitallowfullscreen","mozAllowFullScreen","allow","sandbox","frameborder","loadScript","NativeVideo","progressTracking","videoName","videoPaused","progressTracker","videoCanPlayHandler","$video","autoplay","Hls","initHLS","fromStart","cancelAnimationFrame","isSupported","hls","loadSource","attachMedia","videoCanPlay","canPlayCallback","trackProgress","progress","step","time","platform","isShowtimesMessage","isTrailerOverlay","isTrailer","requestAnimationFrame","useTracking","newState","actualNewState","reduce","o","k","val","captionsLabel","captionsSrc","videoFile","playsinline","controls","posterSrc","nativeVideo","srclang","captionsLang","SectionBackground","contentBelow","sectionBackground","showAgeGate","hasAgeGate","overlayedContent","tiled","tileSize","forceBgSize","preloadImg","alternativeImageFormat","bgPosition","disableLoop","_ref3","wrapperStyle","fallbackImg","backgroundSize","substring","Twitch","Instagram","iconStyle","twitch","instagram","youtube","snapchat","tiktok","spotify","giphy","vimeo","threads","social","destination","iconURL","iconSrc","iconNav","rtlSocial","$SOCIAL_ARIA","breaks","Text","scrollOnHashChange","updateHash","scrollToGallery","updateHashAndScrollToGallery","getPageWidth","renderText","renderGallery","renderCountdown","elems","querySelectorAll","targetElem","size","largeDesktop","smallDesktop","trackButtonClick","targetDateTime","timeZone","ctaButton","countdownTextWrapper","hasGallery","needsPushDown","countdownClock","countdownPos","hasCountdownClock","noBg","debounce","DISPLAYED_TOUTS","ToutHorizontal","usingScrollWheel","touts","getTouts","onToutsContainerScroll","move","snapToClosestTout","setUsingScrollWheel","setNotUsingScrollWheel","snapTimeout","carousel","tout","scrollingTo","$toutsContainer","maxScroll","scrollWidth","repeatingSize","scrollLeft","getClosestChild","closestDist","Infinity","scroll","elCenter","offsetLeft","offsetWidth","dist","trackAction","firePowsterCustomEvent","scrollTo","checkScrollPositionAfter","relativeTo","callback","currentElement","previousElementSibling","nextElementSibling","trackToutClick","triggerButtonClick","renderTout","keySuffix","imageOnly","buttonElement","toutContent","toutStuff","toutTitle","toutDescription","showGradient","flex","renderTouts","tooManyTouts","deviceWidthSize","toutsWrapper","toutsContainer","onScroll","onMouseWheel","renderArrows","isShallowEqual","hideLoader","showLoader","toggleLoader","onReady","disableYoutubeCookieCheck","shouldComponentUpdate","hiddenPlaylist","ageGateProtected","player","onStart","disableCookieCheck","videoHash","vimeoHash","keepAspectRatio","loader","once","onProgress","initVimeo","destroy","Player","loadPlayer","VimeoLoader","resolve","reject","vimeoIframe","percent","fullscreen","oneTrust","updateInstanceCounter","started","getProgress","onPlayerStateChange","usesEvidon","companyId","usesOneTrust","scripts","configuredFromExternalScript","usesPowCookieBanner","needsCookieCheck","blocked","shouldBlockRender","initYoutube","wasBlockedBefore","videoIdChanged","progressUpdate","readyTimeout","unmounted","oneTrustAllowed","pauseVideo","getDuration","YT","ready","YTLoader","onYouTubeIframeAPIReady","instanceCounter","$ytPlayer","existingTarget","parentNode","setAttribute","host","events","onStateChange","playerVars","enablejsapi","mute","unMute","getCurrentTime","videoLength","videoData","getVideoData","videoTitle","getShowCookieSettingsFunction","renderBlocked","prompt","$VIDEOS_COOKIES_FUNCTIONAL","$VIDEOS_COOKIES","showCookieSettings","responsiveResize","$VIDEOS_COOKIES_SETTINGS","renderPlayer","connectToOneTrust","FUNCTIONAL","TARGETING","getNewTabRenderer","newTabRenderer","defaultLinkRenderer","call","HTMLTag","markdownOptions","forceNewTabLinks","extraProps","dangerouslySetInnerHTML","__html","transitionStates","pendingPromise","f","endTimer","timerFunc","afterTimer","preventExecution","childGenerator","getChildGenerator","initialState","firstChild","firstChildState","STATE_CHILD_ENTERING","secondChild","secondChildState","STATE_CHILD_EMPTY","upcomingChild","disableInit","noInitialTransition","STATE_CHILD_VISIBLE","setTimer","getNextStep","waitBeforeNext","newChildId","getId","oldChildId","firstVisible","secondVisible","goToNextPage","renderDone","renderChildren","vNode","firstChildVisible","secondChildVisible","next","childType","currentState","STATE_CHILD_LEAVING","getActiveClass","enteringClass","emptyClass","entering","leaving","empty","baseClass","firstChildNode","secondChildNode","styles","getStyles","nodeName","transitionState","firstChildClass","secondChildClass","Loader","isEmptyObject","pageTypesCache","activeRequest","componentKey","components","usePage","pagesEqual","updateCurrentPageProps","page1","page2","updateActiveComponent","removeTimer","removed","rendered","transitionOut","desiredDelay","removeDelay","delay","isFinite","activeProps","currentComponent","getter","raw","Page","handleApiResponse","serviceYoutubeEndpoint","Error","UPDATE_STORE","BEFORE_LOAD","PAGE_STATE_LOADED","START_API","GMAPS_LOADED","URL_CHANGED","API_ERROR","CLOSE_APP","UPDATE_LOADER","SET_BG_STATUS","SET_ACTIVE_PAGE","SET_CLIENT_SIZE","START_FORCE_CLIENT_ORIENTATION","STOP_FORCE_CLIENT_ORIENTATION","SET_BACKGROUND_VIDEO_PLAYING","SET_BACKGROUND_VIDEO_ENABLED","SET_BACKGROUND_VIDEO_MUTED","SET_BACKGROUND_ELEMENT","UPDATE_BACKGROUND_SETTINGS","CALENDAR_CLICKED","MESSENGER_CLICKED","HOMEPAGE_TRAILER_ENDED","CLICKED_FOLLOW","HOME_BUTTON_CLICKED","GALLERY_VIEW_IMAGE","GALLERY_VIEW_IMAGE_FULLSCREEN","GALLERY_DOWNLOAD_IMAGE","VIDEO_PLAYER_PROGRESS","VIMEO_VIDEO_PROGRESS","VIDEOS_TICKET_CLICK","KALTURA_VIDEO","MATTERHORN_VIDEO","JW_PLAYER_PROGRESS","HOMEENT_VENDOR_CLICKED","SMART_HOMEENT_SELECT","SMART_HOMEENT_LINK_CLICKED","SET_SIDE_NAV_OPEN","SET_SIDE_NAV_ACTIVE","CLICKED_SHARE","LINK_CLICKED","EXTERNAL_LINK_CLICKED","HEADER_HIDDEN","SET_CLIENT_GEO","GET_SCREENINGS","UPDATE_DYNAMIC_DATA","SET_THEATERS","ADD_THEATERS","SELECT_THEATER","SELECT_MACCS_THEATER","VISIBLE_MACCS_THEATER","SET_MAP_OPEN","SET_CITIES","SET_CITY_SHOW_COUNT","SELECT_NEARBY_CITY","UPDATE_THEATER_FILTERED_SCREENINGS","AFTER_THEATERS_UPDATE","EXTRA_THEATERS","DO_LOCATION_SEARCH","FIRST_DATA_LOADED","SCREENINGS_LOADED","SELECT_ST_DATE","SELECT_PROVIDER","SELECT_TIME","SELECT_SCREENING","TICKET_LINK_CLICKED","SHOW_SCREENING_AUTH","OPEN_TICKETING","REOPEN_TICKETING","GO_TICKETING_TYPES","UPDATE_TICKET_TYPE_QUANTITY","CREATE_OR_UPDATE_ORDER","UPDATE_ORDER_TICKETS","GO_TICKETING_SEATING","PICK_OR_UNPICK_SEATS","UPDATE_TICKETING_SEATS","FLUSH_SEAT_LAYOUT","GO_TICKETING_REVIEW","GO_TICKETING_CONTACT_DETAILS","GO_TICKETING_PAYMENT","OPEN_PAYMENT","PAYMENT_MESSAGE_RECEIVED","CLOSE_PAYMENT","TICKET_PURCHASE_COMPLETE","SET_TICKETING_MESSAGE","CLEAR_TICKETING_MESSAGE","GO_TICKETING_TIMEOUT","CLOSE_TICKETING","MAP_REQUEST_DIRECTIONS","CHECK_FILTERS","RELOAD_FILTERS","TOGGLE_FILTER","FILTER_EXCLUDE","FILTER_DISABLE","SET_FILTER_VISIBILITY","RESET_FILTER","RESET_FILTERS","APPLY_FILTERS","SEARCH_NEW_CITY","SHOW_MODAL","HIDE_MODAL","UPDATE_MODAL","SHOW_COOKIES_MODAL","MODAL_RESULT_OK","MODAL_RESULT_CANCEL","APP_LIST_SCROLLED","MOVIES_LIST_SCROLLED","SCREENINGS_LIST_SCROLLED","EVENT_DATA_LIST_SCROLLED","QUIZ_STARTED","RIGHT_OR_WRONG_QUIZ_FINISHED","SET_USER","SET_USER_REGION_MODAL_DISMISSED","SET_IOSFIXEDFIX","YOUTUBE_READY","YOUTUBE_PROGRESS","YOUTUBE_ENDED","YOUTUBE_PAUSE","YOUTUBE_PLAY","YOUTUBE_START","VR_SET_MODE","SCROLL_LOCK","SCROLL_UNLOCK","ONETRUST_SHOW","ENABLE_STORAGE","DISABLE_STORAGE","ENABLE_PIXELS","DISABLE_PIXELS","POWSTER_GA_EVENT_TRACK","POWSTER_GA_PAGE_VIEW_TRACK","LOAD_STATIC_PIXELS","LINK_CLICK_OUT","AUTH_RESPONSE","AUTH_CLEAR","CLOSABLE_TRAILER_OPEN","CLOSABLE_TRAILER_CLOSED","DOWNLOAD_WORKBOOK","SCROLLSITE_BUTTON_CLICK","SCROLLSITE_GALLERY_ITEM_CLICK","SCROLLSITE_RESOURCE_CLICK","SIGN_UP_SUBMIT","setCookie","waitForOneTrust","disableBodyScroll","enableBodyScroll","loadExtraOneTrust","oneTrustData","oneTrustScripts","waitForAgeGate","cookie","toUTCString","script","inlineContent","integrity","dataDomainScript","async","consentGiven","cookieExpiry","expiry","Optanon","RejectAll","addClass","removeClass","prevDef","evt","passive","dispatchEvent","constants","POWSTER_COOKIE","cookiesStore","cats","allCats","expires","cookieCategories","allowedCategories","autoOptIn","autoOptInCategories","displayModal","reload","addChangeListener","$","selector","resizeObserver","ResizeObserver","contentRect","updateCookieBanner","lookForCookieBanner","start","check","evidonPushDown","oneTrustPushDown","bannerContainer","bannerOpen","visibleRatio","footerElem","percentage","footerStore","rounded","ceil","footerActivePercentage","activePercentage","imageShareApi","toQueryString","shareBaseUrl","currentLocationRequest","source","ticketType","requestId","storeGeo","lat","lon","newValue","country","toCommaSeparated","isArray","onesheetExpanded","filters","selected","city","format","v","headerState","isEmpty","getPageTitle","getPageFromVideoId","getDeviceInfo","getBaseFilters","geoFencing","hooks","newClient","newPageData","groupBookings","isEnabled","noUrlUpdate","newUrl","pushState","disableAutoScrollReset","getDesktopOffset","hasSonyHeader","isHubPage","getMobileOffset","getSectionElement","noSlug","parentSection","sectionLoadVersion","toElem","hasUarHeader","scrollOffset","forceScrollOffsetDesktop","forceScrollOffsetForSection","forceScrollOffsetMobile","ignoreNextScroll","go","scroller","scrollDuration","force","version","listener","loadedId","scrollListener","updateSiteContent","getRegionURL","limitlessKey","localStorage","getItem","useLimitlessKey","socialInterstitialEnabled","pageType","pageNeedsApi","disableGeo","isMainScrollPage","preSelected","debug","app","disablePointerEvents","allowTouchMove","parentElement","requestedSections","lines","args","unshift","OneTrust","ToggleInfoDisplay","hasShowtimesPage","hasHomeEntPage","selectedFilters","filterType","filterValues","apiKey","usingLimitlessKey","setItem","asList","maybeHandle","formatDateTime","cached","tealiumTheaterData","theater","predicate","t","cinemaName","cinemaChain","USE_LEGACY_TRACKING","isProd","__IS_DEMO__","tealiumTrackingAllowed","preventCookies","isFirstVisit","user","tealiumTrackingBase","getTealiumTrackingData","assign","tealiumPageViewTrack","utag","view","tealiumActionTrack","languages","gb","us","au","tealiumProfiles","getPowsterCustomGA","powsterCustomGA","apis","powsterGATracking","category","powsterGtag","tagIds","studio","debug_mode","send_to","event_stream","event_category","event_label","event_region","event_studio","allow_google_signals","powGtagCat","firePowsterGtagPageView","tagId","page_title","page_path","anonymize_ip","custom_map","dimension1","cookie_flags","firePowsterGtagLoad","round","startLoadTime","updateDataLayerPageView","cleanId","m","params","sonyDataLayer","movieTitle","pageTitle","currentPageSlug","dataLayer","fireLionsgateTracking","lionsgateAdswerve_Old","lionsgateAdswerve","dxNumber","genres","distributionWindow","titleName","dxNumbers","genre","environment","pageContentType","siteType","fireLionsgateTicketClick","screening","content_title","theater_name","showtime_date","showtime_time","fireLionsgateSelectTheater","fireLionsgateConversion","click_text","provider","updateDataLayerConversion","theaterCity","theaterState","theaterStreet","theaterCountry","theaterFullAddress","theaterUrl","fullAddress","address","theatre","exhibitor","updateDataLayerShare","socialSite","updateDataLayerCitySearch","updateDataLayerFilters","timeOfDay","filterDate","filterTimeOfDay","filterFormat","fireGtag","gtag","allow_custom_scripts","disableDefaultPageView","code","alternateSlug","tealium","enableTealium","movieName","propertyCode","utag_data","profile","scriptUrl","gtm","uaId","landingConversion","imageName","_ref4","tealium_event","video_playhead","video_id","video_platform","travelMode","chain","concatChainName","dateTime","setHours","targetLink","direct","showDateTime","toISOString","dateSelected","parsedDate","conversion","times","formattedDate","formats","searchPhrase","_ref5","toutType","actionValue","merchant","selectedFormat","availability","product","dataProvider","edition","price","cat","__INITIAL_STATE__","ensightenPageViewTrack","siteName","_dl","page_name","site","trackPage","ensightenActionTrack","eventData","publish","event_name","actionName","_ref6","_ref7","_ref8","showName","closed","subscribed","showMailchimpPopup","isLanding","ignoreClosedCookie","ignoreSubscribedCookie","cookiePopupClosed","cookieSubscribed","triggerPopup","dojoRequire","mailchimpPopup","untilDojoRequireIs","L","uniqueMethods","runHTMLScripts","escapeObjectValues","showLogs","_len","_key","logPixel","pixel","static","_init","_getStaticPixels","_register","_fire","_getVariables","USE_TRACKING_V2","pixels","queues","shouldUsePixel","prodOnly","register","addToQueue","withVariables","escaped","variable","hasOwnProperty","runCode","eval","fire","triggered","has","useQueue","getStaticBaseVariables","movie","__TITLE__","studioName","__STUDIO__","releaseDate","dates","release","boxOfficeDate","boxOffice","vanityUrl","domain","customVariables","getVariables","eventSpecific","customExpanded","fromEntries","getPageName","nameValue","pageWithoutBolt","l","first","wordEnd","nextWord","firePageView","loadTime","screeningDate","screeningTime","ticketProvider","screeningMovie","screeningMovieTitle","socialSharePlatform","socialFollowPlatform","synopsisImage","_","toutLabel","chainName","theaterChainName","_ref9","calendarLabel","_ref10","showtimesMessage","_ref11","_ref12","_ref13","getStaticPixels","_len2","_key2","_len3","_key3","_len4","_key4","overlayTriggered","Freezer","reactionName","dispatch","eventName","Event","IMAGE_REGION_ROOT_DYNAMIC","imageRegionRoot","imageRegion","assetUpdateDateTime","useAssetUpdateDateTime","newRoot","api","endpoint","fetchOptions","headers","referrer","countries","approxPos","topPages","pagesAndSubpages","flatMap","showtimesPages","showtimesPage","apiUsageInterstetialEnabled","apiUsageInterstetial","spreadsheetId","useV2","expandedTheater","inCinemaDetailView","include_theaters","rules","changesSheet","rules_groups","customRule","parameters","normParameters","activePagePath","isAltered","localserver","serverDebugLogs","debugLogs","res","ok","status","limitlessKeyPreviouslyUsed","json","homeEntApi","dataToSend","justWatchId","jwRegion","jwFilmIdType","fafId","thundrData","useDummyData","jwFilmId","jwLocale","jwSupportedLocales","fafFilmId","method","fr","de","br","nz","ca","ca_fr","za","ie","mx","jp","nl","be","be_fr","be_nl","se","th","pt","cz","no","ru","in","ch","ch_ch","ch_fr","at","ph","sg","pl","fi","gr","tr","co","dk","ar","cl","es","kr","it","lt","pe","ee","lv","my","hu","ve","ro","ec","userFeedbackApi","response","dimensions","getDims","getDevice","getSize","getOrientation","getIsIOS","getIsEdge","getIsSafari","getIsDesktopWidth","isSocialWebview","getIsSocialWebview","innerWidth","agent","userAgent","maxTouchPoints","byWidthOnly","breakTablet","breakSmallDesktop","breakDesktop","breakLargeDesktop","breakpoints","breakpoint","isIpad","ua","edge","isIframed","self","isSinglePage","getShowtimesData","currentLocationOptions","capitalURL","capitalRes","geoSearch","allAllowedRegions","boundingRegions","aAllowed","bAllowed","geoSearchOne","forceShow","commaSeparatedList","stringWithParams","buildClientStoreData","deviceOrientation","mobileLandscape","tabletLandscape","replaceVH","getSizeOverride","getTTSizeOverride","normalizeRegion","relativeRoot","alternatePaths","baseHtml","count","pageList","homePage","videoPages","list","forceLive","goLiveDate","getPageType","hasWidget","declarations","sheet","head","insertRule","cssRules","pageAndHash","replaceAll","isObjectOrArray","_merge","merge","objects","merged","getPageMeta","metaTags","doc","pageSpecificMeta","pageSpecificMetaTags","PAGE_NAME","parseInt","linkOut","getSectionsWithContent","hasChildNodes","defaultDate","validTimes","audioDetails","formatArray","timeArray","movies","queryArray","movieDataEntries","movieData","queryMovieIds","q","matchingEntry","entry","movieId","querySlug","replaceAccentedChars","desiredDate","baseDefaultDate","mimeTypesMap","jpg","png","getMimeType","ext","fallback","srcset","fn","ran","cache","clearTimer","cachedFunc","expireIn","ms","reset","nameEq","parts","part","isCopySet","copyKey","fromCopy","boltCopyType","copyItem","substr","realKey","regex","RegExp","localeDefaults","tokenLen","baseFunctions","parseRepeatPattern","$TIME_SEPARATOR","$DATE_SEPARATOR","parseQuoted","$AM","$PM","$DAYS_SHORT","$DAYS_FULL","$MONTHS_SHORT","$MONTHS_FULL","$ORD","transforms","pad","getHours","H","getSeconds","noZeroes","getMilliseconds","vl","isUppercase","designator","T","getDate","mode","trf","getDay","M","getMonth","z","ret","quote","triggerOrQueue","Pixel","shouldQueue","createTrigger","_this","LEVELS","changeListeners","newCats","powsterOneTrust","getChangeListeners","removeChangeListener","STRICTLY_NECESSARY","PERFORMANCE","ADVERTISING","SOCIAL","createPixelComponent","Components","PixelComponent","onCategoriesChange","nextState","nextCategories","displayedComps","comp","dict","ids","didomiCategories","queue","drain","getCookieCategories","Didomi","getUserConsentStatusForAll","purposes","useDidomi","isDidomiInitialized","didomiOnReady","activeGroups","newGroups","detail","bubbles","E","CustomEvent","FakeEvent","createEvent","initCustomEvent","evidonCategories","otherCallbacks","priorConsentCallback","lastCats","rest","protectCallback","defineProperty","_evidon","didomi","sme","cleanCategory","oneTrustCategory","C","OneTrustComponent","onOneTrustCategoriesChange","oneTrustCategories","passToIframe","decodedCookie","matching","OptanonConsent","OptanonAlertBoxClosed","pass_data","OptanonActiveGroups","frames","postMessage","listenToIframe","inOneYear","OnetrustActiveGroups","showtimesOneTrust","boltOneTrust","displayInIframe","checkAndHideOneTrust","checkAndHideStart","oneTrustWrappers","optanonElement","alertBoxWrappers","getElementsByClassName","loadPromise","oneTrustFix","oneTrustOverlapFix","buttons","bindEvent","eventHandler","attachEvent","banner","opacity","pixelConsent","bannerDisplay","getPropertyValue","getElementsByTagName","shift","isOptatonInitialised","existingOptanonWrapper","OptanonWrapper","managed","prevQueue","addHandlerToCookieAccept","acceptButton","useSME","arrayUnique","tealiumCategories","gdpr","getCookieValues","useTealium","updateCategories","checkLoad","matches","isObject","defaultRedirect","geoFencedLocation","hostname","loopRisk","allowSameHostRedirect","exec","defaultGetRegionURL","getPathFromRoot","root","rootOriginAndPath","currentOriginAndPath","getGeo","redirect","redirectionActive","accessedPath","opt","include","getDestination","stripPath","stripQS","stripHash","geoFence","geofencing","redirectObj","redirection","appRegion","regionAllow","allowRegions","ignoreFor","ignoreGeoFence","regionUrl","defaultLink","stripRedirectionPath","optionsList","option","checklist","countryNot","_getCopyWithParams","attribute","_n","isError","handleApiResponseText","returnValue","callbacks","priority","_priority","added","lastTouchTime","clamp","min","lerp","ilerp","mod","scale","fromMin","fromMax","toMin","toMax","clampResult","easing","Easing","x1","y1","x2","y2","dx","dy","sqrt","linear","ease","exp","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","decodeSafe","decodeURIComponent","prom","_resolve","_reject","isSameProp","pureRenderDecorator","finisher","Base","execScripts","node","tagName","innerHTML","attr","hasAttribute","pixelsElem","normalize","getTime","getScroll","hor","pageXOffset","pageYOffset","setScroll","getElemPos","prop","last","offsetParent","endScroll","_smthscrl","relativeToKeywords","oneDir","horizontal","currentScroll","dirIndex","previousScroll","to","sizeProp","rT","maxPos","offsetStart","minPos","offsetEnd","parseFloat","from","directions","ver","both","directionsArray","dur","settings","scrollingElement","scrollHeight","compatMode","defaultEasing","dir","timeStart","stop","smoothScrollBy","isSmoothScrolling","_stringWithParams","g","thisArg","onEvent","throttle","scope","clear","deferTimer","done","hasClass","triggerAnim","toggleClass","condClass","cond","cn","expandClasses","classes","mapKey","hasMap","def","len","Set","arrayUnion","appDataDate","NaN","object","mapCallback","property","getProperty","objectByOrder","obj1","obj2","prop1","prop2","noProp1","noProp2","localeCompare","numeric","stringCompare","addToQuery","ks","addedVal","slash","il","hasOnlyNumericKeys","objToArr","arr","idx","sanitizeObj","out","textToJsxArray","reduceTextJsx","jsxArray","pathOnly","rpath","lastIndexOf","qsIndex","pointIndex","isNumeric","parseNumericArray","arrayStr","displayWhen","getStylingImagePath","imgName","defaultImg","inputObject","encodeHtml","encodeHtmlRecursively","arraysEqual","arr1","arr2","escapeString","acc","rect","getBoundingClientRect","windowHeight","visibleTop","visibleBottom","isScrolledIntoView","closestToCenter","elements","goal","prevDist","isSectionUnderHeader","NETFLIX_BUTTON_CLICK","NETFLIX_GALLERY_ITEM_CLICK","NETFLIX_RESOURCE_CLICK","BaseComp","isSameWindowLink","opensInSameWindow","ctrlKey","shiftKey","metaKey","toutHorizontal","sectionsWithParent","isPreloaded","_getDefaults","extensions","gfm","pedantic","silent","tokenizer","walkTokens","_defaults","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","escape","encode","unescapeTest","unescape","String","fromCharCode","caret","edit","getRegex","cleanUrl","noopTest","splitCells","tableRow","row","curr","cells","splice","rtrim","invert","suffLen","currChar","findClosingBracket","level","outputLink","cap","lexer","inLink","token","tokens","inlineTokens","indentCodeCompensation","matchIndentToCode","indentToCode","matchIndentInNode","indentInNode","_Tokenizer","space","block","newline","codeBlockStyle","fences","inline","_escapes","trimmed","depth","hr","blockquote","blockTokens","bull","isordered","ordered","loose","itemRegex","itemContents","endsWithBlankLine","endEarly","repeat","nextLine","indent","trimStart","blankLine","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","rawLine","istask","ischecked","task","checked","trimEnd","spacers","hasMultipleLineBreaks","pre","table","align","rows","j","lheading","paragraph","inRawBlock","trimmedUrl","rtrimSlash","lastParenIndex","linkLen","reflink","nolink","emStrong","maskedSrc","prevChar","lDelim","nextChar","punctuation","lLength","rDelim","rLength","delimTotal","midDelimTotal","endReg","rDelimAst","rDelimUnd","lastIndex","lastCharLength","codespan","hasNonSpaceChars","hasSpaceCharsOnBothEnds","del","autolink","prevCapZero","_backpedal","inlineText","_paragraph","_label","_title","bullet","listItemStart","_tag","_comment","normal","reflinkSearch","_punctuation","blockSkip","anyPunctuation","_scheme","_email","_attribute","_href","strong","endAst","endUnd","em","_extended_email","_Lexer","create","inlineQueue","lex","lexInline","leading","tabs","lastToken","cutSrc","lastParagraphClipped","extTokenizer","startBlock","startIndex","tempSrc","tempStart","getStartIndex","errMsg","charCodeAt","keepPrevChar","startInline","_Renderer","infostring","startatt","listitem","checkbox","tablerow","tablecell","flags","cleanHref","_TextRenderer","_Parser","textRenderer","parser","parseInline","renderers","genericToken","headingToken","codeToken","tableToken","cell","blockquoteToken","listToken","itemBody","htmlToken","paragraphToken","textToken","escapeToken","tagToken","linkToken","imageToken","strongToken","emToken","codespanToken","delToken","_Hooks","preprocess","postprocess","_parseMarkdown","WeakSet","_onError","Marked","_classPrivateMethodInitSpec","_classPrivateMethodGet","_parseMarkdown2","use","defaults","childTokens","pack","prevRenderer","extLevel","rendererFunc","rendererKey","tokenizerFunc","tokenizerKey","prevTokenizer","hooksFunc","hooksKey","prevHook","passThroughHooks","arg","_len5","_key5","packWalktokens","origOpt","warn","throwError","_onError2","msg","markedInstance","getDefaults","Parser","TextRenderer","Lexer","Tokenizer","Hooks","VNode","stack","EMPTY_CHILDREN","lastSimple","simple","vnode","extend","applyRef","current","defer","cloneElement","NO_RENDER","SYNC_RENDER","FORCE_RENDER","ASYNC_RENDER","ATTR_KEY","IS_NON_DIMENSIONAL","enqueueRender","_dirty","debounceRendering","rerender","renderComponent","isSameNodeType","hydrating","splitText","_componentConstructor","isNamedNode","normalizedNodeName","getNodeProps","defaultProps","createNode","isSvg","createElementNS","removeNode","setAccessor","old","cssText","eventProxy","_listeners","removeAttribute","ns","removeAttributeNS","setAttributeNS","mounts","diffLevel","isSvgMode","flushMounts","afterMount","mountAll","componentRoot","ownerSVGElement","idiff","prevSvgMode","_component","nodeValue","createTextNode","replaceChild","vnodeName","buildComponentFromVNode","fc","vchildren","nextSibling","innerDiffNode","isHydrating","originalChildren","childNodes","keyed","keyedLen","childrenLen","vlen","vchild","__key","recollectNodeTree","unmountOnly","removeChildren","lastChild","previousSibling","diffAttributes","attrs","recyclerComponents","createComponent","Ctor","inst","doRender","nextBase","setComponentProps","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","prevContext","syncComponentUpdates","isChild","previousProps","previousState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","cbase","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","childComponent","toUnmount","childProps","_parentComponent","baseParent","componentRef","afterUpdate","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","unmountComponent","beforeUnmount","createRef"],"sourceRoot":""}