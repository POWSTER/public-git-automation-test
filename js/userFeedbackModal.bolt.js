"use strict";
((typeof self !== 'undefined' ? self : this)["webpackChunkthundr"] = (typeof self !== 'undefined' ? self : this)["webpackChunkthundr"] || []).push([["userFeedbackModal"],{

/***/ "./static/src/components/bolt/icons/doubleTickets.js":
/*!***********************************************************!*\
  !*** ./static/src/components/bolt/icons/doubleTickets.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.mjs");


const DoubleTickets = props => {
  return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("svg", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    viewBox: "0 0 57 47",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, props), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
    "fill-rule": "evenodd",
    "clip-rule": "evenodd",
    d: "m14.16 13.433 6.87-6.869 1.904 1.905a4.728 4.728 0 0 0 .648 5.95 4.728 4.728 0 0 0 5.95.647l1.904 1.905-6.868 6.869L14.16 13.433Zm-1.189 22.003-1.905-1.907a4.72 4.72 0 0 0-.648-5.947 4.725 4.725 0 0 0-5.946-.648l-1.908-1.907L12.66 14.934l10.407 10.408-10.095 10.094ZM33.69 16.22l-3.328-3.326a1.063 1.063 0 0 0-1.502 0c-1.066 1.064-2.725 1.075-3.776.024-1.052-1.052-1.041-2.71.023-3.777a1.063 1.063 0 0 0 0-1.501L21.78 4.31a1.063 1.063 0 0 0-1.502 0l-7.618 7.62-1.502 1.502L.312 24.278a1.063 1.063 0 0 0 0 1.501l3.328 3.326a1.059 1.059 0 0 0 1.502 0c1.066-1.064 2.724-1.073 3.776-.021 1.051 1.051 1.04 2.71-.021 3.776a1.059 1.059 0 0 0 0 1.502l3.325 3.326a1.059 1.059 0 0 0 1.502 0l10.845-10.843 1.501-1.503 7.62-7.619a1.065 1.065 0 0 0 0-1.504Z"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
    "fill-rule": "evenodd",
    "clip-rule": "evenodd",
    d: "m20.833 35.384 4.523 1.295a1.063 1.063 0 0 0 1.313-.728c.417-1.447 1.863-2.261 3.292-1.851 1.429.41 2.224 1.865 1.81 3.314a1.063 1.063 0 0 0 .728 1.313l4.525 1.297a1.063 1.063 0 0 0 1.313-.728l2.968-10.359.585-2.041 4.228-14.744a1.063 1.063 0 0 0-.728-1.313l-4.523-1.295a1.059 1.059 0 0 0-1.314.728c-.416 1.447-1.863 2.259-3.292 1.85-1.43-.41-2.224-1.866-1.812-3.314a1.059 1.059 0 0 0-.728-1.313l-4.522-1.296a1.059 1.059 0 0 0-1.313.728l-4.227 14.74-.585 2.044-2.97 10.358c-.16.565.165 1.152.729 1.315Z"
  }), (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)("path", {
    "fill-rule": "evenodd",
    "clip-rule": "evenodd",
    d: "m39.264 28.352-2.677 9.338-2.59-.743a4.728 4.728 0 0 0-3.451-4.889 4.728 4.728 0 0 0-5.517 2.318l-2.59-.742 2.677-9.338 14.148 4.056Zm-9.63-19.82 2.592.744a4.72 4.72 0 0 0 3.45 4.887 4.725 4.725 0 0 0 5.515-2.317l2.593.743-3.935 13.722L25.7 22.255 29.635 8.53Zm-8.801 26.852 4.523 1.295a1.063 1.063 0 0 0 1.313-.728c.417-1.447 1.863-2.261 3.292-1.851 1.429.41 2.224 1.865 1.81 3.314a1.063 1.063 0 0 0 .728 1.313l4.525 1.297a1.063 1.063 0 0 0 1.313-.728l2.968-10.359.585-2.041 4.228-14.744a1.063 1.063 0 0 0-.728-1.313l-4.523-1.295a1.059 1.059 0 0 0-1.314.728c-.416 1.447-1.863 2.259-3.292 1.85-1.43-.41-2.224-1.866-1.812-3.314a1.059 1.059 0 0 0-.728-1.313l-4.522-1.296a1.059 1.059 0 0 0-1.313.728l-4.227 14.74-.585 2.044-2.97 10.358c-.16.565.165 1.152.729 1.315Z"
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DoubleTickets);

/***/ }),

/***/ "./static/src/components/bolt/userFeedbackModal/userFeedbackModal.js":
/*!***************************************************************************!*\
  !*** ./static/src/components/bolt/userFeedbackModal/userFeedbackModal.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ UserFeedbackModal)
/* harmony export */ });
/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ "./node_modules/preact/dist/preact.mjs");
/* harmony import */ var store_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! store/store */ "./static/src/store/store.js");
/* harmony import */ var store_bolt_userFeedbackModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! store/bolt/userFeedbackModal */ "./static/src/store/bolt/userFeedbackModal.js");
/* harmony import */ var components_bolt_icons_doubleTickets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! components/bolt/icons/doubleTickets */ "./static/src/components/bolt/icons/doubleTickets.js");
/* harmony import */ var components_bolt_icons_close__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! components/bolt/icons/close */ "./static/src/components/bolt/icons/close.js");
/* harmony import */ var components_bolt_icons_check__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! components/bolt/icons/check */ "./static/src/components/bolt/icons/check.js");
/* harmony import */ var utils_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! utils/utils */ "./static/src/utils/utils.js");
/* harmony import */ var utils_bolt__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! utils/bolt */ "./static/src/utils/bolt/index.js");
/* harmony import */ var utils_bolt_api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! utils/bolt/api */ "./static/src/utils/bolt/api.js");
/* harmony import */ var components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/bolt/userFeedbackModal/userFeedbackModal.sss */ "./static/src/components/bolt/userFeedbackModal/userFeedbackModal.sss");










class UserFeedbackModal extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor(props) {
    super(props);
    this.INITIAL_STEP = 'initialStep';
    this.BOOKED_TICKETS_STEP = 'bookedTicketsStep';
    this.WILL_BOOK_STEP = 'willBookStep';
    this.BOOKING_ISSUE_STEP = 'bookingIssueStep';
    this.THANK_YOU_STEP = 'thankYouStep';
    this.changeStep = this.changeStep.bind(this);
    this.closeModal = this.closeModal.bind(this);
    this.onTicketConversion = this.onTicketConversion.bind(this);
    this.initialState = {
      step: this.INITIAL_STEP,
      bookingIssue: '',
      timeToClose: this.getInitialTimeToClose(),
      showSpinner: false,
      feedbackDetails: {},
      nothingSelectedError: false
    };
    this.state = this.initialState;
    store_store__WEBPACK_IMPORTED_MODULE_1__["default"].on('TICKET_CONVERSION', this.onTicketConversion);
  }
  componentWillUnmount() {
    clearTimeout(this.closeTimer);
    clearTimeout(this.timerReset);
    clearTimeout(this.showModalTimer);
    store_store__WEBPACK_IMPORTED_MODULE_1__["default"].off('TICKET_CONVERSION', this.onTicketConversion);
  }
  getInitialTimeToClose() {
    const copy = this.props?.appData?.copy?.baseCopy || {};
    // timeToClose is in seconds
    let timeToClose = copy.$FEEDBACK_CLOSE_TIMER?.match(/<(\d)>/);
    if (timeToClose) {
      timeToClose = +timeToClose[1];
    } else {
      timeToClose = 5;
    }
    return timeToClose;
  }
  onTicketConversion(data) {
    const meta = this.props?.appData?.meta || {};
    this.setState({
      feedbackDetails: {
        movieTitle: meta.title?.en || meta.title?.locale,
        movieSlug: meta.title?.slug,
        movieId: data?.screening?.movieId,
        screeningId: data?.screening?.id,
        provider: data?.provider,
        deeplink: data?.screening?.link?.[data?.provider],
        studio: meta.studio?.name || meta.studio?.slug,
        region: meta.region?.slug,
        vanity: meta.url
      }
    });
    this.showModalTimer = setTimeout(() => {
      store_store__WEBPACK_IMPORTED_MODULE_1__["default"].emit('SHOW_USER_FEEDBACK_MODAL', true);
    }, 1000);
  }
  onPromoImageClick(promoImage) {
    if (!promoImage?.link) return;
    (0,utils_bolt__WEBPACK_IMPORTED_MODULE_7__.navigateInternally)(promoImage.link);
    this.closeModal();
  }
  closeModal() {
    const {
      showSpinner,
      step
    } = this.state;
    if (showSpinner) return;
    if (step !== this.THANK_YOU_STEP) {
      store_store__WEBPACK_IMPORTED_MODULE_1__["default"].emit('USER_FEEDBACK_MODAL_DISMISSED');
    }
    clearTimeout(this.closeTimer);
    store_store__WEBPACK_IMPORTED_MODULE_1__["default"].emit('SHOW_USER_FEEDBACK_MODAL', false);
    this.timerReset = setTimeout(() => {
      this.apiError = false;
      this.setState(this.initialState);
    }, 300);
  }
  changeStep(step) {
    this.setState({
      step
    });
  }
  selectIssue(issue) {
    if (this.state.showSpinner) return;
    const copy = this.props?.appData?.copy?.baseCopy || {};
    const bookingIssue = issue ? issue : copy.$FEEDBACK_OTHER;
    this.setState({
      bookingIssue,
      nothingSelectedError: false
    });
  }
  async sendFeedback(_ref) {
    let {
      bookingIssue,
      ticketQuantity,
      ticketsBooked
    } = _ref;
    if (!bookingIssue && !ticketQuantity) {
      this.setState({
        nothingSelectedError: true
      });
      return;
    }
    if (this.state.showSpinner) return;
    this.setState({
      showSpinner: true,
      nothingSelectedError: false
    });
    const {
      feedbackDetails
    } = this.state;
    const body = {
      movie_title: feedbackDetails.movieTitle,
      studio: feedbackDetails.studio,
      region: feedbackDetails.region,
      vanity: feedbackDetails.vanity,
      timestamp: new Date().toISOString(),
      movie_slug: feedbackDetails.movieSlug,
      screening_id: feedbackDetails.screeningId,
      movie_id: feedbackDetails.movieId,
      screening_deeplink: feedbackDetails.deeplink,
      data_provider: feedbackDetails.provider
    };
    if (bookingIssue) {
      body.feedback_type = 'issue';
      body.issue = bookingIssue;
      store_store__WEBPACK_IMPORTED_MODULE_1__["default"].emit('USER_FEEDBACK_MODAL_ISSUE_SUBMITTED');
    } else if (ticketQuantity) {
      body.feedback_type = 'tickets';
      body.num_tickets = ticketQuantity;
      body.already_booked = ticketsBooked;
      store_store__WEBPACK_IMPORTED_MODULE_1__["default"].emit('USER_FEEDBACK_MODAL_TICKET_FEEDBACK_SUBMITTED');
    }
    const res = await (0,utils_bolt_api__WEBPACK_IMPORTED_MODULE_8__.userFeedbackApi)({
      method: 'post',
      path: '/send-to-googlesheet',
      body
    });
    this.setState({
      showSpinner: false
    });
    if (res.result !== 'ok') {
      this.apiError = true;
    }
    this.changeStep(this.THANK_YOU_STEP);
    this.startCloseTimer();
  }
  startCloseTimer() {
    const {
      timeToClose
    } = this.state;
    this.closeTimer = setTimeout(() => {
      this.setState({
        timeToClose: timeToClose - 1
      });
      if (timeToClose - 1 < 1) {
        this.closeModal();
        return;
      }
      this.startCloseTimer();
    }, 1000);
  }
  renderInitialStep() {
    const copy = this.props?.appData?.copy?.baseCopy || {};
    const promoImage = this.props?.appData?.options?.userFeedbackModal?.promoImage;
    const buttons = [{
      copy: copy.$FEEDBACK_STILL_BROWSING,
      onClick: this.closeModal
    }, {
      copy: copy.$FEEDBACK_YES,
      onClick: () => this.changeStep(this.BOOKED_TICKETS_STEP)
    }, {
      copy: copy.$FEEDBACK_WILL_BOOK_LATER,
      onClick: () => this.changeStep(this.WILL_BOOK_STEP)
    }];
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].content
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(components_bolt_icons_doubleTickets__WEBPACK_IMPORTED_MODULE_3__["default"], {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].doubleTickets
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].title
    }, copy.$FEEDBACK_DID_YOU_BOOK_TICKETS), buttons.map(btn => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].longBtn,
      onClick: btn.onClick,
      key: `feedback-btn-${btn.copy}`
    }, btn.copy)), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].problem,
      onClick: () => this.changeStep(this.BOOKING_ISSUE_STEP)
    }, copy.$FEEDBACK_PROBLEM_ON_PAGE), !!promoImage && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].promoImageBtn,
      onClick: () => this.onPromoImageClick(promoImage)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("img", {
      src: promoImage.src,
      alt: promoImage.alt
    })));
  }
  renderTicketQuantityStep(step) {
    const copy = this.props?.appData?.copy?.baseCopy || {};
    const title = step === this.BOOKED_TICKETS_STEP ? copy.$FEEDBACK_HOW_MANY_TICKETS_PURCHASED : copy.$FEEDBACK_HOW_MANY_TICKETS_WILL_PURCHASE;
    const {
      showSpinner
    } = this.state;
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].content
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(components_bolt_icons_doubleTickets__WEBPACK_IMPORTED_MODULE_3__["default"], {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].doubleTickets
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].title
    }, title), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].quantities
    }, Array(10).fill('').map((a, i) => {
      const quantity = i === 9 ? `${i + 1}+` : i + 1;
      return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
        class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].quantityBtn,
        key: `step-quantity-${i}`,
        onClick: () => this.sendFeedback({
          ticketQuantity: quantity,
          ticketsBooked: step === this.BOOKED_TICKETS_STEP
        })
      }, quantity);
    })), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: (0,utils_utils__WEBPACK_IMPORTED_MODULE_6__.joinClasses)(components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].spinner, components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].ticketStepSpinner, showSpinner && components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].show)
    }));
  }
  renderBookingIssueStep() {
    const copy = this.props?.appData?.copy?.baseCopy || {};
    const {
      bookingIssue,
      showSpinner,
      nothingSelectedError
    } = this.state;
    const buttons = [{
      copy: copy.$FEEDBACK_LINK_BROKEN,
      onClick: () => this.selectIssue(copy.$FEEDBACK_LINK_BROKEN)
    }, {
      copy: copy.$FEEDBACK_LINK_INCORRECT,
      onClick: () => this.selectIssue(copy.$FEEDBACK_LINK_INCORRECT)
    }, {
      copy: copy.$FEEDBACK_COULD_NOT_FIND_SHOWTIME,
      onClick: () => this.selectIssue(copy.$FEEDBACK_COULD_NOT_FIND_SHOWTIME)
    }];
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].content
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(components_bolt_icons_doubleTickets__WEBPACK_IMPORTED_MODULE_3__["default"], {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].doubleTickets
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].title
    }, copy.$FEEDBACK_DESCRIBE_BOOKING_ISSUE), buttons.map(btn => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      class: (0,utils_utils__WEBPACK_IMPORTED_MODULE_6__.joinClasses)(components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].longBtn, bookingIssue && bookingIssue !== btn.copy && components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].fadeIssue),
      onClick: btn.onClick,
      key: `feedback-issue-btn-${btn.copy}`
    }, btn.copy)), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("input", {
      class: (0,utils_utils__WEBPACK_IMPORTED_MODULE_6__.joinClasses)(components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].otherIssue, bookingIssue && bookingIssue !== this.$otherIssue.value && bookingIssue !== copy.$FEEDBACK_OTHER && components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].fadeIssue),
      type: "text",
      ref: $ref => this.$otherIssue = $ref,
      onInput: e => this.selectIssue(e.target.value),
      onFocus: () => this.selectIssue(this.$otherIssue.value),
      placeholder: copy.$FEEDBACK_OTHER
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      class: (0,utils_utils__WEBPACK_IMPORTED_MODULE_6__.joinClasses)(components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].sendBtn, showSpinner && components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].sending),
      onClick: () => this.sendFeedback({
        bookingIssue
      })
    }, copy.$FEEDBACK_SEND, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].spinner
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      class: (0,utils_utils__WEBPACK_IMPORTED_MODULE_6__.joinClasses)(components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].pleaseSelect, nothingSelectedError && components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].show)
    }, copy.$FEEDBACK_PLEASE_SELECT)));
  }
  renderThankYouStep() {
    const {
      timeToClose
    } = this.state;
    const copy = this.props?.appData?.copy?.baseCopy || {};
    let closeWarning = timeToClose === 1 && copy.$FEEDBACK_CLOSE_TIMER_SINGULAR ? copy.$FEEDBACK_CLOSE_TIMER_SINGULAR : copy.$FEEDBACK_CLOSE_TIMER;
    closeWarning = closeWarning?.replace(/<\d>/g, timeToClose);
    const title = this.apiError ? copy.$FEEDBACK_ERROR : copy.$FEEDBACK_THANK_YOU;
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].content
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(components_bolt_icons_check__WEBPACK_IMPORTED_MODULE_5__["default"], {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].checkMark
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].title
    }, title), closeWarning && timeToClose > 0 && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("span", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].closeWarning
    }, closeWarning));
  }
  render(props, state) {
    const {
      step
    } = state;
    const show = props?.data?.show;
    return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: (0,utils_utils__WEBPACK_IMPORTED_MODULE_6__.joinClasses)(components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].container, show && components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].show)
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].bg,
      onClick: this.closeModal
    }), (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("div", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].modal
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)("button", {
      class: components_bolt_userFeedbackModal_userFeedbackModal_sss__WEBPACK_IMPORTED_MODULE_9__["default"].closeBtn,
      onClick: this.closeModal
    }, (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(components_bolt_icons_close__WEBPACK_IMPORTED_MODULE_4__["default"], null)), step === this.INITIAL_STEP && this.renderInitialStep(), step === this.BOOKED_TICKETS_STEP && this.renderTicketQuantityStep(step), step === this.WILL_BOOK_STEP && this.renderTicketQuantityStep(step), step === this.BOOKING_ISSUE_STEP && this.renderBookingIssueStep(), step === this.THANK_YOU_STEP && this.renderThankYouStep()));
  }
}

/***/ }),

/***/ "./static/src/store/bolt/userFeedbackModal.js":
/*!****************************************************!*\
  !*** ./static/src/store/bolt/userFeedbackModal.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! store/store */ "./static/src/store/store.js");
/* harmony import */ var store_bolt_trackingV2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! store/bolt/trackingV2 */ "./static/src/store/bolt/trackingV2.js");


store_store__WEBPACK_IMPORTED_MODULE_0__["default"].on('SHOW_USER_FEEDBACK_MODAL', bool => {
  store_store__WEBPACK_IMPORTED_MODULE_0__["default"].get().userFeedbackModal.set({
    show: bool
  });
});
store_store__WEBPACK_IMPORTED_MODULE_0__["default"].on('USER_FEEDBACK_MODAL_DISMISSED', () => (0,store_bolt_trackingV2__WEBPACK_IMPORTED_MODULE_1__.fire)('userFeedbackModalDismissed'));
store_store__WEBPACK_IMPORTED_MODULE_0__["default"].on('USER_FEEDBACK_MODAL_ISSUE_SUBMITTED', () => (0,store_bolt_trackingV2__WEBPACK_IMPORTED_MODULE_1__.fire)('userFeedbackModalIssueSubmitted'));
store_store__WEBPACK_IMPORTED_MODULE_0__["default"].on('USER_FEEDBACK_MODAL_TICKET_FEEDBACK_SUBMITTED', () => (0,store_bolt_trackingV2__WEBPACK_IMPORTED_MODULE_1__.fire)('userFeedbackModalTicketFeedbackSubmitted'));

/***/ }),

/***/ "./static/src/components/bolt/userFeedbackModal/userFeedbackModal.sss":
/*!****************************************************************************!*\
  !*** ./static/src/components/bolt/userFeedbackModal/userFeedbackModal.sss ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"userFeedbackModal__container__eYSEi","show":"userFeedbackModal__show__CckkB","bg":"userFeedbackModal__bg__v6ww4","modal":"userFeedbackModal__modal__SLbFj","closeBtn":"userFeedbackModal__closeBtn__pFvdV","content":"userFeedbackModal__content__FiOMR","doubleTickets":"userFeedbackModal__doubleTickets__FByYR","checkMark":"userFeedbackModal__checkMark__ZIJ1_","title":"userFeedbackModal__title___sMcB","longBtn":"userFeedbackModal__longBtn__Vni_R","problem":"userFeedbackModal__problem__MNZHq","promoImageBtn":"userFeedbackModal__promoImageBtn__BSliW","quantities":"userFeedbackModal__quantities__kPrtF","quantityBtn":"userFeedbackModal__quantityBtn__AcXr8","otherIssue":"userFeedbackModal__otherIssue__XDLTL","fadeIssue":"userFeedbackModal__fadeIssue__qbKCp","sendBtn":"userFeedbackModal__sendBtn__YfBZQ","spinner":"userFeedbackModal__spinner__kPWs3","sending":"userFeedbackModal__sending__HI7dX","pleaseSelect":"userFeedbackModal__pleaseSelect__sERw8","closeWarning":"userFeedbackModal__closeWarning__XJP_k","spin":"userFeedbackModal__spin__sxPiV","ticketStepSpinner":"userFeedbackModal__ticketStepSpinner__GRxjn"});

/***/ })

}]);
//# sourceMappingURL=userFeedbackModal.bolt.js.map?v=27706a3a73033097e1c3